- supporters = DB[:cdo_donors].where(level_s:'platinum').or(level_s:'gold').order(:url_s).all
- supporters.shuffle!

%link{:href=>"/css/donor_slider2.css", :rel=>"stylesheet"}
%script{:src=>"/js/donor_slider2.js"}

.donor-slider

  .badge-containers-shown{style: "position: relative; height: 120px"}
    #badgedest_0{style: "position: absolute; top: 0; left: 0%"}
    #badgedest_1{style: "position: absolute; top: 0; left: 33%"}
    #badgedest_2{style: "position: absolute; top: 0; left: 66%"}

  .badge-containers-hidden{style: "display: none"}
    - supporters.each_with_index do |supporter, index|
      - avatar_url = avatar_image(supporter[:name_s])
      .badge{id: "donorbadge_#{index}", style: "height: 90px; opacity: 1"}
        %a{:href=>supporter[:url_s], :target=> "_blank"}
          - if avatar_url != nil
            - if supporter[:kind_s] != "corporate" && supporter[:name_s] != "Omidyar Network"
              %img{:src=> avatar_url, :style=>"float: left"}
            - else
              %img{:src=> avatar_url}
          - if supporter[:kind_s] != "corporate" &&  supporter[:name_s] != "Omidyar Network"
            %p.label
              =supporter[:name_s]

.clear{style: "clear:both"}
