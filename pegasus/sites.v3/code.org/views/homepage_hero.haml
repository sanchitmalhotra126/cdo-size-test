-#### Hero section

:css
  @media screen and (max-width: 420px)
  {
    .captions {font-size: 12px}
  }
  @media screen and (min-width: 421px)
  {
    .captions {font-size:18px}
  }

#top{style: "position:relative; width:100%; overflow:hidden"}
  - heroes = DB[:cdo_homepage].where(type_s: "widehero", active_s: ["show","hide"], site_s: [request.site,"both"]).all
  - heroes.shuffle!
  - heroes.each_with_index do |entry, index|
    - display = entry[:active_s] == "hide" ? "none" : "block"
    - opacity = index == 0 ? 1 : 0
    .widehero{id: "fullwidth#{index}", style: "display: #{display}; z-index: -5; position:absolute; left: 0; top: 0; background-image: url(#{entry[:image_t]}); background-repeat: no-repeat; background-size: cover; width: 100%; height:100%; opacity: #{opacity}; background-position: 50% 20%"}

  #fullwidth{style: "width: 100%;"}
    .thegap{style: "height: 1px"}
      &nbsp;
    #desktop-header.desktop-feature
      = view :header
    #mobile-header.mobile-feature
      = view :header

  .container_responsive{style: "color: white; font-size: 20px"}
    .col-66{style: "position:relative;"}
      - heroes.each_with_index do |entry, index|
        - display = entry[:active_s] == "hide" ? "none" : "block"
        - unless entry[:text1_s].nil_or_empty?
          - text = I18n.t(entry[:text1_s])
          - unless text.nil_or_empty?
            - lines = text.lines 
            .captions{id: "captionarea#{index}", style: "position:absolute; left:0; top:0; text-align:center; width:100%; color:#fff; line-height:22px"}
              .caption1{style: "left: 50px; top: 60px; position: absolute; opacity: 0; padding:8px; text-shadow: 0 0 5px black"}
                = lines[0]
              .caption2{style: "left: 30px; top: 100px; position: absolute; opacity: 0; padding:8px; text-shadow: 0 0 5px black"}
                = lines[1]
              .caption3{style: "left: 40px; top: 140px; position: absolute; opacity: 0; font-size: 14px; padding:8px; text-shadow: 0 0 5px black"}
                = lines[2]

      &nbsp;

      -# Maintains a large empty chunk so that the hero image remains large and visible at all browser sizes.
      #blankspaceleft.desktop-feature{style: "height:380px"}
      #blankspaceleft.mobile-feature{style: "height:120px"}

    .col-33{style: "position:relative; padding: 20px; margin-top:40px; text-align:center"}   
      - actions = DB[:cdo_homepage].where(type_s: "action", active_s: ["show","hide"], site_s: [request.site,"both"]).all
      - actions.each_with_index do |entry, index|
        - display = entry[:active_s] == "hide" ? "none" : "block"
        .action{style: "display: #{display}; opacity: 0"}
          - if entry[:param1_s] == "video"
            %img{src: "/shared/images/play-button.png", width:"40", onclick: "return showVideo_mainvideo();", style: "cursor: pointer"}
            %span{style: "font-size:20px", onclick: "return showVideo_mainvideo();", style: "cursor: pointer"}
              = I18n.t(entry[:text1_s])
          - elsif entry[:param1_s] == "learn"
            %a{href: "/learn", style: "color:white; font-size:20px"}
              %button{style: "font-weight: 500; font-size: 20px; height: 50px"}
                = I18n.t(entry[:text1_s])
          - elsif entry[:param1_s] == "petition"
            %span{style: "font-weight: 500; font-size: 14px; height: 50px; cursor:pointer", onclick: "expandPetition(); adjustScroll('petitionblock');"}
              = I18n.t(entry[:text1_s])
          %div{style: "height:40px"}

%div{style: "clear:both"}
- if DB[:cdo_homepage].where(type_s: "petition")
  = view :petition_expand
