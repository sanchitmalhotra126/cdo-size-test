<!DOCTYPE html>
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>Unit 8: Collision Detection</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="pretty-printing.css" title="default"/><link rel="stylesheet" type="text/css" href="codemirror.css" title="default"/><link rel="stylesheet" type="text/css" href="bootstrap.css" title="default"/><link rel="stylesheet" type="text/css" href="textbook.css" title="default"/><link rel="stylesheet" type="text/css" href="extra_curriculum.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="codemirror.js"></script><script type="text/javascript" src="runmode.js"></script><script type="text/javascript" src="scheme2.js"></script><script type="text/javascript" src="bootstraplesson.js"></script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML%2Chttp%3A%2F%2Fwww.cs.wpi.edu%2F%7Ekfisler%2Fmathjaxlocal.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Unit 8:<span class="mywbr"> &nbsp;</span> Collision Detection</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Unit_8__.Collision_.Detection%29" class="tocsubseclink" data-pltdoc="x">Unit 8:<span class="mywbr"> &nbsp;</span> Collision Detection</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><a name="(part._.Unit_8__.Collision_.Detection)"></a><p><script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script><noscript></noscript><script type="text/javascript" src="easyXDM.min.js"></script><noscript></noscript><script type="text/javascript" src="json2.min.js"></script><noscript></noscript><script type="text/javascript" src="bootstrap-helpers.js"></script><noscript></noscript></p><div class="headercontent"><span class="BootstrapTitle"><img src="pict.png" alt="image" width="150" height="150"/><span class="TitleUnitNum">Unit 8</span>Collision Detection</span></div><div class="SubFlow" id="overviewDescr"><span class="BootstrapHeader">Unit Overview</span><p>Students derive, discuss, and prove the Pythagorean theorem, then use this theorem&#8212;<wbr></wbr>in conjunction with Booleans&#8212;<wbr></wbr>to detect collisions in their games.</p></div><blockquote class="OverviewBoundary"><iframe id="forum_embed"></iframe><div class="summary"><div class="" id="BootstrapAgenda"><p>Agenda</p><ul class="BootstrapAgendaList"><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">20 min</span><a href="#lesson_1D%20Distance2125"><span class="BSLessonName">1D Distance</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">35 min</span><a href="#lesson_2D%20Distance2126"><span class="BSLessonName">2D Distance</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">25 min</span><a href="#lesson_collide%3F2127"><span class="BSLessonName">collide?</span></a></p></li><li class="BootstrapAgendaListItem"><p><span class="BSLessonDuration">5 min</span><a href="#lesson_Closing2128"><span class="BSLessonName">Closing</span></a></p></li></ul></div><div class=" " id="ProductOutcomes"><span class="BootstrapHeader">Product Outcomes:</span><ul><li><p>Students write the distance function in their game files.</p></li><li><p>Students add a <tt>collide?</tt> function to their games to detect when the player and danger have collided</p></li></ul></div><div class=" " id="LearningObjectives"><span class="BootstrapHeader">Standards and Evidence Statements:</span><p>Standards with prefix BS are specific to Bootstrap; others are from the Common Core. Mouse over each standard to see its corresponding evidence statements. Our <a href="http://www.bootstrapworld.org/materials/Standards.shtml">Standards Document</a> shows which units cover each standard. </p><ul class="LearningObjectivesList"><li class="LearningObjectivesListItem"><div class="LearningObjectivesListItemContents"><p><span style="font-weight: bold">6.NS.5-8</span>: The student performs operations with negative numbers, works with the number line and coordinate plane, order and absolute value of numbers, and solves real-world problems with rational numbers.</p><ul class="EvidenceStatementsList"><li class="EvidenceStatementsListItem"><p>calculation of distance between points with the same first coordinate or same second coordinate.</p></li></ul></div></li><li class="LearningObjectivesListItem"><div class="LearningObjectivesListItemContents"><p><span style="font-weight: bold">8.F.1-3</span>: The student defines, evaluates, and compares functions</p><ul class="EvidenceStatementsList"><li class="EvidenceStatementsListItem"><p> description of a function as a rule that assigns to each input exactly one output</p></li><li class="EvidenceStatementsListItem"><p> comparison of properties of two functions each represented in a different way (algebraically, graphically, numerically in tables, or by verbal descriptions)</p></li></ul></div></li><li class="LearningObjectivesListItem"><div class="LearningObjectivesListItemContents"><p><span style="font-weight: bold">8.G.6-8</span>: The student uses the Pythagorean Theorem to solve real-world and mathematical problems</p><ul class="EvidenceStatementsList"><li class="EvidenceStatementsListItem"><p> explanation of a proof of the Pythagorean Theorem and its converse</p></li><li class="EvidenceStatementsListItem"><p> application of the Pythagorean Theorem to determine unknown side lengths in right triangles in real-world and mathematical problems in two and three dimensions</p></li><li class="EvidenceStatementsListItem"><p> application of the Pythagorean Theorem to find the distance between two points in a coordinate system</p></li></ul></div></li><li class="LearningObjectivesListItem"><div class="LearningObjectivesListItemContents"><p><span style="font-weight: bold">A-SSE.1-2</span>: The student interprets the structure of expressions to solve problems in context</p><ul class="EvidenceStatementsList"><li class="EvidenceStatementsListItem"><p> manipulation of the structure of an expression, for example, writing x4 _ y4 as a difference of squares</p></li></ul></div></li><li class="LearningObjectivesListItem"><div class="LearningObjectivesListItemContents"><p><span style="font-weight: bold">F-IF.1-3</span>: The student uses function notation to describe, evaluate, and interpret functions in terms of domain and range</p><ul class="EvidenceStatementsList"><li class="EvidenceStatementsListItem"><p>description of a function using terms domain and range</p></li></ul></div></li><li class="LearningObjectivesListItem"><div class="LearningObjectivesListItemContents"><p><span style="font-weight: bold">F-IF.4-6</span>: The student interprets the behavior of functions that arise in applications in terms of the context</p><ul class="EvidenceStatementsList"><li class="EvidenceStatementsListItem"><p>relation of the domain of a function to its graph and, where applicable, to the quantitative relationship it describes</p></li></ul></div></li><li class="LearningObjectivesListItem"><div class="LearningObjectivesListItemContents"><p><span style="font-weight: bold">BS-DR.3</span>: Given mutiple test cases, the student can define a function</p><ul class="EvidenceStatementsList"><li class="EvidenceStatementsListItem"><p>given examples and labeled variable(s), define the function</p></li></ul></div></li><li class="LearningObjectivesListItem"><div class="LearningObjectivesListItemContents"><p><span style="font-weight: bold">BS-PL.3</span>: The student is able to use the syntax of the programming language to define values and functions</p><ul class="EvidenceStatementsList"><li class="EvidenceStatementsListItem"><p>defining and using functions</p></li></ul></div></li><li class="LearningObjectivesListItem"><div class="LearningObjectivesListItemContents"><p><span style="font-weight: bold">BS-PL.4</span>: The student is familiar with the syntax for conditionals</p><ul class="EvidenceStatementsList"><li class="EvidenceStatementsListItem"><p>defining and using functions than involve conditionals</p></li></ul></div></li></ul></div><span class="BootstrapHeader">Length: 85 minutes</span><div class=" " id="Glossary"><span class="BootstrapHeader">Glossary:</span><ul><li><p><span class="vocab">hypoteneuse</span>: the side opposite the 90-degree angle in a right triangle</p></li></ul></div><div class=" " id="Materials"><span class="BootstrapHeader">Materials:</span><ul><li><p>Computers w/ DrRacket or WeScheme</p></li><li><p>Student <a href="../_resources/workbook/StudentWorkbook.pdf">workbook</a></p></li><li><p>Pens/pencils for the students, fresh whiteboard markers for teachers</p></li><li><p>Class posters (List of rules, basic skills, course calendar)</p></li><li><p>Language Table (see below)</p></li><li><p>All student computers should have their game templates pre-loaded, with their image files linked in</p></li><li><p>Cutouts of Pythagorean Theorem packets [<a href="../_resources/images/pythag1.png">1</a>, <a href="../_resources/images/pythag2.png">2</a>] - 1 per cluster of students working together</p></li></ul></div><div class=" " id="Preparation"><span class="BootstrapHeader">Preparation:</span><ul><li><p>REQUIRED: Hand out <a href="https://docs.google.com/document/d/1Vkaz30B8AAaze6fMiFJypFb1bOIeH0RzkeaBLCCPf9E/edit?usp=sharing">Warmup Activity Sheet</a>.</p></li></ul></div><div class=" " id="LanguageTable"><table cellspacing="0" class="thetable"><tr><td align="center" class="BootstrapTable"><p class="BootstrapTableHeader">Types</p></td><td align="center" class="BootstrapTable"><p class="BootstrapTableHeader">Functions</p></td></tr><tr><td align="center" class="BootstrapTable"><p>Number</p></td><td align="center" class="BootstrapTable"><p><tt>+ - * / sq sqrt expt</tt></p></td></tr><tr><td align="center" class="BootstrapTable"><p>String</p></td><td align="center" class="BootstrapTable"><p><tt>string-append string-length</tt></p></td></tr><tr><td align="center" class="BootstrapTable"><p>Image</p></td><td align="center" class="BootstrapTable"><p><tt>rectangle circle triangle ellipse star text scale rotate put-image</tt></p></td></tr><tr><td align="center" class="BootstrapTable"><p>Boolean</p></td><td align="center" class="BootstrapTable"><p><tt>= &gt; &lt; string=? and or</tt></p></td></tr></table></div><p><div class="fixed" id="lessonToolbar"><input type="button" value="Show Teacher Notes" onclick="toggleTeacherNotes(this);"></input><br/><input type="button" value="Discussion Group" onclick="showGroup()"/></div></p></div></blockquote><blockquote class="LessonBoundary"><span class="BootstrapPageTitle">1D Distance</span><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><p>Students act out a collision in their game, and reason about the mathematical behavior of collision detection</p><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul><li><p>Students learn how to compute the distance between objects in one dimension</p></li></ul></div><div class="LessonEvidenceStatements"><p><span style="font-weight: bold">Evidence Statements</span></p><ul><li><p>Students will be able to explain how a Number line is used to calculate distance in one dimension</p></li><li><p>Students will be able to explain why the <tt>line-length</tt> function uses a conditional</p></li></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul><li><p>Computers w/ DrRacket or WeScheme</p></li><li><p>Student <a href="../_resources/workbook/StudentWorkbook.pdf">workbook</a></p></li><li><p>Pens/pencils for the students, fresh whiteboard markers for teachers</p></li><li><p>Class posters (List of rules, basic skills, course calendar)</p></li><li><p>Language Table (see below)</p></li></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul></ul></div></div><div class="segment"><p><a name="lesson_1D%20Distance2125"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName">1D Distance



<span class="time">(Time 20 min)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p>Suppose two objects are moving through space, each one having its own (x,y) coordinates. When do their edges start to overlap? They certainly overlap if their coordinates are identical (x1=x2, y1=y2), but what if their coordinates are separated by a small distance? Just how small does that distance need to be before their edges touch?</p></div><div class="teacher"><p>Visual aids are key here: be sure to diagram this on the board!</p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara"><img src="pict_2.png" alt="image" width="186" height="148"/>In one dimension, it&rsquo;s easy to calculate when two objects overlap. In this example, the red circle has a radius of 1, and the blue circle has a radius of 1.5 The circles will overlap if the distance <span style="font-style: italic">between their centers</span> is <span style="font-style: italic">less than the sum of their radii</span> (1+1.5 = 2.5). How is the distance between their centers calculated? In this example, their centers are 3 units apart, because 4-1=3. </div><div class="SIntrapara"><div class="activity"><p>Would the distance between them change if the circles swapped places? Why or why not?</p></div></div></p></div><div class="teacher"><p>Work through a number of examples, using a number line on the board and asking students how they calculate the distance between the points.  Having students act this out can also work well: draw a number line, have two students stand at different points on the line, using their arms or cutouts to give objects of different sizes.  Move students along the number line until they touch, then compute the distance on the number line.  The first few seconds of our <a href="http://www.youtube.com/watch?v=leP3tQ_GZL8&amp;feature=player_embedded">Bootstrap video</a> show this exercise in action.</p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Your game file provides a function called <tt>line-length</tt> that computes the difference between two points on a number line.  Specifically, <tt>line-length</tt> takes two numbers as input and determines the distance between them.
</div><div class="SIntrapara"><div class="activity"><p>What answers would you expect from each of the following two uses of <tt>line-length</tt>:</p><ul><li><p><tt>(line-length 2 5)</tt></p></li><li><p><tt>(line-length 5 2)</tt></p></li></ul><p>Do you expect the same answer regardless of whether the larger or smaller input goes first?</p></div></div></p></div><div class="teacher"><p>If you have time and want to reinforce how conditionals arise from examples, you can have students fill in blanks in Examples such as <tt>(EXAMPLE (line-length 2 5) ___)</tt>, circle what&rsquo;s different, and notice that the circle labels are in different orders depending on whether the first or the second input is larger.  This in turn suggests that the code for <tt>line-length</tt> will need a conditional.  In this case, one could avoid the conditional by taking the absolute value of the difference (the function <tt>abs</tt> does this); if you are working with older students who already know about absolute value you could show it.  Using <tt>cond</tt>, however, emphasizes how code structure arises from examples.</p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Scroll to the <tt>line-length</tt> and <tt>collide?</tt> functions in your game file.  Notice that <tt>line-length</tt> uses a conditional so that it subtracts the smaller number from the bigger one.
</div><div class="SIntrapara"><div class="activity"><p>Can you explain why <tt>line-length</tt> needs to use <tt>cond</tt>? What are the two conditions?</p></div></div></p></div><div class="teacher"><p>The two conditions are: </p><ul><li><p>A is <span style="font-style: italic">less than</span> B</p></li><li><p>B is <span style="font-style: italic">less than or equal</span> to A</p></li></ul></div></li><li class="lessonItem"><div class="student"><p><img src="pict_3.png" alt="image" width="150" height="172"/>Unfortunately, <tt>line-length</tt> can only calculate the distance between points in a single dimension (x or y). How would the distance be calculated between objects moving in 2-dimensions (like your game elements)? <tt>line-length</tt> can calculate the vertical and horizontal lines in the graphic shown here, using the distance between the x-coordinates and the distance between the y-coordinates. Unfortunately, it doesn&rsquo;t tell us how far apart the two centers are.</p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p><img src="pict_4.png" alt="image" width="200" height="200"/>Drawing a line from the center of one object to the other creates a right-triangle, with sides A, B and C. A and B are the vertical and horizontal distances, with C being the distance between the two coordinates. <tt>line-length</tt> can be used to calculate A and B, but how can we calculate C?</p></div><div class="teacher"><p>Students&rsquo; gamefiles all have a value called <tt>*distances-color*</tt>, which is set to the empty string <tt>""</tt>. By changing this to a color such as "yellow" or "red", the game will draw right triangles between each game character, and fill in the lengths for each side. You may want to demonstrate this using your own game file, and have the students follow along. Hint: to make it as easy as possible to see these triangles, set your background to be a simple, black rectangle and slow down the animation functions.</p></div></li><li class="lessonItem"><div class="student"><p>In a right triangle, the side opposite the 90-degree angle is called the <span class="vocab">hypoteneuse</span>. Thinking back to our collision detection, we know that the objects will collide if the hypoteneuse is <span style="font-style: italic">less than the sum of their radii</span>. Knowing the length of the hypoteneuse will be essential to determine when a collision occurs.</p></div><div class="teacher"></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><span class="BootstrapPageTitle">2D Distance</span><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><p>Students explore the Pythagorean Theorem using shapes on paper, then reason about the mathematical behavior of collision detection</p><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul><li><p>Students learn that two-dimensional distance corresponds to the hypoteneuse of a right triangle</p></li><li><p>Students learn how to compute the distance between objects in two dimensions</p></li></ul></div><div class="LessonEvidenceStatements"><p><span style="font-weight: bold">Evidence Statements</span></p><ul><li><p>Students understand that two-dimensional distance needs a different computation than one-dimensional distance</p></li><li><p>Students can draw out the right triangles that compute the distance between two coordinates</p></li><li><p>Students understand that geometric manipulation is a useful tool for figuring out certain computations</p></li><li><p>Some students can use geometric manipulation to derive the Pythagorean Theorem</p></li><li><p>Students can state the Pythagorean Theorem</p></li><li><p>Students can turn the Pythagorean Theorem into code by writing a <tt>distance</tt> function</p></li></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul><li><p>Students write the distance function in their game files.</p></li></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul><li><p>Computers w/ DrRacket or WeScheme</p></li><li><p>Student <a href="../_resources/workbook/StudentWorkbook.pdf">workbook</a></p></li><li><p>All student computers should have their game templates pre-loaded, with their image files linked in</p></li><li><p>Cutouts of Pythagorean Theorem packets [<a href="../_resources/images/pythag1.png">1</a>, <a href="../_resources/images/pythag2.png">2</a>] - 1 per cluster of students working together</p></li><li><p>Pens/pencils for the students, fresh whiteboard markers for teachers</p></li><li><p>Class posters (List of rules, basic skills, course calendar)</p></li><li><p>Language Table (see below)</p></li></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul><li><p>REQUIRED: Hand out <a href="https://docs.google.com/document/d/1Vkaz30B8AAaze6fMiFJypFb1bOIeH0RzkeaBLCCPf9E/edit?usp=sharing">Warmup Activity Sheet</a>.</p></li></ul></div></div><div class="segment"><p><a name="lesson_2D%20Distance2126"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName">2D Distance



<span class="time">(Time 35 min)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p>Ancient civilizations had the same problem: they also struggled to find the distance between points in two dimensions!  Let&rsquo;s work through a way to think about this problem: what expression computes the length of the hypoteneuse of a right triangle?</p></div><div class="teacher"><p>This exercise is best done in small groups of students (2-3 per group).  Pass out Pythagorean Proof materials [<a href="../_resources/images/pythag1.png">1</a>, <a href="../_resources/images/pythag2.png">2</a>] to each group, and have them review all of their materials:</p><ul><li><p>A large, white square with a smaller one drawn inside</p></li><li><p>Four gray triangles, all the same size</p></li></ul></div></li><li class="lessonItem"><div class="student"><p><img src="pict_5.png" alt="image" width="213" height="193"/>For any right triangle, it is possible to draw a picture where the hypoteneuse is used for all four sides of a square. In the diagram shown here, the white square is surrounded by four gray, identical right-triangles, each with sides A and B. The square itself has four identical sides of length C, which are the hypoteneuses for the triangles. If the area of a square is expressed by <script type="math/tex">side * side</script>, then the area of the white space is <script type="math/tex">C^{2}</script>.</p></div><div class="teacher"><p>Have students place their gray triangles onto the paper, to match the diagram.</p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara"><img src="Pythag_anim.gif" alt=""/> By moving the gray triangles, it is possible to create two rectangles that fit inside the original square. While the space taken up by the triangles has shifted, it hasn&rsquo;t gotten any bigger or smaller. Likewise, the white space has been broken into two smaller squares, but in total it remains the same size. By using the side-lengths A and B, one can calculate the area of the two squares.
 </div><div class="SIntrapara"><div class="activity"><p>What is the area of the smaller square? The larger square?</p></div></div></p></div><div class="teacher"><p>You may need to explicitly point out that the side-lengths of the triangles can be used as the side-lengths of the squares.</p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara"><img src="pict_6.png" alt="image" width="217" height="203"/>The smaller square has an area of <script type="math/tex">A^{2}</script>, and the larger square has an area of <script type="math/tex">B^{2}</script>. Since these squares are just the original square broken up into two pieces, we know that the sum of these areas must be equal to the area of the original square:
 <div class="banner"><script type="math/tex">A^{2} + B^{2} = C^{2}</script></div>
 </div><div class="SIntrapara"><div class="activity"><p>Does the same equation work for any values of A and B?</p></div></div></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">To get C by itself, we take the square-root of the sum of the areas:
        <div class="banner"><script type="math/tex">\sqrt{A^{2} + B^{2}} = C</script></div>
</div><div class="SIntrapara"><div class="activity"><p>Turn to <a href="../_resources/workbook/StudentWorkbook.pdf">Page 29</a> in your workbook - you&rsquo;ll see the same formula
written out, this time using <tt>line-length</tt> to calculate the distance along the x- and y-axis. The Circle of Evaluation
has already been partially-completed here, but you&rsquo;ll have to finish it on your own. Once you&rsquo;re done, convert that circle
into code on the bottom of the page.</p></div></div></p></div><div class="teacher"><p>Remind students that A and B are the horizontal and vertical lengths, which are calculated by <tt>line-length</tt>.</p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">The code on <a href="../_resources/workbook/StudentWorkbook.pdf">Page 29</a> will accurately calculate the distance between two objects whose centers are at (3,0) and (0,4). But what about other points? It would be nice to have a function that calculates the distance for <span style="font-style: italic">any</span> two sets of points.
</div><div class="SIntrapara"><div class="activity"><p>Turn to <a href="../_resources/workbook/StudentWorkbook.pdf">Page 30</a> in your workbook, and use the Design Recipe to write your <tt>distance</tt> function.
Feel free to use the work from the previous page as your first example, and then come up with a new one of your own.</p></div></div></p></div><div class="teacher"><p>WARNING: make sure students are giving <tt>line-length</tt> the proper coordinates! Many students mistakenly pair <tt>px</tt> and <tt>py</tt>
together, rather than pairing the x-coordinates. Check student work carefully!</p></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><span class="BootstrapPageTitle">collide?</span><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><p>Students reason about the mathematical behavior of collision detection</p><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul><li><p>Students learn how to use the distance formula to detect collisions in games</p></li></ul></div><div class="LessonEvidenceStatements"><p><span style="font-weight: bold">Evidence Statements</span></p><ul><li><p>Students understand that collisions occur when the distance between objects is below some threshhold</p></li><li><p>Students understand how to determine the collision threshhold between two objects</p></li><li><p>Students write a <tt>collide?</tt> function that determines whether the player and danger elements in their games have collided</p></li></ul></div><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul><li><p>Students add a <tt>collide?</tt> function to their games to detect when the player and danger have collided</p></li></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul><li><p>Computers w/ DrRacket or WeScheme</p></li><li><p>Student <a href="../_resources/workbook/StudentWorkbook.pdf">workbook</a></p></li><li><p>All student computers should have their game templates pre-loaded, with their image files linked in</p></li><li><p>Pens/pencils for the students, fresh whiteboard markers for teachers</p></li><li><p>Class posters (List of rules, basic skills, course calendar)</p></li><li><p>Language Table (see below)</p></li></ul></div><p></p></div><div class="segment"><p><a name="lesson_collide%3F2127"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName">collide?



<span class="time">(Time 25 min)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><div class="SIntrapara">By now, you have defined a function called <tt>distance</tt>: it has four Number inputs (representing playerX, playerY, dangerX and dangerY) and produces a Number representing the distance between those coordinates. If the player is standing at (320, 240) and the danger is at (400, 159), the distance can be calculated by evaluating <tt>(distance 320 240 400 159)</tt>.
</div><div class="SIntrapara"><div class="activity"><p>For each of the following player and danger coordinates, write the expression that uses the <tt>distance</tt> function to compute the distance between the points.  You may write in code or in a Circle of Evaluation:</p><ul><li><p>The player is at (100, 225) and the danger is at (174, 300)</p></li><li><p>The player is at (48, 20) and the danger is at (210, 160)</p></li><li><p>The player is at (300, 60) and the danger is at (130, 240)</p></li></ul></div></div></p></div><div class="teacher"></div></li><li class="lessonItem"><div class="student"><p>Now that you know how to compute the distance between two objects, you need to decide when two objects have collided.  We discussed this earlier in the unit using circles: two circles collide when the distance between them is less than the sum of their radii.  If your objects have more interesting outlines than circles, this computation can be hard to do precisely.  Fortunately, most games don&rsquo;t have to be precise (they move too fast for people to see the exact moment of impact).  We just need to figure out when items are close enough, and use that to detect collision.</p></div><div class="teacher"><p>You can spend additional time on this point by having students think about collision distances between different shapes.  The rest of Bootstrap doesn&rsquo;t require this, but this may be a good point to integrate additional geometry if you are teaching math.</p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Unless the images you chose for your game are very small, 50 is usually a sufficient distance for detecting collisions between your player and danger.  If you are using very small images, you might want to detect a collision when the distance between characters is below 20.
</div><div class="SIntrapara"><div class="activity"><p>How would you check whether the distance between (320, 240) and (400, 159) is <span style="font-style: italic">less than 50?</span>  How would you check whether the distance between those coordinates is less than 20?</p></div></div></p></div><div class="teacher"><p>We are intentionally being vague about the distance units here.  The units are in pixels, which is a notion of distance on a computer screen.  If you want to explain pixels to your students, you can introduce that terminology and talk in terms of "50 pixels".  Otherwise, you can fall back on the number line if you want to explain units for distance. <br/><br/> If you want your students to compute a more accurate distance threshhold, you can use the functions <tt>image-height</tt> and <tt>image-width</tt>, each of which takes an image as input and returns a number.  The returned number is the maximal length of the image along the corresponding dimension (diameter for a circle, width or height for a rectangle or bitmap/url image).  You can have students develop, code, and experiment with expressions like <script type="math/tex">(widthA + widthB)/2</script> to compute the horizontal distance between two objects (where <script type="math/tex">widthA</script> stands for the first object width, etc).  This is a significant computational exercise in its own right, which could form the basis of an extended classroom exercise or homework assignment.</p></div></li><li class="lessonItem"><div class="student"><p><div class="SIntrapara"><div class="activity"><p>Turn to <a href="../_resources/workbook/StudentWorkbook.pdf">Page 31</a> in your workbook, and use the Design Recipe to write a function that produces <tt>true</tt> if the distance between two coordinates is less than 50. HINT: You should use your <tt>distance</tt> function!</p></div></div><div class="SIntrapara"><div class="activity"><p>Enter your <tt>collide?</tt> function definition into your game file.  Play your game, and make your player collide with the danger.  Does your game now do something different than it did before you wrote <tt>collide?</tt>?</p></div></div></p></div><div class="teacher"></div></li></ul></div></div></blockquote><blockquote class="LessonBoundary"><span class="BootstrapPageTitle">Closing</span><div class="content"><div class="overview"><span class="BootstrapLogo"><p><img src="logo.png" alt="bootstrap logo"/></p></span><span class="BootstrapLessonTitle"><span class="BSLessonName"><p>Overview</p></span></span><div class="LessonLearningObjectives"><p><span style="font-weight: bold">Learning Objectives</span></p><ul></ul></div><p></p><div class="LessonProductOutcomes"><p><span style="font-weight: bold">Product Outcomes</span></p><ul></ul></div><div class="LessonMaterials"><p><span style="font-weight: bold">Materials</span></p><ul></ul></div><div class="LessonPreparation"><p><span style="font-weight: bold">Preparation</span></p><ul></ul></div></div><div class="segment"><p><a name="lesson_Closing2128"></a><span></span></p><span class="BootstrapLessonTitle"><span class="BSLessonName">Closing



<span class="time">(Time 5 min)</span>

</span><p></p></span><ul class="lesson"><li class="lessonItem"><div class="student"><p><div class="SIntrapara">Congratulations - your game is complete! Take a minute to scroll through all the code you&rsquo;ve written, and think
back on how much you&rsquo;ve learned: The Circles of Evaluation, datatypes like <tt>Number</tt>, <tt>String</tt>, <tt>Image</tt>
and <tt>Boolean</tt>, the importance of Contracts and Purpose Statements, and Piecewise functions. You&rsquo;ve learned a whole
new programming language, and even more importantly you&rsquo;ve learned the Design Recipe, which lets you solve word problems
and programming challenges by focusing on just one step at a time, making sure that each step is checked against the
one that came before it.
</div><div class="SIntrapara"><div class="activity"><p>Once programmers get something working, they always go back over their code and make sure that it&rsquo;s readable,
clear, and easy for other people to understand. A car that runs well might be nice, but if it&rsquo;s not worth much
if it&rsquo;s impossible for a mechanic to repair or upgrade! Make sure your code is beautiful, inside and out.</p><ul><li><p>Does every function have its contract written out correctly?</p></li><li><p>Does every function have a purpose statement that accurately describes what it does?</p></li><li><p>Does every single function have at least two EXAMPLEs?</p></li><li><p>When you click "Run", do all of your EXAMPLEs pass?</p></li></ul></div></div></p></div><div class="teacher"></div></li></ul></div></div></blockquote><p></p><div id="copyright"><a href="http://creativecommons.org/licenses/by-nc-nd/3.0/"><img src="pict_7.png" alt="image" width="88" height="31"/></a>Bootstrap by <a href="http://www.bootstrapworld.org/">Emmanuel Schanzer</a> is licensed under a <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative Commons 3.0 Unported License</a>. Based on a work at <a href="http://www.bootstrapworld.org/">www.BootstrapWorld.org</a>. Permissions beyond the scope of this license may be available at <a href="mailto:schanzer@BootstrapWorld.org">schanzer@BootstrapWorld.org</a>.</div></div></div><div id="contextindicator">&nbsp;</div></body></html>