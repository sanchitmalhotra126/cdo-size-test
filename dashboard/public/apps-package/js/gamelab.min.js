require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({"/home/ubuntu/staging/apps/build/js/gamelab/main.js":[function(a,b,c){"use strict";var d=a("../appMain"),e=a("../StudioApp").singleton,f=a("./GameLab"),g=a("./blocks"),h=a("./skins"),i=a("./levels");window.gamelabMain=function(a){a.skinsModule=h,a.blocksModule=g;var b=new f;b.injectStudioApp(e),d(b,i,a)}},{"../StudioApp":"/home/ubuntu/staging/apps/build/js/StudioApp.js","../appMain":"/home/ubuntu/staging/apps/build/js/appMain.js","./GameLab":"/home/ubuntu/staging/apps/build/js/gamelab/GameLab.js","./blocks":"/home/ubuntu/staging/apps/build/js/gamelab/blocks.js","./levels":"/home/ubuntu/staging/apps/build/js/gamelab/levels.js","./skins":"/home/ubuntu/staging/apps/build/js/gamelab/skins.js"}],"/home/ubuntu/staging/apps/build/js/gamelab/skins.js":[function(a,b,c){"use strict";var d=a("../skins");c.load=function(a,b){var c=d.load(a,b);return c}},{"../skins":"/home/ubuntu/staging/apps/build/js/skins.js"}],"/home/ubuntu/staging/apps/build/js/gamelab/blocks.js":[function(a,b,c){"use strict";var d=a("./locale");a("../locale"),a("./GameLab");c.install=function(a,b){var c=(b.skin,a.Generator.get("JavaScript"));a.JavaScript=c,a.Blocks.gamelab_foo={helpUrl:"",init:function(){this.setHSV(184,1,.74),this.appendDummyInput().appendTitle(d.foo()),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(d.fooTooltip())}},c.gamelab_foo=function(){return"GameLab.foo();\n"}}},{"../locale":"/home/ubuntu/staging/apps/build/js/locale.js","./GameLab":"/home/ubuntu/staging/apps/build/js/gamelab/GameLab.js","./locale":"/home/ubuntu/staging/apps/build/js/gamelab/locale.js"}],"/home/ubuntu/staging/apps/build/js/gamelab/GameLab.js":[function(a,b,c){"use strict";var d=(a("../locale"),a("./locale")),e=(a("./levels"),a("../codegen")),f=a("./api"),g=a("./apiJavascript"),h=a("../templates/codeWorkspace.html.ejs"),i=a("../templates/visualizationColumn.html.ejs"),j=a("../utils"),k=(a("../dropletUtils"),j.getLodash()),l=a("./dropletConfig"),m=a("../JsDebuggerUi"),n=a("../JSInterpreter"),o=a("../JsInterpreterLogger"),p=a("./GameLabP5"),q=a("./GameLabSprite"),r=(a("../assetManagement/assetPrefix"),a("../templates/AppView.jsx")),s=5e5,t=function(){this.skin=null,this.level=null,this.tickIntervalId=0,this.tickCount=0,this.studioApp_=null,this.JSInterpreter=null,this.consoleLogger_=new o(window.console),this.debugger_=new m(this.runButtonClick.bind(this)),this.eventHandlers={},this.Globals={},this.currentCmdQueue=null,this.drawInProgress=!1,this.setupInProgress=!1,this.startedHandlingEvents=!1,this.gameLabP5=new p,this.api=f,this.api.injectGameLab(this),this.apiJS=g,this.apiJS.injectGameLab(this),l.injectGameLab(this)};b.exports=t,t.prototype.injectStudioApp=function(a){this.studioApp_=a,this.studioApp_.reset=k.bind(this.reset,this),this.studioApp_.runButtonClick=k.bind(this.runButtonClick,this),this.studioApp_.setCheckForEmptyBlocks(!0)},t.baseP5loadImage=null,t.prototype.init=function(b){if(!this.studioApp_)throw new Error("GameLab requires a StudioApp");this.skin=b.skin,this.level=b.level,b.usesAssets=!0,this.gameLabP5.init({gameLab:this,onExecutionStarting:this.onP5ExecutionStarting.bind(this),onPreload:this.onP5Preload.bind(this),onSetup:this.onP5Setup.bind(this),onDraw:this.onP5Draw.bind(this)}),b.dropletConfig=l,b.appMsg=d;var c=!this.level.isProjectLevel,e=k.isEmpty(this.level.softButtons),f=!0,g=a("./controls.html.ejs")({assetUrl:this.studioApp_.assetUrl,finishButton:e&&c}),j=this.debugger_.getMarkup(this.studioApp_.assetUrl,{showButtons:!0,showConsole:!0}),m=function(){return h({assetUrl:this.studioApp_.assetUrl,data:{localeDirection:this.studioApp_.localeDirection(),extraControlRows:j,blockUsed:void 0,idealBlockNumber:void 0,editCode:this.level.editCode,blockCounterClass:"block-counter-default",pinWorkspaceToBottom:!0,readonlyWorkspace:b.readonlyWorkspace}})}.bind(this),n=function(){return i({assetUrl:this.studioApp_.assetUrl,data:{visualization:a("./visualization.html.ejs")(),controls:g,extraControlRows:j,pinWorkspaceToBottom:!0,readonlyWorkspace:b.readonlyWorkspace}})}.bind(this),o=function(){b.loadAudio=this.loadAudio_.bind(this),b.afterInject=this.afterInject_.bind(this,b),b.afterEditorReady=this.afterEditorReady_.bind(this,f),b.unusedConfig=this.gameLabP5.p5specialFunctions,this.studioApp_.init(b),this.debugger_.initializeAfterDomCreated({defaultStepSpeed:1})}.bind(this);React.render(React.createElement(r,{assetUrl:this.studioApp_.assetUrl,isEmbedView:!!b.embed,isShareView:!!b.share,renderCodeWorkspace:m,renderVisualizationColumn:n,onMount:o}),document.getElementById(b.containerId))},t.prototype.loadAudio_=function(){this.studioApp_.loadAudio(this.skin.winSound,"win"),this.studioApp_.loadAudio(this.skin.startSound,"start"),this.studioApp_.loadAudio(this.skin.failureSound,"failure")},t.prototype.afterInject_=function(a){this.studioApp_.isUsingBlockly()&&Blockly.JavaScript.addReservedWords("GameLab,code");var b=document.getElementById("visualizationColumn");b.style.width="400px";var c=document.getElementById("divGameLab");c.style.width="400px",c.style.height="400px"},t.prototype.afterEditorReady_=function(a){a&&this.studioApp_.enableBreakpoints()},t.prototype.reset=function(a){this.eventHandlers={},window.clearInterval(this.tickIntervalId),this.tickIntervalId=0,this.tickCount=0,this.gameLabP5.resetExecution(),this.drawInProgress=!1,this.setupInProgress=!1,this.startedHandlingEvents=!1,this.debugger_.detach(),this.consoleLogger_.detach(),this.JSInterpreter&&(this.JSInterpreter.deinitialize(),this.JSInterpreter=null),this.executionError=null},t.prototype.runButtonClick=function(){this.studioApp_.toggleRunReset("reset"),this.studioApp_.isUsingBlockly()&&Blockly.mainBlockSpace.traceOn(!0),this.studioApp_.attempts++,this.execute()},t.prototype.evalCode=function(a){try{e.evalWith(a,{GameLab:this.api})}catch(b){b!==1/0&&(window.onerror&&window.onerror("UserCode:"+b.message,document.URL,0),window.alert(b))}},t.prototype.execute=function(){return this.studioApp_.reset(),this.studioApp_.isUsingBlockly()&&(this.studioApp_.hasExtraTopBlocks()||this.studioApp_.hasDuplicateVariablesInForLoops())?void this.checkAnswer():(this.gameLabP5.startExecution(),this.level.editCode||(this.code=Blockly.Generator.blockSpaceToCode("JavaScript"),this.evalCode(this.code)),this.studioApp_.playAudio("start"),this.studioApp_.isUsingBlockly()&&Blockly.mainBlockSpaceEditor.setEnableToolbox(!1),void(this.tickIntervalId=window.setInterval(k.bind(this.onTick,this),1)))},t.prototype.initInterpreter=function(){if(this.level.editCode&&(this.JSInterpreter=new n({studioApp:this.studioApp_,maxInterpreterStepsPerTick:s,customMarshalGlobalProperties:this.gameLabP5.getCustomMarshalGlobalProperties()}),this.JSInterpreter.onExecutionError.register(this.handleExecutionError.bind(this)),this.consoleLogger_.attachTo(this.JSInterpreter),this.debugger_.attachTo(this.JSInterpreter),this.JSInterpreter.parse({code:this.studioApp_.getCode(),blocks:l.blocks,blockFilter:this.level.executePaletteApisOnly&&this.level.codeFunctions,enableEvents:!0}),this.JSInterpreter.initialized())){q.injectJSInterpreter(this.JSInterpreter),this.gameLabP5.p5specialFunctions.forEach(function(a){var b=this.JSInterpreter.findGlobalFunction(a);b&&(this.eventHandlers[a]=e.createNativeFunctionFromInterpreterFunction(b))},this),e.customMarshalObjectList=this.gameLabP5.getCustomMarshalObjectList();var a=this.gameLabP5.getGlobalPropertyList();for(var b in a)this.JSInterpreter.createGlobalProperty(b,a[b][0],a[b][1])}},t.prototype.onTick=function(){this.tickCount++,this.JSInterpreter&&(this.JSInterpreter.executeInterpreter(),!this.startedHandlingEvents&&this.JSInterpreter.startedHandlingEvents&&(this.startedHandlingEvents=!0,this.gameLabP5.notifyUserGlobalCodeComplete()),this.completeSetupIfSetupComplete(),this.completeRedrawIfDrawComplete())},t.prototype.onP5ExecutionStarting=function(){this.gameLabP5.p5eventNames.forEach(function(a){window[a]=function(){this.JSInterpreter&&this.eventHandlers[a]&&this.eventHandlers[a].apply(null)}.bind(this)},this)},t.prototype.onP5Preload=function(){this.initInterpreter(),this.JSInterpreter&&this.JSInterpreter.initialized()&&(this.JSInterpreter.executeInterpreter(!0),this.eventHandlers.preload&&this.eventHandlers.preload.apply(null))},t.prototype.onP5Setup=function(){if(this.JSInterpreter){for(var a in this.gameLabP5.p5._preloadMethods)this.JSInterpreter.createGlobalProperty(a,this.gameLabP5.p5[a],this.gameLabP5.p5);this.eventHandlers.setup&&(this.setupInProgress=!0,this.eventHandlers.setup.apply(null)),this.completeSetupIfSetupComplete()}},t.prototype.completeSetupIfSetupComplete=function(){this.setupInProgress&&this.JSInterpreter.seenReturnFromCallbackDuringExecution&&(this.gameLabP5.afterSetupComplete(),this.setupInProgress=!1)},t.prototype.onP5Draw=function(){this.JSInterpreter&&this.eventHandlers.draw&&(this.drawInProgress=!0,this.eventHandlers.draw.apply(null)),this.completeRedrawIfDrawComplete()},t.prototype.completeRedrawIfDrawComplete=function(){this.drawInProgress&&this.JSInterpreter.seenReturnFromCallbackDuringExecution&&(this.gameLabP5.afterDrawComplete(),this.drawInProgress=!1,$("#bubble").text("FPS: "+this.gameLabP5.getFrameRate().toFixed(0)))},t.prototype.handleExecutionError=function(a,b){throw this.consoleLogger_.log(a),a},t.prototype.executeCmd=function(a,b,c){console.log("GameLab executeCmd "+b)},t.prototype.finishExecution_=function(){this.studioApp_.isUsingBlockly()&&Blockly.mainBlockSpace.highlightBlock(null),this.checkAnswer()},t.prototype.displayFeedback_=function(){var a=this.level;this.studioApp_.displayFeedback({app:"gamelab",skin:this.skin.id,feedbackType:this.testResults,message:this.message,response:this.response,level:a,showingSharing:!a.disableSharing&&a.freePlay,saveToGalleryUrl:a.freePlay&&this.response&&this.response.save_to_gallery_url,appStrings:{reinfFeedbackMsg:d.reinfFeedbackMsg(),sharingText:d.shareDrawing()}})},t.prototype.onReportComplete=function(a){this.response=a;var b=document.getElementById("runButton");b.disabled=!1,this.displayFeedback_()},t.prototype.checkAnswer=function(){var a=this.level,b=a.freePlay&&(!a.editCode||!this.executionError);this.testResults=this.studioApp_.getTestResults(b);var c;if(this.studioApp_.isUsingBlockly()){var d=Blockly.Xml.blockSpaceToDom(Blockly.mainBlockSpace);c=Blockly.Xml.domToText(d)}this.message=void 0,a.editCode&&(c=this.studioApp_.editor.getValue()),a.freePlay&&(this.testResults=this.studioApp_.TestResults.FREE_PLAY),this.studioApp_.stopLoopingAudio("start"),this.testResults===this.studioApp_.TestResults.FREE_PLAY||this.testResults>=this.studioApp_.TestResults.TOO_MANY_BLOCKS_FAIL?this.studioApp_.playAudio("win"):this.studioApp_.playAudio("failure");var e={app:"gamelab",level:a.id,builder:a.builder,result:b,testResult:this.testResults,program:encodeURIComponent(c),onComplete:k.bind(this.onReportComplete,this)};this.studioApp_.report(e),this.studioApp_.isUsingBlockly()&&Blockly.mainBlockSpaceEditor.setEnableToolbox(!0)}},{"../JSInterpreter":"/home/ubuntu/staging/apps/build/js/JSInterpreter.js","../JsDebuggerUi":"/home/ubuntu/staging/apps/build/js/JsDebuggerUi.js","../JsInterpreterLogger":"/home/ubuntu/staging/apps/build/js/JsInterpreterLogger.js","../assetManagement/assetPrefix":"/home/ubuntu/staging/apps/build/js/assetManagement/assetPrefix.js","../codegen":"/home/ubuntu/staging/apps/build/js/codegen.js","../dropletUtils":"/home/ubuntu/staging/apps/build/js/dropletUtils.js","../locale":"/home/ubuntu/staging/apps/build/js/locale.js","../templates/AppView.jsx":"/home/ubuntu/staging/apps/build/js/templates/AppView.jsx","../templates/codeWorkspace.html.ejs":"/home/ubuntu/staging/apps/build/js/templates/codeWorkspace.html.ejs","../templates/visualizationColumn.html.ejs":"/home/ubuntu/staging/apps/build/js/templates/visualizationColumn.html.ejs","../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./GameLabP5":"/home/ubuntu/staging/apps/build/js/gamelab/GameLabP5.js","./GameLabSprite":"/home/ubuntu/staging/apps/build/js/gamelab/GameLabSprite.js","./api":"/home/ubuntu/staging/apps/build/js/gamelab/api.js","./apiJavascript":"/home/ubuntu/staging/apps/build/js/gamelab/apiJavascript.js","./controls.html.ejs":"/home/ubuntu/staging/apps/build/js/gamelab/controls.html.ejs","./dropletConfig":"/home/ubuntu/staging/apps/build/js/gamelab/dropletConfig.js","./levels":"/home/ubuntu/staging/apps/build/js/gamelab/levels.js","./locale":"/home/ubuntu/staging/apps/build/js/gamelab/locale.js","./visualization.html.ejs":"/home/ubuntu/staging/apps/build/js/gamelab/visualization.html.ejs"}],"/home/ubuntu/staging/apps/build/js/gamelab/visualization.html.ejs":[function(require,module,exports){module.exports=function(){var t=function anonymous(locals,filters,escape){escape=escape||function(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var buf=[];with(locals||{})!function(){buf.push('<div id="divGameLab" tabindex="1">\n</div>\n')}();return buf.join("")};return function(a){return t(a,require("ejs").filters)}}()},{ejs:"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/gamelab/levels.js":[function(a,b,c){"use strict";var d=(a("./locale"),a("../utils")),e=a("../block_utils"),f=e.createToolbox,g=e.blockOfType,h=(e.createCategory,b.exports={});h.sandbox={ideal:1/0,requiredBlocks:[],scale:{snapRadius:2},softButtons:["leftButton","rightButton","downButton","upButton"],freePlay:!0,toolbox:f(g("gamelab_foo")),startBlocks:'<block type="when_run" deletable="false" x="20" y="20"></block>'},h.custom=d.extend(h.sandbox,{editCode:!0,codeFunctions:{"var img = loadImage":null,image:null,fill:null,noFill:null,stroke:null,noStroke:null,arc:null,ellipse:null,line:null,point:null,rect:null,triangle:null,text:null,textAlign:null,textSize:null,drawSprites:null,allSprites:null,background:null,width:null,height:null,camera:null,"camera.on":null,"camera.off":null,"camera.active":null,"camera.mouseX":null,"camera.mouseY":null,"camera.position.x":null,"camera.position.y":null,"camera.zoom":null,"var sprite = createSprite":null,setSpeed:null,getAnimationLabel:null,getDirection:null,getSpeed:null,remove:null,addAnimation:null,addImage:null,addSpeed:null,addToGroup:null,bounce:null,collide:null,displace:null,overlap:null,changeAnimation:null,changeImage:null,attractionPoint:null,limitSpeed:null,setCollider:null,setVelocity:null,"sprite.height":null,"sprite.width":null,"sprite.animation":null,depth:null,friction:null,immovable:null,life:null,mass:null,maxSpeed:null,"sprite.position.x":null,"sprite.position.y":null,"sprite.previousPosition.x":null,"sprite.previousPosition.y":null,removed:null,restitution:null,rotateToDirection:null,rotation:null,rotationSpeed:null,scale:null,shapeColor:null,touching:null,"sprite.velocity.x":null,"sprite.velocity.y":null,visible:null,"var anim = loadAnimation":null,animation:null,changeFrame:null,nextFrame:null,previousFrame:null,clone:null,getFrame:null,getLastFrame:null,goToFrame:null,play:null,rewind:null,stop:null,frameChanged:null,frameDelay:null,images:null,looping:null,playing:null,"anim.visible":null,"var group = new Group":null,add:null,"group.remove":null,clear:null,contains:null,get:null,"group.bounce":null,"group.collide":null,"group.displace":null,"group.overlap":null,maxDepth:null,minDepth:null,keyIsPressed:null,key:null,keyCode:null,keyPressed:null,keyReleased:null,keyTyped:null,keyDown:null,keyWentDown:null,keyWentUp:null,mouseX:null,mouseY:null,pmouseX:null,pmouseY:null,mouseButton:null,mouseIsPressed:null,mouseMoved:null,mouseDragged:null,mousePressed:null,mouseReleased:null,mouseClicked:null,mouseWheel:null,forLoop_i_0_4:null,ifBlock:null,ifElseBlock:null,whileBlock:null,addOperator:null,subtractOperator:null,multiplyOperator:null,divideOperator:null,equalityOperator:null,inequalityOperator:null,greaterThanOperator:null,greaterThanOrEqualOperator:null,lessThanOperator:null,lessThanOrEqualOperator:null,andOperator:null,orOperator:null,notOperator:null,randomNumber_min_max:null,mathRound:null,mathAbs:null,mathMax:null,mathMin:null,mathRandom:null,declareAssign_x:null,declareNoAssign_x:null,assign_x:null,declareAssign_str_hello_world:null,substring:null,indexOf:null,includes:null,length:null,toUpperCase:null,toLowerCase:null,declareAssign_list_abd:null,listLength:null,functionParams_none:null,functionParams_n:null,callMyFunction:null,callMyFunction_n:null,"return":null},startBlocks:["function setup() {","  ","}","function draw() {","  ","}",""].join("\n")}),h.ec_sandbox=d.extend(h.custom,{})},{"../block_utils":"/home/ubuntu/staging/apps/build/js/block_utils.js","../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./locale":"/home/ubuntu/staging/apps/build/js/gamelab/locale.js"}],"/home/ubuntu/staging/apps/build/js/gamelab/dropletConfig.js":[function(a,b,c){"use strict";function d(a,b){f(b,a)}var e,f=(a("./locale"),a("./apiJavascript.js"),a("../assetManagement/show")),g=a("../assetManagement/getAssetDropdown"),h="#D3E965",i="#19C3E1",j="#F78183",k="#4DD0E1",l="#FFF176",m="#68D995",i="#64B5F6",n="[Sprite].",o="[Group].",p="[Animation].",q="sprite.",r="group.",s="anim.";c.injectGameLab=function(a){e=a},b.exports.blocks=[{func:"loadImage",category:"Game Lab",paletteParams:["url"],params:['"https://code.org/images/logo.png"'],type:"either",dropdown:{0:function(){return g("image")}},assetTooltip:{0:d.bind(null,"image")}},{func:"var img = loadImage",category:"Game Lab",paletteParams:["url"],params:['"https://code.org/images/logo.png"'],noAutocomplete:!0},{func:"image",category:"Game Lab",paletteParams:["image","srcX","srcY","srcW","srcH","x","y","w","h"],params:["img","0","0","img.width","img.height","0","0","img.width","img.height"]},{func:"fill",category:"Game Lab",paletteParams:["color"],params:["'yellow'"]},{func:"noFill",category:"Game Lab"},{func:"stroke",category:"Game Lab",paletteParams:["color"],params:["'blue'"]},{func:"noStroke",category:"Game Lab"},{func:"arc",category:"Game Lab",paletteParams:["x","y","w","h","start","stop"],params:["0","0","800","800","0","HALF_PI"]},{func:"ellipse",category:"Game Lab",paletteParams:["x","y","w","h"],params:["200","200","400","400"]},{func:"line",category:"Game Lab",paletteParams:["x1","y1","x2","y2"],params:["0","0","400","400"]},{func:"point",category:"Game Lab",paletteParams:["x","y"],params:["200","200"]},{func:"rect",category:"Game Lab",paletteParams:["x","y","w","h"],params:["100","100","200","200"]},{func:"triangle",category:"Game Lab",paletteParams:["x1","y1","x2","y2","x3","y3"],params:["200","0","0","400","400","400"]},{func:"text",category:"Game Lab",paletteParams:["str","x","y","w","h"],params:["'text'","0","0","400","100"]},{func:"textAlign",category:"Game Lab",paletteParams:["horiz","vert"],params:["CENTER","TOP"]},{func:"textSize",category:"Game Lab",paletteParams:["pixels"],params:["12"]},{func:"drawSprites",category:"Game Lab"},{func:"allSprites",category:"Game Lab",block:"allSprites",type:"property"},{func:"background",category:"Game Lab",paletteParams:["color"],params:["'black'"]},{func:"width",category:"Game Lab",type:"property"},{func:"height",category:"Game Lab",type:"property"},{func:"camera",category:"Game Lab",type:"property"},{func:"camera.on",category:"Game Lab"},{func:"camera.off",category:"Game Lab"},{func:"camera.active",category:"Game Lab",type:"property"},{func:"camera.mouseX",category:"Game Lab",type:"property"},{func:"camera.mouseY",category:"Game Lab",type:"property"},{func:"camera.position.x",category:"Game Lab",type:"property"},{func:"camera.position.y",category:"Game Lab",type:"property"},{func:"camera.zoom",category:"Game Lab",type:"property"},{func:"createSprite",category:"Sprites",paletteParams:["x","y","width","height"],params:["200","200","30","30"],type:"either"},{func:"var sprite = createSprite",category:"Sprites",paletteParams:["x","y","width","height"],params:["200","200","30","30"],noAutocomplete:!0,docFunc:"createSprite"},{func:"setSpeed",blockPrefix:q,category:"Sprites",paletteParams:["speed","angle"],params:["1","90"],tipPrefix:n,modeOptionName:"*.setSpeed"},{func:"getAnimationLabel",blockPrefix:q,category:"Sprites",tipPrefix:n,modeOptionName:"*.getAnimationLabel",type:"value"},{func:"getDirection",blockPrefix:q,category:"Sprites",tipPrefix:n,modeOptionName:"*.getDirection",type:"value"},{func:"getSpeed",blockPrefix:q,category:"Sprites",tipPrefix:n,modeOptionName:"*.getSpeed",type:"value"},{func:"remove",blockPrefix:q,category:"Sprites",tipPrefix:n,modeOptionName:"*.remove"},{func:"addAnimation",blockPrefix:q,category:"Sprites",paletteParams:["label","animation"],params:['"anim1"',"anim"],tipPrefix:n,modeOptionName:"*.addAnimation"},{func:"addImage",blockPrefix:q,category:"Sprites",paletteParams:["label","image"],params:['"img1"',"img"],tipPrefix:n,modeOptionName:"*.addImage"},{func:"addSpeed",blockPrefix:q,category:"Sprites",paletteParams:["speed","angle"],params:["1","90"],tipPrefix:n,modeOptionName:"*.addSpeed"},{func:"addToGroup",blockPrefix:q,category:"Sprites",paletteParams:["group"],params:["group"],tipPrefix:n,modeOptionName:"*.addToGroup"},{func:"bounce",blockPrefix:q,category:"Sprites",paletteParams:["target"],params:["group"],tipPrefix:n,modeOptionName:"*.bounce",type:"either"},{func:"collide",blockPrefix:q,category:"Sprites",paletteParams:["target"],params:["group"],tipPrefix:n,modeOptionName:"*.collide",type:"either"},{func:"displace",blockPrefix:q,category:"Sprites",paletteParams:["target"],params:["group"],tipPrefix:n,modeOptionName:"*.displace",type:"either"},{func:"overlap",blockPrefix:q,category:"Sprites",paletteParams:["target"],params:["group"],tipPrefix:n,modeOptionName:"*.overlap",type:"either"},{func:"changeAnimation",blockPrefix:q,category:"Sprites",paletteParams:["label"],params:['"anim1"'],tipPrefix:n,modeOptionName:"*.changeAnimation"},{func:"changeImage",blockPrefix:q,category:"Sprites",paletteParams:["label"],params:['"img1"'],tipPrefix:n,modeOptionName:"*.changeImage"},{func:"attractionPoint",blockPrefix:q,category:"Sprites",paletteParams:["speed","x","y"],params:["1","200","200"],tipPrefix:n,modeOptionName:"*.attractionPoint"},{func:"limitSpeed",blockPrefix:q,category:"Sprites",paletteParams:["max"],params:["3"],tipPrefix:n,modeOptionName:"*.limitSpeed"},{func:"setCollider",blockPrefix:q,category:"Sprites",paletteParams:["type","x","y","w","h"],params:['"rectangle"',"0","0","20","20"],tipPrefix:n,modeOptionName:"*.setCollider"},{func:"setVelocity",blockPrefix:q,category:"Sprites",paletteParams:["x","y"],params:["1","1"],tipPrefix:n,modeOptionName:"*.setVelocity"},{func:"sprite.height",category:"Sprites",modeOptionName:"*.height",type:"property"},{func:"sprite.width",category:"Sprites",modeOptionName:"*.width",type:"property"},{func:"sprite.animation",category:"Sprites",modeOptionName:"*.animation",type:"property"},{func:"depth",blockPrefix:q,category:"Sprites",tipPrefix:n,modeOptionName:"*.depth",type:"property"},{func:"friction",blockPrefix:q,category:"Sprites",tipPrefix:n,modeOptionName:"*.friction",type:"property"},{func:"immovable",blockPrefix:q,category:"Sprites",tipPrefix:n,modeOptionName:"*.immovable",type:"property"},{func:"life",blockPrefix:q,category:"Sprites",tipPrefix:n,modeOptionName:"*.life",type:"property"},{func:"mass",blockPrefix:q,category:"Sprites",tipPrefix:n,modeOptionName:"*.mass",type:"property"},{func:"maxSpeed",blockPrefix:q,category:"Sprites",tipPrefix:n,modeOptionName:"*.maxSpeed",type:"property"},{func:"position",blockPrefix:q,category:"Sprites",tipPrefix:n,modeOptionName:"*.position",type:"property"},{func:"sprite.position.x",category:"Sprites",modeOptionName:"sprite_position_x",type:"property",noAutocomplete:!0},{func:"sprite.position.y",category:"Sprites",modeOptionName:"sprite_position_y",type:"property",noAutocomplete:!0},{func:"previousPosition",blockPrefix:q,category:"Sprites",tipPrefix:n,modeOptionName:"*.previousPosition",type:"property"},{func:"sprite.previousPosition.x",category:"Sprites",modeOptionName:"sprite_previousPosition_x",type:"property",noAutocomplete:!0},{func:"sprite.previousPosition.y",category:"Sprites",modeOptionName:"sprite_previousPosition_y",type:"property",noAutocomplete:!0},{func:"removed",blockPrefix:q,category:"Sprites",tipPrefix:n,modeOptionName:"*.removed",type:"property"},{func:"restitution",blockPrefix:q,category:"Sprites",tipPrefix:n,modeOptionName:"*.restitution",type:"property"},{func:"rotateToDirection",blockPrefix:q,category:"Sprites",tipPrefix:n,modeOptionName:"*.rotateToDirection",type:"property"},{func:"rotation",blockPrefix:q,category:"Sprites",tipPrefix:n,modeOptionName:"*.rotation",type:"property"},{func:"rotationSpeed",blockPrefix:q,category:"Sprites",tipPrefix:n,modeOptionName:"*.rotationSpeed",type:"property"},{func:"scale",blockPrefix:q,category:"Sprites",tipPrefix:n,modeOptionName:"*.scale",type:"property"},{func:"shapeColor",blockPrefix:q,category:"Sprites",tipPrefix:n,modeOptionName:"*.shapeColor",type:"property"},{func:"touching",blockPrefix:q,category:"Sprites",tipPrefix:n,modeOptionName:"*.touching",type:"property"},{func:"velocity",blockPrefix:q,category:"Sprites",tipPrefix:n,modeOptionName:"*.velocity",type:"property"},{func:"sprite.velocity.x",category:"Sprites",modeOptionName:"sprite_velocity_x",type:"property",noAutocomplete:!0},{func:"sprite.velocity.y",category:"Sprites",modeOptionName:"sprite_velocity_y",type:"property",noAutocomplete:!0},{func:"visible",blockPrefix:q,category:"Sprites",tipPrefix:n,modeOptionName:"*.visible",type:"property"},{func:"loadAnimation",category:"Animations",paletteParams:["url1","url2"],params:['"http://p5play.molleindustria.org/examples/assets/ghost_standing0001.png"','"http://p5play.molleindustria.org/examples/assets/ghost_standing0002.png"'],type:"either"},{func:"var anim = loadAnimation",category:"Animations",paletteParams:["url1","url2"],params:['"http://p5play.molleindustria.org/examples/assets/ghost_standing0001.png"','"http://p5play.molleindustria.org/examples/assets/ghost_standing0002.png"'],noAutocomplete:!0,docFunc:"loadAnimation"},{func:"animation",category:"Animations",paletteParams:["animation","x","y"],params:["anim","50","50"]},{func:"changeFrame",blockPrefix:s,category:"Animations",paletteParams:["frame"],params:["0"],tipPrefix:p,modeOptionName:"*.changeFrame"},{func:"nextFrame",blockPrefix:s,category:"Animations",tipPrefix:p,modeOptionName:"*.nextFrame"},{func:"previousFrame",blockPrefix:s,category:"Animations",tipPrefix:p,modeOptionName:"*.previousFrame"},{func:"clone",blockPrefix:s,category:"Animations",tipPrefix:p,modeOptionName:"*.clone",type:"value"},{func:"getFrame",blockPrefix:s,category:"Animations",tipPrefix:p,modeOptionName:"*.getFrame",type:"value"},{func:"getLastFrame",blockPrefix:s,category:"Animations",tipPrefix:p,modeOptionName:"*.getLastFrame",type:"value"},{func:"goToFrame",blockPrefix:s,category:"Animations",paletteParams:["frame"],params:["1"],tipPrefix:p,modeOptionName:"*.goToFrame"},{func:"play",blockPrefix:s,category:"Animations",tipPrefix:p,modeOptionName:"*.play"},{func:"rewind",blockPrefix:s,category:"Animations",tipPrefix:p,modeOptionName:"*.rewind"},{func:"stop",blockPrefix:s,category:"Animations",tipPrefix:p,modeOptionName:"*.stop"},{func:"frameChanged",blockPrefix:s,category:"Animations",tipPrefix:p,modeOptionName:"*.frameChanged",type:"property"},{func:"frameDelay",blockPrefix:s,category:"Animations",tipPrefix:p,modeOptionName:"*.frameDelay",type:"property"},{func:"images",blockPrefix:s,category:"Animations",tipPrefix:p,modeOptionName:"*.images",type:"property"},{func:"looping",blockPrefix:s,category:"Animations",tipPrefix:p,modeOptionName:"*.looping",type:"property"},{func:"playing",blockPrefix:s,category:"Animations",tipPrefix:p,modeOptionName:"*.playing",type:"property"},{func:"anim.visible",category:"Animations",modeOptionName:"*.visible",type:"property"},{func:"Group",category:"Groups",type:"either"},{func:"var group = new Group",category:"Groups",type:"either",docFunc:"Group"},{func:"add",blockPrefix:r,category:"Groups",paletteParams:["sprite"],params:["sprite"],tipPrefix:o,modeOptionName:"*.add"},{func:"group.remove",category:"Groups",paletteParams:["sprite"],params:["sprite"],modeOptionName:"group_remove",noAutocomplete:!0},{func:"clear",blockPrefix:r,category:"Groups",tipPrefix:o,modeOptionName:"*.clear"},{func:"contains",blockPrefix:r,category:"Groups",paletteParams:["sprite"],params:["sprite"],tipPrefix:o,modeOptionName:"*.contains",type:"value"},{func:"get",blockPrefix:r,category:"Groups",paletteParams:["i"],params:["0"],tipPrefix:o,modeOptionName:"*.get",type:"value"},{func:"group.bounce",category:"Groups",paletteParams:["target"],params:["sprite"],modeOptionName:"group_bounce",noAutocomplete:!0},{func:"group.collide",category:"Groups",paletteParams:["target"],params:["sprite"],modeOptionName:"group_collide",noAutocomplete:!0},{func:"group.displace",category:"Groups",paletteParams:["target"],params:["sprite"],modeOptionName:"group_displace",noAutocomplete:!0},{func:"group.overlap",category:"Groups",paletteParams:["target"],params:["sprite"],modeOptionName:"group_overlap",noAutocomplete:!0},{func:"maxDepth",blockPrefix:r,category:"Groups",tipPrefix:o,modeOptionName:"*.maxDepth",type:"value"},{func:"minDepth",blockPrefix:r,category:"Groups",tipPrefix:o,modeOptionName:"*.minDepth",type:"value"},{func:"keyIsPressed",category:"Events",type:"property"},{func:"key",category:"Events",type:"property"},{func:"keyCode",category:"Events",type:"property"},{func:"keyDown",paletteParams:["code"],params:["UP_ARROW"],category:"Events",type:"value"},{func:"keyWentDown",paletteParams:["code"],params:["UP_ARROW"],category:"Events",type:"value"},{func:"keyWentUp",paletteParams:["code"],params:["UP_ARROW"],category:"Events",type:"value"},{func:"keyPressed",block:"function keyPressed() {}",expansion:"function keyPressed() {\n  __;\n}",category:"Events"},{func:"keyReleased",block:"function keyReleased() {}",expansion:"function keyReleased() {\n  __;\n}",category:"Events"},{func:"keyTyped",block:"function keyTyped() {}",expansion:"function keyTyped() {\n  __;\n}",category:"Events"},{func:"mouseX",category:"Events",type:"property"},{func:"mouseY",category:"Events",type:"property"},{func:"pmouseX",category:"Events",type:"property"},{func:"pmouseY",category:"Events",type:"property"},{func:"mouseButton",category:"Events",type:"property"},{func:"mouseIsPressed",category:"Events",type:"property"},{func:"mouseMoved",block:"function mouseMoved() {}",expansion:"function mouseMoved() {\n  __;\n}",category:"Events"},{func:"mouseDragged",block:"function mouseDragged() {}",expansion:"function mouseDragged() {\n  __;\n}",category:"Events"},{func:"mousePressed",block:"function mousePressed() {}",expansion:"function mousePressed() {\n  __;\n}",category:"Events"},{func:"mouseReleased",block:"function mouseReleased() {}",expansion:"function mouseReleased() {\n  __;\n}",category:"Events"},{func:"mouseClicked",block:"function mouseClicked() {}",expansion:"function mouseClicked() {\n  __;\n}",category:"Events"},{func:"mouseWheel",block:"function mouseWheel() {}",expansion:"function mouseWheel() {\n  __;\n}",category:"Events"},{func:"sin",category:"Math",paletteParams:["angle"],params:["0"],type:"value"},{func:"cos",category:"Math",paletteParams:["angle"],params:["0"],type:"value"},{func:"tan",category:"Math",paletteParams:["angle"],params:["0"],type:"value"},{func:"asin",category:"Math",paletteParams:["value"],params:["0"],type:"value"},{func:"acos",category:"Math",paletteParams:["value"],params:["0"],type:"value"},{func:"atan",category:"Math",paletteParams:["value"],
params:["0"],type:"value"},{func:"atan2",category:"Math",paletteParams:["y","x"],params:["10","10"],type:"value"},{func:"degrees",category:"Math",paletteParams:["radians"],params:["0"],type:"value"},{func:"radians",category:"Math",paletteParams:["degrees"],params:["0"],type:"value"},{func:"angleMode",category:"Math",paletteParams:["mode"],params:["DEGREES"]},{func:"random",category:"Math",paletteParams:["min","max"],params:["1","5"],type:"value"},{func:"randomGaussian",category:"Math",paletteParams:["mean","sd"],params:["0","15"],type:"value"},{func:"randomSeed",category:"Math",paletteParams:["seed"],params:["99"]},{func:"abs",category:"Math",paletteParams:["num"],params:["-1"],type:"value"},{func:"ceil",category:"Math",paletteParams:["num"],params:["0.1"],type:"value"},{func:"constrain",category:"Math",paletteParams:["num","low","high"],params:["1.1","0","1"],type:"value"},{func:"dist",category:"Math",paletteParams:["x1","y1","x2","y2"],params:["0","0","100","100"],type:"value"},{func:"exp",category:"Math",paletteParams:["num"],params:["1"],type:"value"},{func:"floor",category:"Math",paletteParams:["num"],params:["0.9"],type:"value"},{func:"lerp",category:"Math",paletteParams:["start","stop","amt"],params:["0","100","0.1"],type:"value"},{func:"log",category:"Math",paletteParams:["num"],params:["1"],type:"value"},{func:"mag",category:"Math",paletteParams:["a","b"],params:["100","100"],type:"value"},{func:"map",category:"Math",paletteParams:["value","start1","stop1","start2","stop"],params:["0.9","0","1","0","100"],type:"value"},{func:"max",category:"Math",paletteParams:["n1","n2"],params:["1","3"],type:"value"},{func:"min",category:"Math",paletteParams:["n1","n2"],params:["1","3"],type:"value"},{func:"norm",category:"Math",paletteParams:["value","start","stop"],params:["90","0","100"],type:"value"},{func:"pow",category:"Math",paletteParams:["n","e"],params:["10","2"],type:"value"},{func:"round",category:"Math",paletteParams:["num"],params:["0.9"],type:"value"},{func:"sq",category:"Math",paletteParams:["num"],params:["2"],type:"value"},{func:"sqrt",category:"Math",paletteParams:["num"],params:["9"],type:"value"},{func:"x",category:"Vector",modeOptionName:"*.x",type:"property"},{func:"y",category:"Vector",modeOptionName:"*.y",type:"property"}],b.exports.categories={"Game Lab":{color:"yellow",rgb:l,blocks:[]},Sprites:{color:"red",rgb:j,blocks:[]},Animations:{color:"red",rgb:j,blocks:[]},Groups:{color:"red",rgb:j,blocks:[]},Data:{color:"lightgreen",rgb:h,blocks:[]},Drawing:{color:"cyan",rgb:k,blocks:[]},Events:{color:"green",rgb:m,blocks:[]},Advanced:{color:"blue",rgb:i,blocks:[]}},b.exports.additionalPredefValues=["P2D","WEBGL","ARROW","CROSS","HAND","MOVE","TEXT","WAIT","HALF_PI","PI","QUARTER_PI","TAU","TWO_PI","DEGREES","RADIANS","CORNER","CORNERS","RADIUS","RIGHT","LEFT","CENTER","TOP","BOTTOM","BASELINE","POINTS","LINES","TRIANGLES","TRIANGLE_FAN","TRIANGLE_STRIP","QUADS","QUAD_STRIP","CLOSE","OPEN","CHORD","PIE","PROJECT","SQUARE","ROUND","BEVEL","MITER","RGB","HSB","HSL","AUTO","ALT","BACKSPACE","CONTROL","DELETE","DOWN_ARROW","ENTER","ESCAPE","LEFT_ARROW","OPTION","RETURN","RIGHT_ARROW","SHIFT","TAB","UP_ARROW","BLEND","ADD","DARKEST","LIGHTEST","DIFFERENCE","EXCLUSION","MULTIPLY","SCREEN","REPLACE","OVERLAY","HARD_LIGHT","SOFT_LIGHT","DODGE","BURN","THRESHOLD","GRAY","OPAQUE","INVERT","POSTERIZE","DILATE","ERODE","BLUR","NORMAL","ITALIC","BOLD","_DEFAULT_TEXT_FILL","_DEFAULT_LEADMULT","_CTX_MIDDLE","LINEAR","QUADRATIC","BEZIER","CURVE","_DEFAULT_STROKE","_DEFAULT_FILL"],b.exports.showParamDropdowns=!0},{"../assetManagement/getAssetDropdown":"/home/ubuntu/staging/apps/build/js/assetManagement/getAssetDropdown.js","../assetManagement/show":"/home/ubuntu/staging/apps/build/js/assetManagement/show.js","./apiJavascript.js":"/home/ubuntu/staging/apps/build/js/gamelab/apiJavascript.js","./locale":"/home/ubuntu/staging/apps/build/js/gamelab/locale.js"}],"/home/ubuntu/staging/apps/build/js/gamelab/locale.js":[function(a,b,c){"use strict";b.exports=window.blockly.gamelab_locale},{}],"/home/ubuntu/staging/apps/build/js/gamelab/controls.html.ejs":[function(require,module,exports){module.exports=function(){var t=function anonymous(locals,filters,escape){escape=escape||function(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var buf=[];with(locals||{})!function(){buf.push("");var a=require("../locale");buf.push("\n"),buf.push('\n\n<div id="soft-buttons" class="soft-buttons-none">\n  <button id="leftButton" disabled=true class="arrow">\n    <img src="',escape(assetUrl("media/1x1.gif")),'" class="left-btn icon21">\n  </button>\n  <button id="rightButton" disabled=true class="arrow">\n    <img src="',escape(assetUrl("media/1x1.gif")),'" class="right-btn icon21">\n  </button>\n  <button id="upButton" disabled=true class="arrow">\n    <img src="',escape(assetUrl("media/1x1.gif")),'" class="up-btn icon21">\n  </button>\n  <button id="downButton" disabled=true class="arrow">\n    <img src="',escape(assetUrl("media/1x1.gif")),'" class="down-btn icon21">\n  </button>\n</div>\n\n'),finishButton&&buf.push('\n  <div id="share-cell" class="share-cell-none">\n    <button id="finishButton" class="share">\n      <img src="',escape(assetUrl("media/1x1.gif")),'">',escape(a.finish()),"\n    </button>\n  </div>\n"),buf.push("\n")}();return buf.join("")};return function(a){return t(a,require("ejs").filters)}}()},{"../locale":"/home/ubuntu/staging/apps/build/js/locale.js",ejs:"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/gamelab/apiJavascript.js":[function(a,b,c){"use strict";var d;c.injectGameLab=function(a){d=a},c.foo=function(){d.executeCmd(null,"foo")}},{}],"/home/ubuntu/staging/apps/build/js/gamelab/api.js":[function(a,b,c){"use strict";var d;c.injectGameLab=function(a){d=a}},{}],"/home/ubuntu/staging/apps/build/js/gamelab/GameLabP5.js":[function(a,b,c){"use strict";var d=a("./GameLabSprite"),e=a("../assetManagement/assetPrefix"),f=function(){this.p5=null,this.p5decrementPreload=null,this.p5eventNames=["mouseMoved","mouseDragged","mousePressed","mouseReleased","mouseClicked","mouseWheel","keyPressed","keyReleased","keyTyped"],this.p5specialFunctions=["preload","draw","setup"].concat(this.p5eventNames)};b.exports=f,f.baseP5loadImage=null,f.prototype.init=function(a){this.onExecutionStarting=a.onExecutionStarting,this.onPreload=a.onPreload,this.onSetup=a.onSetup,this.onDraw=a.onDraw,window.p5.prototype.setupGlobalMode=function(){var a=window.p5;this._isGlobal=!0;for(var b in a.prototype)if("function"==typeof a.prototype[b]){var c=b.substring(2);this._events.hasOwnProperty(c)||(window[b]=a.prototype[b].bind(this))}else window[b]=a.prototype[b];for(var d in this)this.hasOwnProperty(d)&&(window[d]=this[d])},f.baseP5loadImage||(f.baseP5loadImage=window.p5.prototype.loadImage,window.p5.prototype.loadImage=function(a,b,c){return a=e.fixPath(a),f.baseP5loadImage.call(this,a,b,c)}),window.p5.prototype.redraw=function(){var a=this.setup||window.setup,b=this.draw||window.draw;if("function"==typeof b){this.push(),"undefined"==typeof a&&this.scale(this.pixelDensity,this.pixelDensity);var c=this;this._registeredMethods.pre.forEach(function(a){a.call(c)}),b()}},window.p5.prototype.afterUserDraw=function(){var a=this;this._registeredMethods.post.forEach(function(b){b.call(a)}),this.pop()},window.p5.prototype.createSprite=function(a,b,c,e){var f=new window.Sprite(a,b,c,e);return f.AABBops=d.AABBops,f.depth=window.allSprites.maxDepth()+1,window.allSprites.add(f),f};var b=window.Group;window.Group=function(){var c=b();return c.callAABBopsForAll=function(b,c,d){var e=a.gameLab.JSInterpreter.getCurrentState();e.__i||(e.__i=0),e.__i<this.size()?(e.__subState||(e.__subState={doneExec:!0}),this.get(e.__i).AABBops(b,c,d),e.__subState.doneExec&&(delete e.__subState,e.__i++),e.doneExec=!1):e.doneExec=!0},c.overlap=function(a,b){this.callAABBopsForAll("overlap",a,b)},c.collide=function(a,b){this.callAABBopsForAll("collide",a,b)},c.displace=function(a,b){this.callAABBopsForAll("displace",a,b)},c.bounce=function(a,b){this.callAABBopsForAll("bounce",a,b)},c}},f.prototype.resetExecution=function(){if(this.p5){this.p5.remove(),this.p5=null,this.p5decrementPreload=null;for(var a in window.p5.prototype._registeredMethods)delete window.p5.prototype._registeredMethods[a];window.p5.prototype._registeredMethods={pre:[],post:[],remove:[]},delete window.p5.prototype._registeredPreloadMethods.gamelabPreload,window.p5.prototype.allSprites=new window.Group,window.p5.prototype.spriteUpdate=!0,window.p5.prototype.camera=new window.Camera(0,0,1),window.p5.prototype.camera.init=!1,window.p5.prototype.registerMethod("pre",window.p5.prototype.readPresses),window.p5.prototype.registerMethod("pre",window.p5.prototype.updateSprites),window.p5.prototype.registerMethod("post",window.updateTree),window.p5.prototype.registerMethod("pre",window.cameraPush),window.p5.prototype.registerMethod("post",window.cameraPop)}this.drawInProgress=!1,this.setupInProgress=!1,window.p5.prototype.gamelabPreload=function(){this.p5decrementPreload=window.p5._getDecrementPreload(arguments,this.p5)}.bind(this)},f.prototype.startExecution=function(){new window.p5(function(a){this.p5=a,a.registerPreloadMethod("gamelabPreload",window.p5.prototype),a._draw=function(){this._thisFrameTime=window.performance.now();var a=this._thisFrameTime-this._lastFrameTime,b=1e3/this._targetFrameRate,c=5;!this.loop||a>=b-c?(this._setProperty("frameCount",this.frameCount+1),this.redraw()):this._drawEpilogue()}.bind(a),a.afterRedraw=function(){this._updatePAccelerations(),this._updatePRotations(),this._updatePMouseCoords(),this._updatePTouchCoords(),this._frameRate=1e3/(this._thisFrameTime-this._lastFrameTime),this._lastFrameTime=this._thisFrameTime,this._drawEpilogue()}.bind(a),a._drawEpilogue=function(){this._renderer.isP3D&&this._renderer._update(),this._loop&&(this._requestAnimId=window.requestAnimationFrame(this._draw))}.bind(a),a._setup=function(){var a=this._isGlobal?window:this;if("function"==typeof a.preload)for(var b in this._preloadMethods)a[b]=this._preloadMethods[b][b];"function"==typeof a.setup?a.setup():this._setupEpilogue()}.bind(a),a._setupEpilogue=function(){for(var a=new RegExp(/(^|\s)p5_hidden(?!\S)/g),b=document.getElementsByClassName("p5_hidden"),c=0;c<b.length;c++){var d=b[c];d.style.visibility="",d.className=d.className.replace(a,"")}this._setupDone=!0}.bind(a),a.setupGlobalMode(),window.preload=function(){window.gamelabPreload();for(var a in this.p5._preloadMethods)this.p5[a]=window[a];this.onPreload()}.bind(this),window.setup=function(){for(var b in this.p5._preloadMethods)this.p5[b]=window[b];a.createCanvas(400,400),this.onSetup()}.bind(this),window.draw=this.onDraw.bind(this),this.onExecutionStarting()}.bind(this),"divGameLab")},f.prototype.notifyUserGlobalCodeComplete=function(){this.p5decrementPreload&&(this.p5decrementPreload(),this.p5decrementPreload=null)},f.prototype.getCustomMarshalGlobalProperties=function(){return{width:this.p5,height:this.p5,displayWidth:this.p5,displayHeight:this.p5,windowWidth:this.p5,windowHeight:this.p5,focused:this.p5,frameCount:this.p5,keyIsPressed:this.p5,key:this.p5,keyCode:this.p5,mouseX:this.p5,mouseY:this.p5,pmouseX:this.p5,pmouseY:this.p5,winMouseX:this.p5,winMouseY:this.p5,pwinMouseX:this.p5,pwinMouseY:this.p5,mouseButton:this.p5,mouseIsPressed:this.p5,touchX:this.p5,touchY:this.p5,ptouchX:this.p5,ptouchY:this.p5,touches:this.p5,touchIsDown:this.p5,pixels:this.p5,deviceOrientation:this.p5,accelerationX:this.p5,accelerationY:this.p5,accelerationZ:this.p5,pAccelerationX:this.p5,pAccelerationY:this.p5,pAccelerationZ:this.p5,rotationX:this.p5,rotationY:this.p5,rotationZ:this.p5,pRotationX:this.p5,pRotationY:this.p5,pRotationZ:this.p5}},f.prototype.getCustomMarshalObjectList=function(){return[{instance:window.Sprite,methodOpts:{nativeCallsBackInterpreter:!0}},{instance:Array,requiredMethod:"draw",methodOpts:{nativeCallsBackInterpreter:!0}},{instance:window.p5},{instance:window.Camera},{instance:window.Animation},{instance:window.p5.Vector},{instance:window.p5.Color},{instance:window.p5.Image},{instance:window.p5.Renderer},{instance:window.p5.Graphics},{instance:window.p5.Font},{instance:window.p5.Table},{instance:window.p5.TableRow},{instance:window.p5.Element}]},f.prototype.getGlobalPropertyList=function(){var a={};for(var b in this.p5)a[b]=[this.p5[b],this.p5];return a.Group=[window.Group,window],a.p5=[{Vector:window.p5.Vector},window],a},f.prototype.getFrameRate=function(){return this.p5?this.p5.frameRate():0},f.prototype.afterDrawComplete=function(){this.p5.afterUserDraw(),this.p5.afterRedraw()},f.prototype.afterSetupComplete=function(){this.p5._setupEpilogue()}},{"../assetManagement/assetPrefix":"/home/ubuntu/staging/apps/build/js/assetManagement/assetPrefix.js","./GameLabSprite":"/home/ubuntu/staging/apps/build/js/gamelab/GameLabSprite.js"}],"/home/ubuntu/staging/apps/build/js/gamelab/GameLabSprite.js":[function(a,b,c){"use strict";var d;b.exports.injectJSInterpreter=function(a){d=a},b.exports.AABBops=function(a,b,c){var e=d.getCurrentState();e.__subState&&(e=e.__subState);var f=!1;if("undefined"==typeof e.__i)if(e.__i=0,this.touching.left=!1,this.touching.right=!1,this.touching.top=!1,this.touching.bottom=!1,e.__others=[],b instanceof Sprite)e.__others.push(b);else{if(!(b instanceof Array))throw"Error: overlap can only be checked between sprites or groups";void 0!=quadTree&&quadTree.active&&(e.__others=quadTree.retrieveFromGroup(this,b)),0==e.__others.length&&(e.__others=b)}else e.__i++;if(e.__i<e.__others.length){var g=e.__i;if(this!=e.__others[g]&&!this.removed){var h=e.__others[g];if(void 0==this.collider&&this.setDefaultCollider(),void 0==h.collider&&h.setDefaultCollider(),void 0!=this.collider&&void 0!=h.collider)if("overlap"==a){var i;i=this.collider instanceof CircleCollider?h.collider.overlap(this.collider):this.collider.overlap(h.collider),i&&(f=!0,void 0!=c&&"function"==typeof c&&c.call(this,this,h))}else if("collide"==a||"bounce"==a){var j=createVector(0,0),k=abs(this.velocity.x-h.velocity.x)>=h.collider.extents.x/2&&0==round(this.deltaX-this.velocity.x),l=abs(this.velocity.y-h.velocity.y)>=h.collider.size().y/2&&0==round(this.deltaY-this.velocity.y);if(k||l){var m=createVector((this.position.x+this.previousPosition.x)/2,(this.position.y+this.previousPosition.y)/2),n=createVector(abs(this.position.x-this.previousPosition.x)+this.collider.extents.x,abs(this.position.y-this.previousPosition.y)+this.collider.extents.y),o=new AABB(m,n,this.collider.offset);o.overlap(h.collider)&&(k&&(this.velocity.x<0?j.x=h.collider.right()-this.collider.left()+1:this.velocity.x>0&&(j.x=h.collider.left()-this.collider.right()-1)),l&&(this.velocity.y>0?j.y=h.collider.top()-this.collider.bottom()-1:this.velocity.y<0&&(j.y=h.collider.bottom()-this.collider.top()+1)))}else j=this.collider instanceof CircleCollider?h.collider.collide(this.collider).mult(-1):this.collider.collide(h.collider);if(0==j.x&&0==j.y)f=!1;else{if(this.immovable||(this.position.add(j),this.previousPosition=createVector(this.position.x,this.position.y),this.newPosition=createVector(this.position.x,this.position.y)),j.x>0&&(this.touching.left=!0),j.x<0&&(this.touching.right=!0),j.y<0&&(this.touching.bottom=!0),j.y>0&&(this.touching.top=!0),"bounce"==a){if(h.immovable)var p=-this.velocity.x+h.velocity.x,q=-this.velocity.y+h.velocity.y;else var p=(this.velocity.x*(this.mass-h.mass)+2*h.mass*h.velocity.x)/(this.mass+h.mass),q=(this.velocity.y*(this.mass-h.mass)+2*h.mass*h.velocity.y)/(this.mass+h.mass),r=(h.velocity.x*(h.mass-this.mass)+2*this.mass*this.velocity.x)/(this.mass+h.mass),s=(h.velocity.y*(h.mass-this.mass)+2*this.mass*this.velocity.y)/(this.mass+h.mass);abs(j.x)>abs(j.y)&&(this.immovable||(this.velocity.x=p*this.restitution),h.immovable||(h.velocity.x=r*h.restitution)),abs(j.x)<abs(j.y)&&(this.immovable||(this.velocity.y=q*this.restitution),h.immovable||(h.velocity.y=s*h.restitution))}void 0!=c&&"function"==typeof c&&c.call(this,this,h),f=!0}}else"displace"==a&&(j=this.collider instanceof CircleCollider?h.collider.collide(this.collider).mult(-1):this.collider.collide(h.collider),0==j.x&&0==j.y?f=!1:(h.position.sub(j),j.x>0&&(this.touching.left=!0),j.x<0&&(this.touching.right=!0),j.y<0&&(this.touching.bottom=!0),j.y>0&&(this.touching.top=!0),void 0!=c&&"function"==typeof c&&c.call(this,this,h),f=!0))}e.doneExec=e.__i>=e.__others.length-1}else e.doneExec=!0;return f}},{}]},{},["/home/ubuntu/staging/apps/build/js/gamelab/main.js"]);