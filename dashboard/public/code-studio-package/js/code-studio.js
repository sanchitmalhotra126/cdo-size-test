require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({14:[function(require,module,exports){
/**
 * @file Replacement for application.js.erb in dashboard as much as possible.
 *       Code added here will be loaded for (almost) every page in dashboard,
 *       so use sparingly!
 */
'use strict';

require('./videos');

},{"./videos":23}],23:[function(require,module,exports){
'use strict';
/* global dashboard, Dialog, YT */

var videojs = require('video.js');
var testImageAccess = require('./url_test');

window.createVideoWithFallback = function(parentElement, options, width, height) {
  upgradeInsecureOptions(options);
  var video = createVideo(options);
  video.width(width).height(height);
  if(parentElement) {
    parentElement.append(video);
  }
  setupVideoFallback(options, width, height);
  return video;
};

function onVideoEnded() {
  $('.video-modal').trigger("ended");
}

function onYouTubeIframeAPIReady() {
  // requires there be an iframe#video present on the page
  var player = new YT.Player('video');
  player.addEventListener('onStateChange', function (state) {
    if (state.data === YT.PlayerState.ENDED) {
      onVideoEnded();
    }
  });
}

function createVideo(options) {
  return $('<iframe id="video"/>').addClass('video-player').attr({
    src: options.src,
    scrolling: 'no'
  });
}

// Options include:
//   src - the url to the video
//   key - an uid.
//   name - a string.
//   redirect - the redirect page after the video is dismissed.
//   onClose - actions to take after closing the video dialog, or immediately
//             if the video isn't shown.
window.showVideoDialog = function(options, forceShowVideo) {
  if (forceShowVideo === undefined) {
    forceShowVideo = false;
  }

  if (options.onClose === undefined) {
    options.onClose = function () {};
  }

  if (dashboard.clientState.hasSeenVideo(options.key) && forceShowVideo === false) {
    // Anything we were going to do when the video closed, we ought to do
    // right now.
    options.onClose();
    if (options.redirect) {
      window.location.href = options.redirect;
    }
    return;
  }

  upgradeInsecureOptions(options);
  var widthRatio = 0.8;
  var heightRatio = 0.8;
  var aspectRatio = 16 / 9;

  var body = $('<div/>');
  var content = $('#notes-content').contents().clone();
  content.find('.video-name').text(options.name);
  body.append(content);

  var video = createVideo(options);
  body.append(video);

  var notesDiv = $('<div id="notes-outer"><div id="notes"/></div>');
  body.append(notesDiv);
  getShowNotes(options.key, notesDiv.children('#notes'));

  var dialog = new Dialog({ body: body, redirect : options.redirect });
  var $div = $(dialog.div);
  $div.addClass('video-modal');

  $('.video-modal').on("remove", function () {
    // Manually removing src to fix a continual playback bug in IE9
    // https://github.com/code-dot-org/code-dot-org/pull/5277#issue-116253168
    video.removeAttr('src');
    options.onClose();
    dashboard.clientState.recordVideoSeen(options.key);
    // Raise an event that the dialog has been hidden, in case anything needs to
    // play/respond to it.
    var event = document.createEvent('Event');
    event.initEvent('videoHidden', true, true);
    document.dispatchEvent(event);
  });

  var tabHandler = function(event, ui) {
    var tab = ui.tab || ui.newTab;  // Depends on event.
    var videoElement = $('#video');
    if (tab.find('a').attr('href') === "#video") {
      // If it is the video page, restore the src
      videoElement.attr('src', options.src);
    } else {
      video.removeAttr('src');
      var videoJSElement = document.querySelector('.video-js');
      if (videoJSElement) {
        videojs(videoJSElement).pause();
      }
    }
    // Remember which tab is selected.
    var selected = tab.parents('.ui-tabs').tabs('option', 'active');
    try {
      window.sessionStorage.setItem('lastTab', selected);
    } catch (exc) {
      console.log('Caught exception in sessionStorage.setItem: ', exc);
    }
  };

  var lastTab = window.sessionStorage.getItem('lastTab');
  body.tabs({
    event : 'click touchend',
    activate: tabHandler,
    create: tabHandler,
    active: (lastTab !== null) ? lastTab : 0  // Set starting tab.
  });

  var download = $('<a/>').append($('<img src="/shared/images/download_button.png"/>'))
      .addClass('download-video')
      .attr('href', options.download);
  var nav = $div.find('.ui-tabs-nav');
  nav.append(download);

  // Resize modal to fit constraining dimension.
  var height = $(window).height() * widthRatio,
      width = $(window).width() * heightRatio;

  if (height * aspectRatio < width) {
    $div.height(height);
    $div.width(height * aspectRatio);
  } else {
    $div.height(width / aspectRatio);
    $div.width(width);
  }

  // Standard css hack to center a div within the viewport.
  $div.css({
    top: '50%',
    left: '50%',
    marginTop: ($div.height() / -2) + 'px',
    marginLeft: ($div.width() / -2) + 'px'
  });

  var divHeight = $div.innerHeight() - nav.outerHeight();
  $(video).height(divHeight);

  notesDiv.height(divHeight);

  if (window.YT && window.YT.loaded) {
    onYouTubeIframeAPIReady();
  } else {
    // Use the official YouTube IFrame Player API to load the YouTube video.
    // Ref: https://developers.google.com/youtube/iframe_api_reference#Getting_Started
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
    // calls window.onYouTubeIframeAPIReady
  }

  dialog.show();

  var videoModal = $('.video-modal');

  videoModal.on("ended", function () {
    dialog.hide();
  });

  // Raise an event that the dialog has been shown, in case anything needs to
  // pause/respond to it.
  var event = document.createEvent('Event');
  event.initEvent('videoShown', true, true);
  document.dispatchEvent(event);

  // Don't add fallback player if a video modal has closed
  var shouldStillAdd = true;
  videoModal.one('hidden.bs.modal', function(){
    shouldStillAdd = false;
  });

  setupVideoFallback(options, $div.width(), divHeight, function(){
    return shouldStillAdd;
  });
};

// Precondition: $('#video') must exist on the DOM before this function is called.
function setupVideoFallback(videoInfo, playerWidth, playerHeight, shouldStillAddCallback) {
  shouldStillAddCallback = shouldStillAddCallback || function() { return true; };

  if (!videoInfo.enable_fallback) {
    return;
  }

  if (videoInfo.force_fallback) {
    addFallbackVideoPlayer(videoInfo, playerWidth, playerHeight);
    return;
  }

  window.onYouTubeBlocked(function() {
    if (!shouldStillAddCallback()) {
      return;
    }
    addFallbackVideoPlayer(videoInfo, playerWidth, playerHeight);
  });
}

// This is on window because it gets accessed externally for our video test page.
window.onYouTubeBlocked = function(callback) {
  testImageAccess(youTubeAvailabilityEndpointURL() + '?' + Math.random(), function(){}, callback);
};

function youTubeAvailabilityEndpointURL() {
  if (window.document.URL.toString().indexOf('force_youtube_fallback') >= 0) {
    return 'https://unreachable-test-subdomain.example.com/favicon.ico';
  }
  return "https://www.youtube.com/favicon.ico";
}

// Precondition: $('#video') must exist on the DOM before this function is called.
function addFallbackVideoPlayer(videoInfo, playerWidth, playerHeight) {
  var fallbackPlayerID = 'fallbackPlayer' + Date.now();
  var playerCode =
      '<div><video id="'+ fallbackPlayerID +'" ' +
      'width="' + playerWidth + '" height="' + playerHeight + '" ' +
      (videoInfo.autoplay ? 'autoplay ' : '') +
      'class="video-js vjs-default-skin vjs-big-play-centered" ' +
      'controls preload="auto" ' +
      'poster="' + videoInfo.thumbnail + '">' +
      '<source src="' + videoInfo.download + '" type="video/mp4"/>' +
      '</video></div>';

  // Swap current #video with new code
  $('#video').replaceWith(playerCode);

  videojs.options.flash.swf = '/code-studio/assets/video-js/video-js.swf';
  videojs.options.techOrder = ["flash", "html5"];

  var videoPlayer = videojs(fallbackPlayerID, {}, function() {
    var $fallbackPlayer = $('#' + fallbackPlayerID);
    var showingErrorMessage = $fallbackPlayer.find('p').length > 0;
    if (showingErrorMessage) {
      $fallbackPlayer.addClass('fallback-video-player-failed');
      if (hasNotesTab()) {
        openNotesTab();
      }
    }
    // Properly dispose of video.js player instance when hidden
    $fallbackPlayer.parents('.modal').one('hidden.bs.modal', function(){
      videoPlayer.dispose();
    });
  });

  videoPlayer.on('ended', onVideoEnded);
}

function hasNotesTab() {
  return $('.dash_modal_body a[href="#notes-outer"]').length > 0;
}

function openNotesTab() {
  var notesTabIndex = $('.dash_modal_body a[href="#notes-outer"]').parent().index();
  $('.ui-tabs').tabs('option', 'active', notesTabIndex);
}

function getShowNotes(key, container) {
  var callback = function(data) {
    container.html(data);
  };

  $.ajax({
    url: '/notes/' + key,
    success: callback
  });
}

// Convert http:// video urls to protocol-relative // urls to prevent mixed-content loads on https pages.
function upgradeInsecureOptions(options) {
  if(options.src) {
    options.src = options.src.replace(/^http:\/\//, '//');
  }
  if (options.download) {
    options.download = options.download.replace(/^http:\/\//, '//');
  }
}

},{"./url_test":22,"video.js":13}],22:[function(require,module,exports){
'use strict';

// Tests whether the browser can access an image URL.
// Useful as a workaround for CORS security to test access to an origin.
function testImageAccess(url, successCallback, failureCallback, timeoutMs) {
  timeoutMs = typeof timeoutMs !== 'undefined' ?  timeoutMs : 5000;
  var img = new Image();
  var called = false;
  function finish(callback) {
    return function() {
      if (called) {
        return;
      }
      called = true;
      window.clearTimeout(timeout);
      callback();
    };
  }
  var timeout = window.setTimeout(finish(failureCallback), timeoutMs);
  img.onerror = finish(failureCallback);
  img.onload = finish(successCallback);
  img.src = url;
  // store a reference to the Image so it doesn't get collected
  window.testImages = window.testImages || [];
  window.testImages.push(img);
}
module.exports = testImageAccess;

},{}],13:[function(require,module,exports){
/*! Video.js v4.5.2 Copyright 2014 Brightcove, Inc. https://github.com/videojs/video.js/blob/master/LICENSE */ 
(function() {var b=void 0,f=!0,h=null,l=!1;function m(){return function(){}}function p(a){return function(){return this[a]}}function q(a){return function(){return a}}var t;document.createElement("video");document.createElement("audio");document.createElement("track");function u(a,c,d){if("string"===typeof a){0===a.indexOf("#")&&(a=a.slice(1));if(u.va[a])return u.va[a];a=u.u(a)}if(!a||!a.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return a.player||new u.Player(a,c,d)}
var videojs=u;window.Wd=window.Xd=u;u.Rb="4.5";u.Fc="https:"==document.location.protocol?"https://":"http://";u.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}},notSupportedMessage:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'};
"GENERATED_CDN_VSN"!==u.Rb&&(videojs.options.flash.swf=u.Fc+"vjs.zencdn.net/"+u.Rb+"/video-js.swf");u.va={};"function"===typeof define&&define.amd?define([],function(){return videojs}):"object"===typeof exports&&"object"===typeof module&&(module.exports=videojs);u.ka=u.CoreObject=m();
u.ka.extend=function(a){var c,d;a=a||{};c=a.init||a.j||this.prototype.init||this.prototype.j||m();d=function(){c.apply(this,arguments)};d.prototype=u.l.create(this.prototype);d.prototype.constructor=d;d.extend=u.ka.extend;d.create=u.ka.create;for(var e in a)a.hasOwnProperty(e)&&(d.prototype[e]=a[e]);return d};u.ka.create=function(){var a=u.l.create(this.prototype);this.apply(a,arguments);return a};
u.d=function(a,c,d){var e=u.getData(a);e.z||(e.z={});e.z[c]||(e.z[c]=[]);d.s||(d.s=u.s++);e.z[c].push(d);e.V||(e.disabled=l,e.V=function(c){if(!e.disabled){c=u.ic(c);var d=e.z[c.type];if(d)for(var d=d.slice(0),k=0,r=d.length;k<r&&!c.pc();k++)d[k].call(a,c)}});1==e.z[c].length&&(document.addEventListener?a.addEventListener(c,e.V,l):document.attachEvent&&a.attachEvent("on"+c,e.V))};
u.o=function(a,c,d){if(u.mc(a)){var e=u.getData(a);if(e.z)if(c){var g=e.z[c];if(g){if(d){if(d.s)for(e=0;e<g.length;e++)g[e].s===d.s&&g.splice(e--,1)}else e.z[c]=[];u.ec(a,c)}}else for(g in e.z)c=g,e.z[c]=[],u.ec(a,c)}};u.ec=function(a,c){var d=u.getData(a);0===d.z[c].length&&(delete d.z[c],document.removeEventListener?a.removeEventListener(c,d.V,l):document.detachEvent&&a.detachEvent("on"+c,d.V));u.zb(d.z)&&(delete d.z,delete d.V,delete d.disabled);u.zb(d)&&u.uc(a)};
u.ic=function(a){function c(){return f}function d(){return l}if(!a||!a.Ab){var e=a||window.event;a={};for(var g in e)"layerX"!==g&&("layerY"!==g&&"keyboardEvent.keyLocation"!==g)&&("returnValue"==g&&e.preventDefault||(a[g]=e[g]));a.target||(a.target=a.srcElement||document);a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;a.preventDefault=function(){e.preventDefault&&e.preventDefault();a.returnValue=l;a.fd=c;a.defaultPrevented=f};a.fd=d;a.defaultPrevented=l;a.stopPropagation=function(){e.stopPropagation&&
e.stopPropagation();a.cancelBubble=f;a.Ab=c};a.Ab=d;a.stopImmediatePropagation=function(){e.stopImmediatePropagation&&e.stopImmediatePropagation();a.pc=c;a.stopPropagation()};a.pc=d;if(a.clientX!=h){g=document.documentElement;var j=document.body;a.pageX=a.clientX+(g&&g.scrollLeft||j&&j.scrollLeft||0)-(g&&g.clientLeft||j&&j.clientLeft||0);a.pageY=a.clientY+(g&&g.scrollTop||j&&j.scrollTop||0)-(g&&g.clientTop||j&&j.clientTop||0)}a.which=a.charCode||a.keyCode;a.button!=h&&(a.button=a.button&1?0:a.button&
4?1:a.button&2?2:0)}return a};u.k=function(a,c){var d=u.mc(a)?u.getData(a):{},e=a.parentNode||a.ownerDocument;"string"===typeof c&&(c={type:c,target:a});c=u.ic(c);d.V&&d.V.call(a,c);if(e&&!c.Ab()&&c.bubbles!==l)u.k(e,c);else if(!e&&!c.defaultPrevented&&(d=u.getData(c.target),c.target[c.type])){d.disabled=f;if("function"===typeof c.target[c.type])c.target[c.type]();d.disabled=l}return!c.defaultPrevented};
u.U=function(a,c,d){function e(){u.o(a,c,e);d.apply(this,arguments)}e.s=d.s=d.s||u.s++;u.d(a,c,e)};var v=Object.prototype.hasOwnProperty;u.e=function(a,c){var d,e;d=document.createElement(a||"div");for(e in c)v.call(c,e)&&(-1!==e.indexOf("aria-")||"role"==e?d.setAttribute(e,c[e]):d[e]=c[e]);return d};u.Z=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};u.l={};u.l.create=Object.create||function(a){function c(){}c.prototype=a;return new c};
u.l.ra=function(a,c,d){for(var e in a)v.call(a,e)&&c.call(d||this,e,a[e])};u.l.B=function(a,c){if(!c)return a;for(var d in c)v.call(c,d)&&(a[d]=c[d]);return a};u.l.Wc=function(a,c){var d,e,g;a=u.l.copy(a);for(d in c)v.call(c,d)&&(e=a[d],g=c[d],a[d]=u.l.Na(e)&&u.l.Na(g)?u.l.Wc(e,g):c[d]);return a};u.l.copy=function(a){return u.l.B({},a)};u.l.Na=function(a){return!!a&&"object"===typeof a&&"[object Object]"===a.toString()&&a.constructor===Object};
u.bind=function(a,c,d){function e(){return c.apply(a,arguments)}c.s||(c.s=u.s++);e.s=d?d+"_"+c.s:c.s;return e};u.pa={};u.s=1;u.expando="vdata"+(new Date).getTime();u.getData=function(a){var c=a[u.expando];c||(c=a[u.expando]=u.s++,u.pa[c]={});return u.pa[c]};u.mc=function(a){a=a[u.expando];return!(!a||u.zb(u.pa[a]))};u.uc=function(a){var c=a[u.expando];if(c){delete u.pa[c];try{delete a[u.expando]}catch(d){a.removeAttribute?a.removeAttribute(u.expando):a[u.expando]=h}}};
u.zb=function(a){for(var c in a)if(a[c]!==h)return l;return f};u.n=function(a,c){-1==(" "+a.className+" ").indexOf(" "+c+" ")&&(a.className=""===a.className?c:a.className+" "+c)};u.t=function(a,c){var d,e;if(-1!=a.className.indexOf(c)){d=a.className.split(" ");for(e=d.length-1;0<=e;e--)d[e]===c&&d.splice(e,1);a.className=d.join(" ")}};u.F=u.e("video");u.J=navigator.userAgent;u.Kc=/iPhone/i.test(u.J);u.Jc=/iPad/i.test(u.J);u.Lc=/iPod/i.test(u.J);u.Ic=u.Kc||u.Jc||u.Lc;var aa=u,w;var x=u.J.match(/OS (\d+)_/i);
w=x&&x[1]?x[1]:b;aa.Kd=w;u.Hc=/Android/i.test(u.J);var ba=u,y;var z=u.J.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),A,B;z?(A=z[1]&&parseFloat(z[1]),B=z[2]&&parseFloat(z[2]),y=A&&B?parseFloat(z[1]+"."+z[2]):A?A:h):y=h;ba.Qb=y;u.Mc=u.Hc&&/webkit/i.test(u.J)&&2.3>u.Qb;u.Ub=/Firefox/i.test(u.J);u.Ld=/Chrome/i.test(u.J);u.$b=!!("ontouchstart"in window||window.Gc&&document instanceof window.Gc);
u.wb=function(a){var c,d,e,g;c={};if(a&&a.attributes&&0<a.attributes.length){d=a.attributes;for(var j=d.length-1;0<=j;j--){e=d[j].name;g=d[j].value;if("boolean"===typeof a[e]||-1!==",autoplay,controls,loop,muted,default,".indexOf(","+e+","))g=g!==h?f:l;c[e]=g}}return c};
u.Pd=function(a,c){var d="";document.defaultView&&document.defaultView.getComputedStyle?d=document.defaultView.getComputedStyle(a,"").getPropertyValue(c):a.currentStyle&&(d=a["client"+c.substr(0,1).toUpperCase()+c.substr(1)]+"px");return d};u.yb=function(a,c){c.firstChild?c.insertBefore(a,c.firstChild):c.appendChild(a)};u.Nb={};u.u=function(a){0===a.indexOf("#")&&(a=a.slice(1));return document.getElementById(a)};
u.ta=function(a,c){c=c||a;var d=Math.floor(a%60),e=Math.floor(a/60%60),g=Math.floor(a/3600),j=Math.floor(c/60%60),k=Math.floor(c/3600);if(isNaN(a)||Infinity===a)g=e=d="-";g=0<g||0<k?g+":":"";return g+(((g||10<=j)&&10>e?"0"+e:e)+":")+(10>d?"0"+d:d)};u.Sc=function(){document.body.focus();document.onselectstart=q(l)};u.Ed=function(){document.onselectstart=q(f)};u.trim=function(a){return(a+"").replace(/^\s+|\s+$/g,"")};u.round=function(a,c){c||(c=0);return Math.round(a*Math.pow(10,c))/Math.pow(10,c)};
u.sb=function(a,c){return{length:1,start:function(){return a},end:function(){return c}}};
u.get=function(a,c,d){var e,g;"undefined"===typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(c){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(d){}throw Error("This browser does not support XMLHttpRequest.");});g=new XMLHttpRequest;try{g.open("GET",a)}catch(j){d(j)}e=0===a.indexOf("file:")||0===window.location.href.indexOf("file:")&&-1===a.indexOf("http");
g.onreadystatechange=function(){4===g.readyState&&(200===g.status||e&&0===g.status?c(g.responseText):d&&d())};try{g.send()}catch(k){d&&d(k)}};u.wd=function(a){try{var c=window.localStorage||l;c&&(c.volume=a)}catch(d){22==d.code||1014==d.code?u.log("LocalStorage Full (VideoJS)",d):18==d.code?u.log("LocalStorage not allowed (VideoJS)",d):u.log("LocalStorage Error (VideoJS)",d)}};u.kc=function(a){a.match(/^https?:\/\//)||(a=u.e("div",{innerHTML:'<a href="'+a+'">x</a>'}).firstChild.href);return a};
u.log=function(){u.log.history=u.log.history||[];u.log.history.push(arguments);window.console&&window.console.log(Array.prototype.slice.call(arguments))};u.cd=function(a){var c,d;a.getBoundingClientRect&&a.parentNode&&(c=a.getBoundingClientRect());if(!c)return{left:0,top:0};a=document.documentElement;d=document.body;return{left:u.round(c.left+(window.pageXOffset||d.scrollLeft)-(a.clientLeft||d.clientLeft||0)),top:u.round(c.top+(window.pageYOffset||d.scrollTop)-(a.clientTop||d.clientTop||0))}};
u.ja={};u.ja.Eb=function(a,c){var d,e,g;a=u.l.copy(a);for(d in c)c.hasOwnProperty(d)&&(e=a[d],g=c[d],a[d]=u.l.Na(e)&&u.l.Na(g)?u.ja.Eb(e,g):c[d]);return a};
u.b=u.ka.extend({j:function(a,c,d){this.c=a;this.h=u.l.copy(this.h);c=this.options(c);this.R=c.id||(c.el&&c.el.id?c.el.id:a.id()+"_component_"+u.s++);this.ld=c.name||h;this.a=c.el||this.e();this.K=[];this.Ja={};this.Ka={};this.nc();this.I(d);if(c.vc!==l){var e,g;e=u.bind(this.C(),this.C().reportUserActivity);this.d("touchstart",function(){e();clearInterval(g);g=setInterval(e,250)});a=function(){e();clearInterval(g)};this.d("touchmove",e);this.d("touchend",a);this.d("touchcancel",a)}}});t=u.b.prototype;
t.dispose=function(){this.k({type:"dispose",bubbles:l});if(this.K)for(var a=this.K.length-1;0<=a;a--)this.K[a].dispose&&this.K[a].dispose();this.Ka=this.Ja=this.K=h;this.o();this.a.parentNode&&this.a.parentNode.removeChild(this.a);u.uc(this.a);this.a=h};t.c=f;t.C=p("c");t.options=function(a){return a===b?this.h:this.h=u.ja.Eb(this.h,a)};t.e=function(a,c){return u.e(a,c)};t.u=p("a");t.La=function(){return this.G||this.a};t.id=p("R");t.name=p("ld");t.children=p("K");t.ed=function(a){return this.Ja[a]};
t.fa=function(a){return this.Ka[a]};t.Y=function(a,c){var d,e;"string"===typeof a?(e=a,c=c||{},d=c.componentClass||u.Z(e),c.name=e,d=new window.videojs[d](this.c||this,c)):d=a;this.K.push(d);"function"===typeof d.id&&(this.Ja[d.id()]=d);(e=e||d.name&&d.name())&&(this.Ka[e]=d);"function"===typeof d.el&&d.el()&&this.La().appendChild(d.el());return d};
t.removeChild=function(a){"string"===typeof a&&(a=this.fa(a));if(a&&this.K){for(var c=l,d=this.K.length-1;0<=d;d--)if(this.K[d]===a){c=f;this.K.splice(d,1);break}c&&(this.Ja[a.id]=h,this.Ka[a.name]=h,(c=a.u())&&c.parentNode===this.La()&&this.La().removeChild(a.u()))}};t.nc=function(){var a=this.h;if(a&&a.children){var c=this;u.l.ra(a.children,function(a,e){e!==l&&!e.loadEvent&&(c[a]=c.Y(a,e))})}};t.Q=q("");t.d=function(a,c){u.d(this.a,a,u.bind(this,c));return this};
t.o=function(a,c){u.o(this.a,a,c);return this};t.U=function(a,c){u.U(this.a,a,u.bind(this,c));return this};t.k=function(a,c){u.k(this.a,a,c);return this};t.I=function(a){a&&(this.aa?a.call(this):(this.Ua===b&&(this.Ua=[]),this.Ua.push(a)));return this};t.za=function(){this.aa=f;var a=this.Ua;if(a&&0<a.length){for(var c=0,d=a.length;c<d;c++)a[c].call(this);this.Ua=[];this.k("ready")}};t.n=function(a){u.n(this.a,a);return this};t.t=function(a){u.t(this.a,a);return this};
t.show=function(){this.a.style.display="block";return this};t.D=function(){this.a.style.display="none";return this};function C(a){a.t("vjs-lock-showing")}t.disable=function(){this.D();this.show=m()};t.width=function(a,c){return E(this,"width",a,c)};t.height=function(a,c){return E(this,"height",a,c)};t.Yc=function(a,c){return this.width(a,f).height(c)};
function E(a,c,d,e){if(d!==b)return a.a.style[c]=-1!==(""+d).indexOf("%")||-1!==(""+d).indexOf("px")?d:"auto"===d?"":d+"px",e||a.k("resize"),a;if(!a.a)return 0;d=a.a.style[c];e=d.indexOf("px");return-1!==e?parseInt(d.slice(0,e),10):parseInt(a.a["offset"+u.Z(c)],10)}
u.q=u.b.extend({j:function(a,c){u.b.call(this,a,c);var d=l;this.d("touchstart",function(a){a.preventDefault();d=f});this.d("touchmove",function(){d=l});var e=this;this.d("touchend",function(a){d&&e.p(a);a.preventDefault()});this.d("click",this.p);this.d("focus",this.Qa);this.d("blur",this.Pa)}});t=u.q.prototype;
t.e=function(a,c){c=u.l.B({className:this.Q(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+(this.oa||"Need Text")+"</span></div>",role:"button","aria-live":"polite",tabIndex:0},c);return u.b.prototype.e.call(this,a,c)};t.Q=function(){return"vjs-control "+u.b.prototype.Q.call(this)};t.p=m();t.Qa=function(){u.d(document,"keyup",u.bind(this,this.ba))};t.ba=function(a){if(32==a.which||13==a.which)a.preventDefault(),this.p()};
t.Pa=function(){u.o(document,"keyup",u.bind(this,this.ba))};u.O=u.b.extend({j:function(a,c){u.b.call(this,a,c);this.Rc=this.fa(this.h.barName);this.handle=this.fa(this.h.handleName);a.d(this.sc,u.bind(this,this.update));this.d("mousedown",this.Ra);this.d("touchstart",this.Ra);this.d("focus",this.Qa);this.d("blur",this.Pa);this.d("click",this.p);this.c.d("controlsvisible",u.bind(this,this.update));a.I(u.bind(this,this.update));this.P={}}});t=u.O.prototype;
t.e=function(a,c){c=c||{};c.className+=" vjs-slider";c=u.l.B({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},c);return u.b.prototype.e.call(this,a,c)};t.Ra=function(a){a.preventDefault();u.Sc();this.P.move=u.bind(this,this.Gb);this.P.end=u.bind(this,this.Hb);u.d(document,"mousemove",this.P.move);u.d(document,"mouseup",this.P.end);u.d(document,"touchmove",this.P.move);u.d(document,"touchend",this.P.end);this.Gb(a)};
t.Hb=function(){u.Ed();u.o(document,"mousemove",this.P.move,l);u.o(document,"mouseup",this.P.end,l);u.o(document,"touchmove",this.P.move,l);u.o(document,"touchend",this.P.end,l);this.update()};t.update=function(){if(this.a){var a,c=this.xb(),d=this.handle,e=this.Rc;isNaN(c)&&(c=0);a=c;if(d){a=this.a.offsetWidth;var g=d.u().offsetWidth;a=g?g/a:0;c*=1-a;a=c+a/2;d.u().style.left=u.round(100*c,2)+"%"}e.u().style.width=u.round(100*a,2)+"%"}};
function F(a,c){var d,e,g,j;d=a.a;e=u.cd(d);j=g=d.offsetWidth;d=a.handle;if(a.h.Gd)return j=e.top,e=c.changedTouches?c.changedTouches[0].pageY:c.pageY,d&&(d=d.u().offsetHeight,j+=d/2,g-=d),Math.max(0,Math.min(1,(j-e+g)/g));g=e.left;e=c.changedTouches?c.changedTouches[0].pageX:c.pageX;d&&(d=d.u().offsetWidth,g+=d/2,j-=d);return Math.max(0,Math.min(1,(e-g)/j))}t.Qa=function(){u.d(document,"keyup",u.bind(this,this.ba))};
t.ba=function(a){37==a.which?(a.preventDefault(),this.yc()):39==a.which&&(a.preventDefault(),this.zc())};t.Pa=function(){u.o(document,"keyup",u.bind(this,this.ba))};t.p=function(a){a.stopImmediatePropagation();a.preventDefault()};u.W=u.b.extend();u.W.prototype.defaultValue=0;u.W.prototype.e=function(a,c){c=c||{};c.className+=" vjs-slider-handle";c=u.l.B({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},c);return u.b.prototype.e.call(this,"div",c)};u.la=u.b.extend();
function ca(a,c){a.Y(c);c.d("click",u.bind(a,function(){C(this)}))}u.la.prototype.e=function(){var a=this.options().Uc||"ul";this.G=u.e(a,{className:"vjs-menu-content"});a=u.b.prototype.e.call(this,"div",{append:this.G,className:"vjs-menu"});a.appendChild(this.G);u.d(a,"click",function(a){a.preventDefault();a.stopImmediatePropagation()});return a};u.N=u.q.extend({j:function(a,c){u.q.call(this,a,c);this.selected(c.selected)}});
u.N.prototype.e=function(a,c){return u.q.prototype.e.call(this,"li",u.l.B({className:"vjs-menu-item",innerHTML:this.h.label},c))};u.N.prototype.p=function(){this.selected(f)};u.N.prototype.selected=function(a){a?(this.n("vjs-selected"),this.a.setAttribute("aria-selected",f)):(this.t("vjs-selected"),this.a.setAttribute("aria-selected",l))};
u.S=u.q.extend({j:function(a,c){u.q.call(this,a,c);this.ua=this.Ma();this.Y(this.ua);this.L&&0===this.L.length&&this.D();this.d("keyup",this.ba);this.a.setAttribute("aria-haspopup",f);this.a.setAttribute("role","button")}});t=u.S.prototype;t.na=l;t.Ma=function(){var a=new u.la(this.c);this.options().title&&a.u().appendChild(u.e("li",{className:"vjs-menu-title",innerHTML:u.Z(this.A),Cd:-1}));if(this.L=this.createItems())for(var c=0;c<this.L.length;c++)ca(a,this.L[c]);return a};t.qa=m();
t.Q=function(){return this.className+" vjs-menu-button "+u.q.prototype.Q.call(this)};t.Qa=m();t.Pa=m();t.p=function(){this.U("mouseout",u.bind(this,function(){C(this.ua);this.a.blur()}));this.na?G(this):H(this)};t.ba=function(a){a.preventDefault();32==a.which||13==a.which?this.na?G(this):H(this):27==a.which&&this.na&&G(this)};function H(a){a.na=f;a.ua.n("vjs-lock-showing");a.a.setAttribute("aria-pressed",f);a.L&&0<a.L.length&&a.L[0].u().focus()}
function G(a){a.na=l;C(a.ua);a.a.setAttribute("aria-pressed",l)}
u.Player=u.b.extend({j:function(a,c,d){this.M=a;a.id=a.id||"vjs_video_"+u.s++;c=u.l.B(da(a),c);this.v={};this.tc=c.poster;this.rb=c.controls;a.controls=l;c.vc=l;u.b.call(this,this,c,d);this.controls()?this.n("vjs-controls-enabled"):this.n("vjs-controls-disabled");this.U("play",function(a){u.k(this.a,{type:"firstplay",target:this.a})||(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation())});this.d("ended",this.md);this.d("play",this.Jb);this.d("firstplay",this.nd);this.d("pause",this.Ib);
this.d("progress",this.pd);this.d("durationchange",this.qc);this.d("error",this.Fb);this.d("fullscreenchange",this.od);u.va[this.R]=this;c.plugins&&u.l.ra(c.plugins,function(a,c){this[a](c)},this);var e,g,j,k;e=u.bind(this,this.reportUserActivity);this.d("mousedown",function(){e();clearInterval(g);g=setInterval(e,250)});this.d("mousemove",e);this.d("mouseup",function(){e();clearInterval(g)});this.d("keydown",e);this.d("keyup",e);j=setInterval(u.bind(this,function(){this.ia&&(this.ia=l,this.userActive(f),
clearTimeout(k),k=setTimeout(u.bind(this,function(){this.ia||this.userActive(l)}),2E3))}),250);this.d("dispose",function(){clearInterval(j);clearTimeout(k)})}});t=u.Player.prototype;t.h=u.options;t.dispose=function(){this.k("dispose");this.o("dispose");u.va[this.R]=h;this.M&&this.M.player&&(this.M.player=h);this.a&&this.a.player&&(this.a.player=h);clearInterval(this.Ta);this.wa();this.i&&this.i.dispose();u.b.prototype.dispose.call(this)};
function da(a){var c={sources:[],tracks:[]};u.l.B(c,u.wb(a));if(a.hasChildNodes()){var d,e,g,j;a=a.childNodes;g=0;for(j=a.length;g<j;g++)d=a[g],e=d.nodeName.toLowerCase(),"source"===e?c.sources.push(u.wb(d)):"track"===e&&c.tracks.push(u.wb(d))}return c}
t.e=function(){var a=this.a=u.b.prototype.e.call(this,"div"),c=this.M;c.removeAttribute("width");c.removeAttribute("height");if(c.hasChildNodes()){var d,e,g,j,k;d=c.childNodes;e=d.length;for(k=[];e--;)g=d[e],j=g.nodeName.toLowerCase(),"track"===j&&k.push(g);for(d=0;d<k.length;d++)c.removeChild(k[d])}a.id=c.id;a.className=c.className;c.id+="_html5_api";c.className="vjs-tech";c.player=a.player=this;this.n("vjs-paused");this.width(this.h.width,f);this.height(this.h.height,f);c.parentNode&&c.parentNode.insertBefore(a,
c);u.yb(c,a);return a};
function I(a,c,d){a.i&&(a.aa=l,a.i.dispose(),a.Cb&&(a.Cb=l,clearInterval(a.Ta)),a.Db&&J(a),a.i=l);"Html5"!==c&&a.M&&(u.g.gc(a.M),a.M=h);a.xa=c;a.aa=l;var e=u.l.B({source:d,parentEl:a.a},a.h[c.toLowerCase()]);d&&(d.src==a.v.src&&0<a.v.currentTime&&(e.startTime=a.v.currentTime),a.v.src=d.src);a.i=new window.videojs[c](a,e);a.i.I(function(){this.c.za();if(!this.m.progressEvents){var a=this.c;a.Cb=f;a.Ta=setInterval(u.bind(a,function(){this.v.mb<this.buffered().end(0)?this.k("progress"):1==this.bufferedPercent()&&
(clearInterval(this.Ta),this.k("progress"))}),500);a.i.U("progress",function(){this.m.progressEvents=f;var a=this.c;a.Cb=l;clearInterval(a.Ta)})}this.m.timeupdateEvents||(a=this.c,a.Db=f,a.d("play",a.Cc),a.d("pause",a.wa),a.i.U("timeupdate",function(){this.m.timeupdateEvents=f;J(this.c)}))})}function J(a){a.Db=l;a.wa();a.o("play",a.Cc);a.o("pause",a.wa)}t.Cc=function(){this.fc&&this.wa();this.fc=setInterval(u.bind(this,function(){this.k("timeupdate")}),250)};t.wa=function(){clearInterval(this.fc)};
t.Jb=function(){u.t(this.a,"vjs-paused");u.n(this.a,"vjs-playing")};t.nd=function(){this.h.starttime&&this.currentTime(this.h.starttime);this.n("vjs-has-started")};t.Ib=function(){u.t(this.a,"vjs-playing");u.n(this.a,"vjs-paused")};t.pd=function(){1==this.bufferedPercent()&&this.k("loadedalldata")};t.md=function(){this.h.loop&&(this.currentTime(0),this.play())};t.qc=function(){var a=K(this,"duration");a&&this.duration(a)};t.od=function(){this.isFullScreen()?this.n("vjs-fullscreen"):this.t("vjs-fullscreen")};
t.Fb=function(a){u.log("Video Error",a)};function L(a,c,d){if(a.i&&!a.i.aa)a.i.I(function(){this[c](d)});else try{a.i[c](d)}catch(e){throw u.log(e),e;}}function K(a,c){if(a.i&&a.i.aa)try{return a.i[c]()}catch(d){throw a.i[c]===b?u.log("Video.js: "+c+" method not defined for "+a.xa+" playback technology.",d):"TypeError"==d.name?(u.log("Video.js: "+c+" unavailable on "+a.xa+" playback technology element.",d),a.i.aa=l):u.log(d),d;}}t.play=function(){L(this,"play");return this};
t.pause=function(){L(this,"pause");return this};t.paused=function(){return K(this,"paused")===l?l:f};t.currentTime=function(a){return a!==b?(L(this,"setCurrentTime",a),this.Db&&this.k("timeupdate"),this):this.v.currentTime=K(this,"currentTime")||0};t.duration=function(a){if(a!==b)return this.v.duration=parseFloat(a),this;this.v.duration===b&&this.qc();return this.v.duration||0};
t.buffered=function(){var a=K(this,"buffered"),c=a.length-1,d=this.v.mb=this.v.mb||0;a&&(0<=c&&a.end(c)!==d)&&(d=a.end(c),this.v.mb=d);return u.sb(0,d)};t.bufferedPercent=function(){return this.duration()?this.buffered().end(0)/this.duration():0};t.volume=function(a){if(a!==b)return a=Math.max(0,Math.min(1,parseFloat(a))),this.v.volume=a,L(this,"setVolume",a),u.wd(a),this;a=parseFloat(K(this,"volume"));return isNaN(a)?1:a};
t.muted=function(a){return a!==b?(L(this,"setMuted",a),this):K(this,"muted")||l};t.Wa=function(){return K(this,"supportsFullScreen")||l};t.oc=l;t.isFullScreen=function(a){return a!==b?(this.oc=a,this):this.oc};
t.requestFullScreen=function(){var a=u.Nb.requestFullScreen;this.isFullScreen(f);a?(u.d(document,a.ub,u.bind(this,function(c){this.isFullScreen(document[a.isFullScreen]);this.isFullScreen()===l&&u.o(document,a.ub,arguments.callee);this.k("fullscreenchange")})),this.a[a.wc]()):this.i.Wa()?L(this,"enterFullScreen"):(this.gd=f,this.Zc=document.documentElement.style.overflow,u.d(document,"keydown",u.bind(this,this.jc)),document.documentElement.style.overflow="hidden",u.n(document.body,"vjs-full-window"),
this.k("enterFullWindow"),this.k("fullscreenchange"));return this};t.cancelFullScreen=function(){var a=u.Nb.requestFullScreen;this.isFullScreen(l);if(a)document[a.ob]();else this.i.Wa()?L(this,"exitFullScreen"):(M(this),this.k("fullscreenchange"));return this};t.jc=function(a){27===a.keyCode&&(this.isFullScreen()===f?this.cancelFullScreen():M(this))};
function M(a){a.gd=l;u.o(document,"keydown",a.jc);document.documentElement.style.overflow=a.Zc;u.t(document.body,"vjs-full-window");a.k("exitFullWindow")}
t.src=function(a){if(a===b)return K(this,"src");if(a instanceof Array){var c;a:{c=a;for(var d=0,e=this.h.techOrder;d<e.length;d++){var g=u.Z(e[d]),j=window.videojs[g];if(j.isSupported())for(var k=0,r=c;k<r.length;k++){var n=r[k];if(j.canPlaySource(n)){c={source:n,i:g};break a}}}c=l}c?(a=c.source,c=c.i,c==this.xa?this.src(a):I(this,c,a)):(this.a.appendChild(u.e("p",{innerHTML:this.options().notSupportedMessage})),this.za())}else a instanceof Object?window.videojs[this.xa].canPlaySource(a)?this.src(a.src):
this.src([a]):(this.v.src=a,this.aa?(L(this,"src",a),"auto"==this.h.preload&&this.load(),this.h.autoplay&&this.play()):this.I(function(){this.src(a)}));return this};t.load=function(){L(this,"load");return this};t.currentSrc=function(){return K(this,"currentSrc")||this.v.src||""};t.Sa=function(a){return a!==b?(L(this,"setPreload",a),this.h.preload=a,this):K(this,"preload")};t.autoplay=function(a){return a!==b?(L(this,"setAutoplay",a),this.h.autoplay=a,this):K(this,"autoplay")};
t.loop=function(a){return a!==b?(L(this,"setLoop",a),this.h.loop=a,this):K(this,"loop")};t.poster=function(a){if(a===b)return this.tc;this.tc=a;L(this,"setPoster",a);this.k("posterchange")};t.controls=function(a){return a!==b?(a=!!a,this.rb!==a&&((this.rb=a)?(this.t("vjs-controls-disabled"),this.n("vjs-controls-enabled"),this.k("controlsenabled")):(this.t("vjs-controls-enabled"),this.n("vjs-controls-disabled"),this.k("controlsdisabled"))),this):this.rb};u.Player.prototype.Pb;t=u.Player.prototype;
t.usingNativeControls=function(a){return a!==b?(a=!!a,this.Pb!==a&&((this.Pb=a)?(this.n("vjs-using-native-controls"),this.k("usingnativecontrols")):(this.t("vjs-using-native-controls"),this.k("usingcustomcontrols"))),this):this.Pb};t.error=function(){return K(this,"error")};t.ended=function(){return K(this,"ended")};t.seeking=function(){return K(this,"seeking")};t.ia=f;t.reportUserActivity=function(){this.ia=f};t.Ob=f;
t.userActive=function(a){return a!==b?(a=!!a,a!==this.Ob&&((this.Ob=a)?(this.ia=f,this.t("vjs-user-inactive"),this.n("vjs-user-active"),this.k("useractive")):(this.ia=l,this.i&&this.i.U("mousemove",function(a){a.stopPropagation();a.preventDefault()}),this.t("vjs-user-active"),this.n("vjs-user-inactive"),this.k("userinactive"))),this):this.Ob};var N,O,P;P=document.createElement("div");O={};
P.Md!==b?(O.wc="requestFullscreen",O.ob="exitFullscreen",O.ub="fullscreenchange",O.isFullScreen="fullScreen"):(document.mozCancelFullScreen?(N="moz",O.isFullScreen=N+"FullScreen"):(N="webkit",O.isFullScreen=N+"IsFullScreen"),P[N+"RequestFullScreen"]&&(O.wc=N+"RequestFullScreen",O.ob=N+"CancelFullScreen"),O.ub=N+"fullscreenchange");document[O.ob]&&(u.Nb.requestFullScreen=O);u.Da=u.b.extend();
u.Da.prototype.h={Rd:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}};u.Da.prototype.e=function(){return u.e("div",{className:"vjs-control-bar"})};u.Xb=u.q.extend({j:function(a,c){u.q.call(this,a,c);a.d("play",u.bind(this,this.Jb));a.d("pause",u.bind(this,this.Ib))}});t=u.Xb.prototype;t.oa="Play";t.Q=function(){return"vjs-play-control "+u.q.prototype.Q.call(this)};
t.p=function(){this.c.paused()?this.c.play():this.c.pause()};t.Jb=function(){u.t(this.a,"vjs-paused");u.n(this.a,"vjs-playing");this.a.children[0].children[0].innerHTML="Pause"};t.Ib=function(){u.t(this.a,"vjs-playing");u.n(this.a,"vjs-paused");this.a.children[0].children[0].innerHTML="Play"};u.$a=u.b.extend({j:function(a,c){u.b.call(this,a,c);a.d("timeupdate",u.bind(this,this.da))}});
u.$a.prototype.e=function(){var a=u.b.prototype.e.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});this.G=u.e("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"});a.appendChild(this.G);return a};u.$a.prototype.da=function(){var a=this.c.Va?this.c.v.currentTime:this.c.currentTime();this.G.innerHTML='<span class="vjs-control-text">Current Time </span>'+u.ta(a,this.c.duration())};
u.ab=u.b.extend({j:function(a,c){u.b.call(this,a,c);a.d("timeupdate",u.bind(this,this.da))}});u.ab.prototype.e=function(){var a=u.b.prototype.e.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});this.G=u.e("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"});a.appendChild(this.G);return a};
u.ab.prototype.da=function(){var a=this.c.duration();a&&(this.G.innerHTML='<span class="vjs-control-text">Duration Time </span>'+u.ta(a))};u.bc=u.b.extend({j:function(a,c){u.b.call(this,a,c)}});u.bc.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};u.gb=u.b.extend({j:function(a,c){u.b.call(this,a,c);a.d("timeupdate",u.bind(this,this.da))}});
u.gb.prototype.e=function(){var a=u.b.prototype.e.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});this.G=u.e("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"});a.appendChild(this.G);return a};u.gb.prototype.da=function(){this.c.duration()&&(this.G.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+u.ta(this.c.duration()-this.c.currentTime()))};
u.Ea=u.q.extend({j:function(a,c){u.q.call(this,a,c)}});u.Ea.prototype.oa="Fullscreen";u.Ea.prototype.Q=function(){return"vjs-fullscreen-control "+u.q.prototype.Q.call(this)};u.Ea.prototype.p=function(){this.c.isFullScreen()?(this.c.cancelFullScreen(),this.a.children[0].children[0].innerHTML="Fullscreen"):(this.c.requestFullScreen(),this.a.children[0].children[0].innerHTML="Non-Fullscreen")};u.fb=u.b.extend({j:function(a,c){u.b.call(this,a,c)}});u.fb.prototype.h={children:{seekBar:{}}};
u.fb.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-progress-control vjs-control"})};u.Yb=u.O.extend({j:function(a,c){u.O.call(this,a,c);a.d("timeupdate",u.bind(this,this.Aa));a.I(u.bind(this,this.Aa))}});t=u.Yb.prototype;t.h={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"};t.sc="timeupdate";t.e=function(){return u.O.prototype.e.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})};
t.Aa=function(){var a=this.c.Va?this.c.v.currentTime:this.c.currentTime();this.a.setAttribute("aria-valuenow",u.round(100*this.xb(),2));this.a.setAttribute("aria-valuetext",u.ta(a,this.c.duration()))};t.xb=function(){return this.c.currentTime()/this.c.duration()};t.Ra=function(a){u.O.prototype.Ra.call(this,a);this.c.Va=f;this.Hd=!this.c.paused();this.c.pause()};t.Gb=function(a){a=F(this,a)*this.c.duration();a==this.c.duration()&&(a-=0.1);this.c.currentTime(a)};
t.Hb=function(a){u.O.prototype.Hb.call(this,a);this.c.Va=l;this.Hd&&this.c.play()};t.zc=function(){this.c.currentTime(this.c.currentTime()+5)};t.yc=function(){this.c.currentTime(this.c.currentTime()-5)};u.cb=u.b.extend({j:function(a,c){u.b.call(this,a,c);a.d("progress",u.bind(this,this.update))}});u.cb.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})};
u.cb.prototype.update=function(){this.a.style&&(this.a.style.width=u.round(100*this.c.bufferedPercent(),2)+"%")};u.Wb=u.b.extend({j:function(a,c){u.b.call(this,a,c)}});u.Wb.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})};u.Ga=u.W.extend({j:function(a,c){u.W.call(this,a,c);a.d("timeupdate",u.bind(this,this.da))}});u.Ga.prototype.defaultValue="00:00";
u.Ga.prototype.e=function(){return u.W.prototype.e.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})};u.Ga.prototype.da=function(){var a=this.c.Va?this.c.v.currentTime:this.c.currentTime();this.a.innerHTML='<span class="vjs-control-text">'+u.ta(a,this.c.duration())+"</span>"};u.ib=u.b.extend({j:function(a,c){u.b.call(this,a,c);a.i&&(a.i.m&&a.i.m.volumeControl===l)&&this.n("vjs-hidden");a.d("loadstart",u.bind(this,function(){a.i.m&&a.i.m.volumeControl===l?this.n("vjs-hidden"):this.t("vjs-hidden")}))}});
u.ib.prototype.h={children:{volumeBar:{}}};u.ib.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-volume-control vjs-control"})};u.hb=u.O.extend({j:function(a,c){u.O.call(this,a,c);a.d("volumechange",u.bind(this,this.Aa));a.I(u.bind(this,this.Aa));setTimeout(u.bind(this,this.update),0)}});t=u.hb.prototype;t.Aa=function(){this.a.setAttribute("aria-valuenow",u.round(100*this.c.volume(),2));this.a.setAttribute("aria-valuetext",u.round(100*this.c.volume(),2)+"%")};
t.h={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"};t.sc="volumechange";t.e=function(){return u.O.prototype.e.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})};t.Gb=function(a){this.c.muted()&&this.c.muted(l);this.c.volume(F(this,a))};t.xb=function(){return this.c.muted()?0:this.c.volume()};t.zc=function(){this.c.volume(this.c.volume()+0.1)};t.yc=function(){this.c.volume(this.c.volume()-0.1)};
u.cc=u.b.extend({j:function(a,c){u.b.call(this,a,c)}});u.cc.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})};u.jb=u.W.extend();u.jb.prototype.defaultValue="00:00";u.jb.prototype.e=function(){return u.W.prototype.e.call(this,"div",{className:"vjs-volume-handle"})};
u.ea=u.q.extend({j:function(a,c){u.q.call(this,a,c);a.d("volumechange",u.bind(this,this.update));a.i&&(a.i.m&&a.i.m.volumeControl===l)&&this.n("vjs-hidden");a.d("loadstart",u.bind(this,function(){a.i.m&&a.i.m.volumeControl===l?this.n("vjs-hidden"):this.t("vjs-hidden")}))}});u.ea.prototype.e=function(){return u.q.prototype.e.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};
u.ea.prototype.p=function(){this.c.muted(this.c.muted()?l:f)};u.ea.prototype.update=function(){var a=this.c.volume(),c=3;0===a||this.c.muted()?c=0:0.33>a?c=1:0.67>a&&(c=2);this.c.muted()?"Unmute"!=this.a.children[0].children[0].innerHTML&&(this.a.children[0].children[0].innerHTML="Unmute"):"Mute"!=this.a.children[0].children[0].innerHTML&&(this.a.children[0].children[0].innerHTML="Mute");for(a=0;4>a;a++)u.t(this.a,"vjs-vol-"+a);u.n(this.a,"vjs-vol-"+c)};
u.ma=u.S.extend({j:function(a,c){u.S.call(this,a,c);a.d("volumechange",u.bind(this,this.update));a.i&&(a.i.m&&a.i.m.Dc===l)&&this.n("vjs-hidden");a.d("loadstart",u.bind(this,function(){a.i.m&&a.i.m.Dc===l?this.n("vjs-hidden"):this.t("vjs-hidden")}));this.n("vjs-menu-button")}});u.ma.prototype.Ma=function(){var a=new u.la(this.c,{Uc:"div"}),c=new u.hb(this.c,u.l.B({Gd:f},this.h.Yd));a.Y(c);return a};u.ma.prototype.p=function(){u.ea.prototype.p.call(this);u.S.prototype.p.call(this)};
u.ma.prototype.e=function(){return u.q.prototype.e.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};u.ma.prototype.update=u.ea.prototype.update;u.Fa=u.q.extend({j:function(a,c){u.q.call(this,a,c);a.poster()&&this.src(a.poster());(!a.poster()||!a.controls())&&this.D();a.d("posterchange",u.bind(this,function(){this.src(a.poster())}));a.d("play",u.bind(this,this.D))}});var Q="backgroundSize"in u.F.style;
u.Fa.prototype.e=function(){var a=u.e("div",{className:"vjs-poster",tabIndex:-1});Q||a.appendChild(u.e("img"));return a};u.Fa.prototype.src=function(a){var c=this.u();a!==b&&(Q?c.style.backgroundImage='url("'+a+'")':c.firstChild.src=a)};u.Fa.prototype.p=function(){this.C().controls()&&this.c.play()};
u.Vb=u.b.extend({j:function(a,c){u.b.call(this,a,c);a.d("canplay",u.bind(this,this.D));a.d("canplaythrough",u.bind(this,this.D));a.d("playing",u.bind(this,this.D));a.d("seeking",u.bind(this,this.show));a.d("seeked",u.bind(this,this.D));a.d("error",u.bind(this,this.show));a.d("ended",u.bind(this,this.D));a.d("waiting",u.bind(this,this.show))}});u.Vb.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-loading-spinner"})};u.Ya=u.q.extend();
u.Ya.prototype.e=function(){return u.q.prototype.e.call(this,"div",{className:"vjs-big-play-button",innerHTML:'<span aria-hidden="true"></span>',"aria-label":"play video"})};u.Ya.prototype.p=function(){this.c.play()};
u.r=u.b.extend({j:function(a,c,d){c=c||{};c.vc=l;u.b.call(this,a,c,d);var e,g;g=this;e=this.C();a=function(){if(e.controls()&&!e.usingNativeControls()){var a;g.d("mousedown",g.p);g.d("touchstart",function(c){c.preventDefault();a=this.c.userActive()});g.d("touchmove",function(){a&&this.C().reportUserActivity()});var c,d,n,s;c=0;g.d("touchstart",function(){c=(new Date).getTime();n=f});s=function(){n=l};g.d("touchmove",s);g.d("touchleave",s);g.d("touchcancel",s);g.d("touchend",function(){n===f&&(d=(new Date).getTime()-
c,250>d&&this.k("tap"))});g.d("tap",g.qd)}};c=u.bind(g,g.td);this.I(a);e.d("controlsenabled",a);e.d("controlsdisabled",c)}});t=u.r.prototype;t.td=function(){this.o("tap");this.o("touchstart");this.o("touchmove");this.o("touchleave");this.o("touchcancel");this.o("touchend");this.o("click");this.o("mousedown")};t.p=function(a){0===a.button&&this.C().controls()&&(this.C().paused()?this.C().play():this.C().pause())};t.qd=function(){this.C().userActive(!this.C().userActive())};t.Lb=m();
t.m={volumeControl:f,fullscreenResize:l,progressEvents:l,timeupdateEvents:l};u.media={};u.media.Xa="play pause paused currentTime setCurrentTime duration buffered volume setVolume muted setMuted width height supportsFullScreen enterFullScreen src load currentSrc preload setPreload autoplay setAutoplay loop setLoop error networkState readyState seeking initialTime startOffsetTime played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks defaultPlaybackRate playbackRate mediaGroup controller controls defaultMuted".split(" ");
function ea(){var a=u.media.Xa[i];return function(){throw Error('The "'+a+"\" method is not available on the playback technology's API");}}for(var i=u.media.Xa.length-1;0<=i;i--)u.r.prototype[u.media.Xa[i]]=ea();
u.g=u.r.extend({j:function(a,c,d){this.m.volumeControl=u.g.Tc();this.m.movingMediaElementInDOM=!u.Ic;this.m.fullscreenResize=f;u.r.call(this,a,c,d);for(d=u.g.bb.length-1;0<=d;d--)u.d(this.a,u.g.bb[d],u.bind(this.c,this.ad));(c=c.source)&&this.a.currentSrc===c.src&&0<this.a.networkState?a.k("loadstart"):c&&(this.a.src=c.src);if(u.$b&&a.options().nativeControlsForTouch!==l){var e,g,j,k;e=this;g=this.C();c=g.controls();e.a.controls=!!c;j=function(){e.a.controls=f};k=function(){e.a.controls=l};g.d("controlsenabled",
j);g.d("controlsdisabled",k);c=function(){g.o("controlsenabled",j);g.o("controlsdisabled",k)};e.d("dispose",c);g.d("usingcustomcontrols",c);g.usingNativeControls(f)}a.I(function(){this.M&&(this.h.autoplay&&this.paused())&&(delete this.M.poster,this.play())});this.za()}});t=u.g.prototype;t.dispose=function(){u.r.prototype.dispose.call(this)};
t.e=function(){var a=this.c,c=a.M,d;if(!c||this.m.movingMediaElementInDOM===l)c?(d=c.cloneNode(l),u.g.gc(c),c=d,a.M=h):c=u.e("video",{id:a.id()+"_html5_api",className:"vjs-tech"}),c.player=a,u.yb(c,a.u());d=["autoplay","preload","loop","muted"];for(var e=d.length-1;0<=e;e--){var g=d[e];a.h[g]!==h&&(c[g]=a.h[g])}return c};t.ad=function(a){this.k(a);a.stopPropagation()};t.play=function(){this.a.play()};t.pause=function(){this.a.pause()};t.paused=function(){return this.a.paused};t.currentTime=function(){return this.a.currentTime};
t.vd=function(a){try{this.a.currentTime=a}catch(c){u.log(c,"Video is not ready. (Video.js)")}};t.duration=function(){return this.a.duration||0};t.buffered=function(){return this.a.buffered};t.volume=function(){return this.a.volume};t.Ad=function(a){this.a.volume=a};t.muted=function(){return this.a.muted};t.yd=function(a){this.a.muted=a};t.width=function(){return this.a.offsetWidth};t.height=function(){return this.a.offsetHeight};
t.Wa=function(){return"function"==typeof this.a.webkitEnterFullScreen&&(/Android/.test(u.J)||!/Chrome|Mac OS X 10.5/.test(u.J))?f:l};t.hc=function(){var a=this.a;a.paused&&a.networkState<=a.Jd?(this.a.play(),setTimeout(function(){a.pause();a.webkitEnterFullScreen()},0)):a.webkitEnterFullScreen()};t.bd=function(){this.a.webkitExitFullScreen()};t.src=function(a){this.a.src=a};t.load=function(){this.a.load()};t.currentSrc=function(){return this.a.currentSrc};t.poster=function(){return this.a.poster};
t.Lb=function(a){this.a.poster=a};t.Sa=function(){return this.a.Sa};t.zd=function(a){this.a.Sa=a};t.autoplay=function(){return this.a.autoplay};t.ud=function(a){this.a.autoplay=a};t.controls=function(){return this.a.controls};t.loop=function(){return this.a.loop};t.xd=function(a){this.a.loop=a};t.error=function(){return this.a.error};t.seeking=function(){return this.a.seeking};t.ended=function(){return this.a.ended};u.g.isSupported=function(){try{u.F.volume=0.5}catch(a){return l}return!!u.F.canPlayType};
u.g.nb=function(a){try{return!!u.F.canPlayType(a.type)}catch(c){return""}};u.g.Tc=function(){var a=u.F.volume;u.F.volume=a/2+0.1;return a!==u.F.volume};var R,fa=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,ga=/^video\/mp4/i;
u.g.rc=function(){4<=u.Qb&&(R||(R=u.F.constructor.prototype.canPlayType),u.F.constructor.prototype.canPlayType=function(a){return a&&fa.test(a)?"maybe":R.call(this,a)});u.Mc&&(R||(R=u.F.constructor.prototype.canPlayType),u.F.constructor.prototype.canPlayType=function(a){return a&&ga.test(a)?"maybe":R.call(this,a)})};u.g.Fd=function(){var a=u.F.constructor.prototype.canPlayType;u.F.constructor.prototype.canPlayType=R;R=h;return a};u.g.rc();u.g.bb="loadstart suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate progress play pause ratechange volumechange".split(" ");
u.g.gc=function(a){if(a){a.player=h;for(a.parentNode&&a.parentNode.removeChild(a);a.hasChildNodes();)a.removeChild(a.firstChild);a.removeAttribute("src");if("function"===typeof a.load)try{a.load()}catch(c){}}};
u.f=u.r.extend({j:function(a,c,d){u.r.call(this,a,c,d);var e=c.source;d=c.parentEl;var g=this.a=u.e("div",{id:a.id()+"_temp_flash"}),j=a.id()+"_flash_api";a=a.h;var k=u.l.B({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:a.autoplay,preload:a.Sa,loop:a.loop,muted:a.muted},c.flashVars),r=u.l.B({wmode:"opaque",bgcolor:"#000000"},c.params),n=u.l.B({id:j,name:j,"class":"vjs-tech"},c.attributes),s;e&&(e.type&&u.f.jd(e.type)?
(a=u.f.Ac(e.src),k.rtmpConnection=encodeURIComponent(a.qb),k.rtmpStream=encodeURIComponent(a.Mb)):k.src=encodeURIComponent(u.kc(e.src)));this.setCurrentTime=function(a){s=a;this.a.vjs_setProperty("currentTime",a)};this.currentTime=function(){return this.seeking()?s:this.a.vjs_getProperty("currentTime")};u.yb(g,d);c.startTime&&this.I(function(){this.load();this.play();this.currentTime(c.startTime)});u.Ub&&this.I(function(){u.d(this.u(),"mousemove",u.bind(this,function(){this.C().k({type:"mousemove",
bubbles:l})}))});if(c.iFrameMode===f&&!u.Ub){var D=u.e("iframe",{id:j+"_iframe",name:j+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});k.readyFunction="ready";k.eventProxyFunction="events";k.errorEventProxyFunction="errors";u.d(D,"load",u.bind(this,function(){var a,d=D.contentWindow;a=D.contentDocument?D.contentDocument:D.contentWindow.document;a.write(u.f.lc(c.swf,k,r,n));d.player=this.c;d.ready=u.bind(this.c,function(c){var d=this.i;d.a=a.getElementById(c);
u.f.pb(d)});d.events=u.bind(this.c,function(a,c){this&&"flash"===this.xa&&this.k(c)});d.errors=u.bind(this.c,function(a,c){u.log("Flash Error",c)})}));g.parentNode.replaceChild(D,g)}else u.f.$c(c.swf,g,k,r,n)}});t=u.f.prototype;t.dispose=function(){u.r.prototype.dispose.call(this)};t.play=function(){this.a.vjs_play()};t.pause=function(){this.a.vjs_pause()};
t.src=function(a){if(a===b)return this.currentSrc();u.f.hd(a)?(a=u.f.Ac(a),this.Td(a.qb),this.Ud(a.Mb)):(a=u.kc(a),this.a.vjs_src(a));if(this.c.autoplay()){var c=this;setTimeout(function(){c.play()},0)}};t.currentSrc=function(){var a=this.a.vjs_getProperty("currentSrc");if(a==h){var c=this.rtmpConnection(),d=this.rtmpStream();c&&d&&(a=u.f.Bd(c,d))}return a};t.load=function(){this.a.vjs_load()};t.poster=function(){this.a.vjs_getProperty("poster")};t.Lb=m();t.buffered=function(){return u.sb(0,this.a.vjs_getProperty("buffered"))};
t.Wa=q(l);t.hc=q(l);var S=u.f.prototype,T="rtmpConnection rtmpStream preload defaultPlaybackRate playbackRate autoplay loop mediaGroup controller controls volume muted defaultMuted".split(" "),U="error networkState readyState seeking initialTime duration startOffsetTime paused played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks".split(" ");function ha(){var a=T[V],c=a.charAt(0).toUpperCase()+a.slice(1);S["set"+c]=function(c){return this.a.vjs_setProperty(a,c)}}
function W(a){S[a]=function(){return this.a.vjs_getProperty(a)}}var V;for(V=0;V<T.length;V++)W(T[V]),ha();for(V=0;V<U.length;V++)W(U[V]);u.f.isSupported=function(){return 10<=u.f.version()[0]};u.f.nb=function(a){if(!a.type)return"";a=a.type.replace(/;.*/,"").toLowerCase();if(a in u.f.dd||a in u.f.Bc)return"maybe"};u.f.dd={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"};u.f.Bc={"rtmp/mp4":"MP4","rtmp/flv":"FLV"};
u.f.onReady=function(a){a=u.u(a);var c=a.player||a.parentNode.player,d=c.i;a.player=c;d.a=a;u.f.pb(d)};u.f.pb=function(a){a.u().vjs_getProperty?a.za():setTimeout(function(){u.f.pb(a)},50)};u.f.onEvent=function(a,c){u.u(a).player.k(c)};u.f.onError=function(a,c){u.u(a).player.k("error");u.log("Flash Error",c,a)};
u.f.version=function(){var a="0,0,0";try{a=(new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(c){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(a=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(d){}}return a.split(",")};
u.f.$c=function(a,c,d,e,g){a=u.f.lc(a,d,e,g);a=u.e("div",{innerHTML:a}).childNodes[0];d=c.parentNode;c.parentNode.replaceChild(a,c);var j=d.childNodes[0];setTimeout(function(){j.style.display="block"},1E3)};
u.f.lc=function(a,c,d,e){var g="",j="",k="";c&&u.l.ra(c,function(a,c){g+=a+"="+c+"&amp;"});d=u.l.B({movie:a,flashvars:g,allowScriptAccess:"always",allowNetworking:"all"},d);u.l.ra(d,function(a,c){j+='<param name="'+a+'" value="'+c+'" />'});e=u.l.B({data:a,width:"100%",height:"100%"},e);u.l.ra(e,function(a,c){k+=a+'="'+c+'" '});return'<object type="application/x-shockwave-flash"'+k+">"+j+"</object>"};u.f.Bd=function(a,c){return a+"&"+c};
u.f.Ac=function(a){var c={qb:"",Mb:""};if(!a)return c;var d=a.indexOf("&"),e;-1!==d?e=d+1:(d=e=a.lastIndexOf("/")+1,0===d&&(d=e=a.length));c.qb=a.substring(0,d);c.Mb=a.substring(e,a.length);return c};u.f.jd=function(a){return a in u.f.Bc};u.f.Oc=/^rtmp[set]?:\/\//i;u.f.hd=function(a){return u.f.Oc.test(a)};
u.Nc=u.b.extend({j:function(a,c,d){u.b.call(this,a,c,d);if(!a.h.sources||0===a.h.sources.length){c=0;for(d=a.h.techOrder;c<d.length;c++){var e=u.Z(d[c]),g=window.videojs[e];if(g&&g.isSupported()){I(a,e);break}}}else a.src(a.h.sources)}});u.Player.prototype.textTracks=function(){return this.ya=this.ya||[]};function X(a,c,d){for(var e=a.ya,g=0,j=e.length,k,r;g<j;g++)k=e[g],k.id()===c?(k.show(),r=k):d&&(k.H()==d&&0<k.mode())&&k.disable();(c=r?r.H():d?d:l)&&a.k(c+"trackchange")}
u.w=u.b.extend({j:function(a,c){u.b.call(this,a,c);this.R=c.id||"vjs_"+c.kind+"_"+c.language+"_"+u.s++;this.xc=c.src;this.Xc=c["default"]||c.dflt;this.Dd=c.title;this.Qd=c.srclang;this.kd=c.label;this.$=[];this.kb=[];this.ga=this.ha=0;this.c.d("fullscreenchange",u.bind(this,this.Qc))}});t=u.w.prototype;t.H=p("A");t.src=p("xc");t.tb=p("Xc");t.title=p("Dd");t.label=p("kd");t.Vc=p("$");t.Pc=p("kb");t.readyState=p("ha");t.mode=p("ga");
t.Qc=function(){this.a.style.fontSize=this.c.isFullScreen()?140*(screen.width/this.c.width())+"%":""};t.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-"+this.A+" vjs-text-track"})};t.show=function(){Y(this);this.ga=2;u.b.prototype.show.call(this)};t.D=function(){Y(this);this.ga=1;u.b.prototype.D.call(this)};
t.disable=function(){2==this.ga&&this.D();this.c.o("timeupdate",u.bind(this,this.update,this.R));this.c.o("ended",u.bind(this,this.reset,this.R));this.reset();this.c.fa("textTrackDisplay").removeChild(this);this.ga=0};function Y(a){0===a.ha&&a.load();0===a.ga&&(a.c.d("timeupdate",u.bind(a,a.update,a.R)),a.c.d("ended",u.bind(a,a.reset,a.R)),("captions"===a.A||"subtitles"===a.A)&&a.c.fa("textTrackDisplay").Y(a))}
t.load=function(){0===this.ha&&(this.ha=1,u.get(this.xc,u.bind(this,this.rd),u.bind(this,this.Fb)))};t.Fb=function(a){this.error=a;this.ha=3;this.k("error")};t.rd=function(a){var c,d;a=a.split("\n");for(var e="",g=1,j=a.length;g<j;g++)if(e=u.trim(a[g])){-1==e.indexOf("--\x3e")?(c=e,e=u.trim(a[++g])):c=this.$.length;c={id:c,index:this.$.length};d=e.split(" --\x3e ");c.startTime=ia(d[0]);c.sa=ia(d[1]);for(d=[];a[++g]&&(e=u.trim(a[g]));)d.push(e);c.text=d.join("<br/>");this.$.push(c)}this.ha=2;this.k("loaded")};
function ia(a){var c=a.split(":");a=0;var d,e,g;3==c.length?(d=c[0],e=c[1],c=c[2]):(d=0,e=c[0],c=c[1]);c=c.split(/\s+/);c=c.splice(0,1)[0];c=c.split(/\.|,/);g=parseFloat(c[1]);c=c[0];a+=3600*parseFloat(d);a+=60*parseFloat(e);a+=parseFloat(c);g&&(a+=g/1E3);return a}
t.update=function(){if(0<this.$.length){var a=this.c.currentTime();if(this.Kb===b||a<this.Kb||this.Oa<=a){var c=this.$,d=this.c.duration(),e=0,g=l,j=[],k,r,n,s;a>=this.Oa||this.Oa===b?s=this.vb!==b?this.vb:0:(g=f,s=this.Bb!==b?this.Bb:c.length-1);for(;;){n=c[s];if(n.sa<=a)e=Math.max(e,n.sa),n.Ia&&(n.Ia=l);else if(a<n.startTime){if(d=Math.min(d,n.startTime),n.Ia&&(n.Ia=l),!g)break}else g?(j.splice(0,0,n),r===b&&(r=s),k=s):(j.push(n),k===b&&(k=s),r=s),d=Math.min(d,n.sa),e=Math.max(e,n.startTime),n.Ia=
f;if(g)if(0===s)break;else s--;else if(s===c.length-1)break;else s++}this.kb=j;this.Oa=d;this.Kb=e;this.vb=k;this.Bb=r;a=this.kb;c="";d=0;for(e=a.length;d<e;d++)c+='<span class="vjs-tt-cue">'+a[d].text+"</span>";this.a.innerHTML=c;this.k("cuechange")}}};t.reset=function(){this.Oa=0;this.Kb=this.c.duration();this.Bb=this.vb=0};u.Sb=u.w.extend();u.Sb.prototype.A="captions";u.Zb=u.w.extend();u.Zb.prototype.A="subtitles";u.Tb=u.w.extend();u.Tb.prototype.A="chapters";
u.ac=u.b.extend({j:function(a,c,d){u.b.call(this,a,c,d);if(a.h.tracks&&0<a.h.tracks.length){c=this.c;a=a.h.tracks;var e;for(d=0;d<a.length;d++){e=a[d];var g=c,j=e.kind,k=e.label,r=e.language,n=e;e=g.ya=g.ya||[];n=n||{};n.kind=j;n.label=k;n.language=r;j=u.Z(j||"subtitles");g=new window.videojs[j+"Track"](g,n);e.push(g)}}}});u.ac.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-text-track-display"})};
u.X=u.N.extend({j:function(a,c){var d=this.ca=c.track;c.label=d.label();c.selected=d.tb();u.N.call(this,a,c);this.c.d(d.H()+"trackchange",u.bind(this,this.update))}});u.X.prototype.p=function(){u.N.prototype.p.call(this);X(this.c,this.ca.R,this.ca.H())};u.X.prototype.update=function(){this.selected(2==this.ca.mode())};u.eb=u.X.extend({j:function(a,c){c.track={H:function(){return c.kind},C:a,label:function(){return c.kind+" off"},tb:q(l),mode:q(l)};u.X.call(this,a,c);this.selected(f)}});
u.eb.prototype.p=function(){u.X.prototype.p.call(this);X(this.c,this.ca.R,this.ca.H())};u.eb.prototype.update=function(){for(var a=this.c.textTracks(),c=0,d=a.length,e,g=f;c<d;c++)e=a[c],e.H()==this.ca.H()&&2==e.mode()&&(g=l);this.selected(g)};u.T=u.S.extend({j:function(a,c){u.S.call(this,a,c);1>=this.L.length&&this.D()}});
u.T.prototype.qa=function(){var a=[],c;a.push(new u.eb(this.c,{kind:this.A}));for(var d=0;d<this.c.textTracks().length;d++)c=this.c.textTracks()[d],c.H()===this.A&&a.push(new u.X(this.c,{track:c}));return a};u.Ba=u.T.extend({j:function(a,c,d){u.T.call(this,a,c,d);this.a.setAttribute("aria-label","Captions Menu")}});u.Ba.prototype.A="captions";u.Ba.prototype.oa="Captions";u.Ba.prototype.className="vjs-captions-button";
u.Ha=u.T.extend({j:function(a,c,d){u.T.call(this,a,c,d);this.a.setAttribute("aria-label","Subtitles Menu")}});u.Ha.prototype.A="subtitles";u.Ha.prototype.oa="Subtitles";u.Ha.prototype.className="vjs-subtitles-button";u.Ca=u.T.extend({j:function(a,c,d){u.T.call(this,a,c,d);this.a.setAttribute("aria-label","Chapters Menu")}});t=u.Ca.prototype;t.A="chapters";t.oa="Chapters";t.className="vjs-chapters-button";
t.qa=function(){for(var a=[],c,d=0;d<this.c.textTracks().length;d++)c=this.c.textTracks()[d],c.H()===this.A&&a.push(new u.X(this.c,{track:c}));return a};
t.Ma=function(){for(var a=this.c.textTracks(),c=0,d=a.length,e,g,j=this.L=[];c<d;c++)if(e=a[c],e.H()==this.A&&e.tb()){if(2>e.readyState()){this.Nd=e;e.d("loaded",u.bind(this,this.Ma));return}g=e;break}a=this.ua=new u.la(this.c);a.a.appendChild(u.e("li",{className:"vjs-menu-title",innerHTML:u.Z(this.A),Cd:-1}));if(g){e=g.$;for(var k,c=0,d=e.length;c<d;c++)k=e[c],k=new u.Za(this.c,{track:g,cue:k}),j.push(k),a.Y(k)}0<this.L.length&&this.show();return a};
u.Za=u.N.extend({j:function(a,c){var d=this.ca=c.track,e=this.cue=c.cue,g=a.currentTime();c.label=e.text;c.selected=e.startTime<=g&&g<e.sa;u.N.call(this,a,c);d.d("cuechange",u.bind(this,this.update))}});u.Za.prototype.p=function(){u.N.prototype.p.call(this);this.c.currentTime(this.cue.startTime);this.update(this.cue.startTime)};u.Za.prototype.update=function(){var a=this.cue,c=this.c.currentTime();this.selected(a.startTime<=c&&c<a.sa)};
u.l.B(u.Da.prototype.h.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}});
if("undefined"!==typeof window.JSON&&"function"===window.JSON.parse)u.JSON=window.JSON;else{u.JSON={};var Z=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;u.JSON.parse=function(a,c){function d(a,e){var k,r,n=a[e];if(n&&"object"===typeof n)for(k in n)Object.prototype.hasOwnProperty.call(n,k)&&(r=d(n,k),r!==b?n[k]=r:delete n[k]);return c.call(a,e,n)}var e;a=String(a);Z.lastIndex=0;Z.test(a)&&(a=a.replace(Z,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));
if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data");}}
u.dc=function(){var a,c,d=document.getElementsByTagName("video");if(d&&0<d.length)for(var e=0,g=d.length;e<g;e++)if((c=d[e])&&c.getAttribute)c.player===b&&(a=c.getAttribute("data-setup"),a!==h&&(a=u.JSON.parse(a||"{}"),videojs(c,a)));else{u.lb();break}else u.Ec||u.lb()};u.lb=function(){setTimeout(u.dc,1)};"complete"===document.readyState?u.Ec=f:u.U(window,"load",function(){u.Ec=f});u.lb();u.sd=function(a,c){u.Player.prototype[a]=c};var ja=this;ja.Id=f;function $(a,c){var d=a.split("."),e=ja;!(d[0]in e)&&e.execScript&&e.execScript("var "+d[0]);for(var g;d.length&&(g=d.shift());)!d.length&&c!==b?e[g]=c:e=e[g]?e[g]:e[g]={}};$("videojs",u);$("_V_",u);$("videojs.options",u.options);$("videojs.players",u.va);$("videojs.TOUCH_ENABLED",u.$b);$("videojs.cache",u.pa);$("videojs.Component",u.b);u.b.prototype.player=u.b.prototype.C;u.b.prototype.options=u.b.prototype.options;u.b.prototype.init=u.b.prototype.j;u.b.prototype.dispose=u.b.prototype.dispose;u.b.prototype.createEl=u.b.prototype.e;u.b.prototype.contentEl=u.b.prototype.La;u.b.prototype.el=u.b.prototype.u;u.b.prototype.addChild=u.b.prototype.Y;
u.b.prototype.getChild=u.b.prototype.fa;u.b.prototype.getChildById=u.b.prototype.ed;u.b.prototype.children=u.b.prototype.children;u.b.prototype.initChildren=u.b.prototype.nc;u.b.prototype.removeChild=u.b.prototype.removeChild;u.b.prototype.on=u.b.prototype.d;u.b.prototype.off=u.b.prototype.o;u.b.prototype.one=u.b.prototype.U;u.b.prototype.trigger=u.b.prototype.k;u.b.prototype.triggerReady=u.b.prototype.za;u.b.prototype.show=u.b.prototype.show;u.b.prototype.hide=u.b.prototype.D;
u.b.prototype.width=u.b.prototype.width;u.b.prototype.height=u.b.prototype.height;u.b.prototype.dimensions=u.b.prototype.Yc;u.b.prototype.ready=u.b.prototype.I;u.b.prototype.addClass=u.b.prototype.n;u.b.prototype.removeClass=u.b.prototype.t;u.b.prototype.buildCSSClass=u.b.prototype.Q;u.Player.prototype.ended=u.Player.prototype.ended;$("videojs.MediaLoader",u.Nc);$("videojs.TextTrackDisplay",u.ac);$("videojs.ControlBar",u.Da);$("videojs.Button",u.q);$("videojs.PlayToggle",u.Xb);
$("videojs.FullscreenToggle",u.Ea);$("videojs.BigPlayButton",u.Ya);$("videojs.LoadingSpinner",u.Vb);$("videojs.CurrentTimeDisplay",u.$a);$("videojs.DurationDisplay",u.ab);$("videojs.TimeDivider",u.bc);$("videojs.RemainingTimeDisplay",u.gb);$("videojs.Slider",u.O);$("videojs.ProgressControl",u.fb);$("videojs.SeekBar",u.Yb);$("videojs.LoadProgressBar",u.cb);$("videojs.PlayProgressBar",u.Wb);$("videojs.SeekHandle",u.Ga);$("videojs.VolumeControl",u.ib);$("videojs.VolumeBar",u.hb);
$("videojs.VolumeLevel",u.cc);$("videojs.VolumeMenuButton",u.ma);$("videojs.VolumeHandle",u.jb);$("videojs.MuteToggle",u.ea);$("videojs.PosterImage",u.Fa);$("videojs.Menu",u.la);$("videojs.MenuItem",u.N);$("videojs.MenuButton",u.S);u.S.prototype.createItems=u.S.prototype.qa;u.T.prototype.createItems=u.T.prototype.qa;u.Ca.prototype.createItems=u.Ca.prototype.qa;$("videojs.SubtitlesButton",u.Ha);$("videojs.CaptionsButton",u.Ba);$("videojs.ChaptersButton",u.Ca);$("videojs.MediaTechController",u.r);
u.r.prototype.features=u.r.prototype.m;u.r.prototype.m.volumeControl=u.r.prototype.m.Dc;u.r.prototype.m.fullscreenResize=u.r.prototype.m.Od;u.r.prototype.m.progressEvents=u.r.prototype.m.Sd;u.r.prototype.m.timeupdateEvents=u.r.prototype.m.Vd;u.r.prototype.setPoster=u.r.prototype.Lb;$("videojs.Html5",u.g);u.g.Events=u.g.bb;u.g.isSupported=u.g.isSupported;u.g.canPlaySource=u.g.nb;u.g.patchCanPlayType=u.g.rc;u.g.unpatchCanPlayType=u.g.Fd;u.g.prototype.setCurrentTime=u.g.prototype.vd;
u.g.prototype.setVolume=u.g.prototype.Ad;u.g.prototype.setMuted=u.g.prototype.yd;u.g.prototype.setPreload=u.g.prototype.zd;u.g.prototype.setAutoplay=u.g.prototype.ud;u.g.prototype.setLoop=u.g.prototype.xd;u.g.prototype.enterFullScreen=u.g.prototype.hc;u.g.prototype.exitFullScreen=u.g.prototype.bd;$("videojs.Flash",u.f);u.f.isSupported=u.f.isSupported;u.f.canPlaySource=u.f.nb;u.f.onReady=u.f.onReady;$("videojs.TextTrack",u.w);u.w.prototype.label=u.w.prototype.label;u.w.prototype.kind=u.w.prototype.H;
u.w.prototype.mode=u.w.prototype.mode;u.w.prototype.cues=u.w.prototype.Vc;u.w.prototype.activeCues=u.w.prototype.Pc;$("videojs.CaptionsTrack",u.Sb);$("videojs.SubtitlesTrack",u.Zb);$("videojs.ChaptersTrack",u.Tb);$("videojs.autoSetup",u.dc);$("videojs.plugin",u.sd);$("videojs.createTimeRange",u.sb);$("videojs.util",u.ja);u.ja.mergeOptions=u.ja.Eb;})();

},{}]},{},[14])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9mYWN0b3ItYnVuZGxlL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY29kZS1zdHVkaW8uanMiLCJzcmMvanMvdmlkZW9zLmpzIiwic3JjL2pzL3VybF90ZXN0LmpzIiwibm9kZV9tb2R1bGVzL3ZpZGVvLmpzL2Rpc3QvdmlkZW8tanMvdmlkZW8uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2U0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qKlxuICogQGZpbGUgUmVwbGFjZW1lbnQgZm9yIGFwcGxpY2F0aW9uLmpzLmVyYiBpbiBkYXNoYm9hcmQgYXMgbXVjaCBhcyBwb3NzaWJsZS5cbiAqICAgICAgIENvZGUgYWRkZWQgaGVyZSB3aWxsIGJlIGxvYWRlZCBmb3IgKGFsbW9zdCkgZXZlcnkgcGFnZSBpbiBkYXNoYm9hcmQsXG4gKiAgICAgICBzbyB1c2Ugc3BhcmluZ2x5IVxuICovXG4ndXNlIHN0cmljdCc7XG5cbnJlcXVpcmUoJy4vdmlkZW9zJyk7XG4iLCIndXNlIHN0cmljdCc7XG4vKiBnbG9iYWwgZGFzaGJvYXJkLCBEaWFsb2csIFlUICovXG5cbnZhciB2aWRlb2pzID0gcmVxdWlyZSgndmlkZW8uanMnKTtcbnZhciB0ZXN0SW1hZ2VBY2Nlc3MgPSByZXF1aXJlKCcuL3VybF90ZXN0Jyk7XG5cbndpbmRvdy5jcmVhdGVWaWRlb1dpdGhGYWxsYmFjayA9IGZ1bmN0aW9uKHBhcmVudEVsZW1lbnQsIG9wdGlvbnMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgdXBncmFkZUluc2VjdXJlT3B0aW9ucyhvcHRpb25zKTtcbiAgdmFyIHZpZGVvID0gY3JlYXRlVmlkZW8ob3B0aW9ucyk7XG4gIHZpZGVvLndpZHRoKHdpZHRoKS5oZWlnaHQoaGVpZ2h0KTtcbiAgaWYocGFyZW50RWxlbWVudCkge1xuICAgIHBhcmVudEVsZW1lbnQuYXBwZW5kKHZpZGVvKTtcbiAgfVxuICBzZXR1cFZpZGVvRmFsbGJhY2sob3B0aW9ucywgd2lkdGgsIGhlaWdodCk7XG4gIHJldHVybiB2aWRlbztcbn07XG5cbmZ1bmN0aW9uIG9uVmlkZW9FbmRlZCgpIHtcbiAgJCgnLnZpZGVvLW1vZGFsJykudHJpZ2dlcihcImVuZGVkXCIpO1xufVxuXG5mdW5jdGlvbiBvbllvdVR1YmVJZnJhbWVBUElSZWFkeSgpIHtcbiAgLy8gcmVxdWlyZXMgdGhlcmUgYmUgYW4gaWZyYW1lI3ZpZGVvIHByZXNlbnQgb24gdGhlIHBhZ2VcbiAgdmFyIHBsYXllciA9IG5ldyBZVC5QbGF5ZXIoJ3ZpZGVvJyk7XG4gIHBsYXllci5hZGRFdmVudExpc3RlbmVyKCdvblN0YXRlQ2hhbmdlJywgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLmRhdGEgPT09IFlULlBsYXllclN0YXRlLkVOREVEKSB7XG4gICAgICBvblZpZGVvRW5kZWQoKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVWaWRlbyhvcHRpb25zKSB7XG4gIHJldHVybiAkKCc8aWZyYW1lIGlkPVwidmlkZW9cIi8+JykuYWRkQ2xhc3MoJ3ZpZGVvLXBsYXllcicpLmF0dHIoe1xuICAgIHNyYzogb3B0aW9ucy5zcmMsXG4gICAgc2Nyb2xsaW5nOiAnbm8nXG4gIH0pO1xufVxuXG4vLyBPcHRpb25zIGluY2x1ZGU6XG4vLyAgIHNyYyAtIHRoZSB1cmwgdG8gdGhlIHZpZGVvXG4vLyAgIGtleSAtIGFuIHVpZC5cbi8vICAgbmFtZSAtIGEgc3RyaW5nLlxuLy8gICByZWRpcmVjdCAtIHRoZSByZWRpcmVjdCBwYWdlIGFmdGVyIHRoZSB2aWRlbyBpcyBkaXNtaXNzZWQuXG4vLyAgIG9uQ2xvc2UgLSBhY3Rpb25zIHRvIHRha2UgYWZ0ZXIgY2xvc2luZyB0aGUgdmlkZW8gZGlhbG9nLCBvciBpbW1lZGlhdGVseVxuLy8gICAgICAgICAgICAgaWYgdGhlIHZpZGVvIGlzbid0IHNob3duLlxud2luZG93LnNob3dWaWRlb0RpYWxvZyA9IGZ1bmN0aW9uKG9wdGlvbnMsIGZvcmNlU2hvd1ZpZGVvKSB7XG4gIGlmIChmb3JjZVNob3dWaWRlbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZm9yY2VTaG93VmlkZW8gPSBmYWxzZTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLm9uQ2xvc2UgPT09IHVuZGVmaW5lZCkge1xuICAgIG9wdGlvbnMub25DbG9zZSA9IGZ1bmN0aW9uICgpIHt9O1xuICB9XG5cbiAgaWYgKGRhc2hib2FyZC5jbGllbnRTdGF0ZS5oYXNTZWVuVmlkZW8ob3B0aW9ucy5rZXkpICYmIGZvcmNlU2hvd1ZpZGVvID09PSBmYWxzZSkge1xuICAgIC8vIEFueXRoaW5nIHdlIHdlcmUgZ29pbmcgdG8gZG8gd2hlbiB0aGUgdmlkZW8gY2xvc2VkLCB3ZSBvdWdodCB0byBkb1xuICAgIC8vIHJpZ2h0IG5vdy5cbiAgICBvcHRpb25zLm9uQ2xvc2UoKTtcbiAgICBpZiAob3B0aW9ucy5yZWRpcmVjdCkge1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBvcHRpb25zLnJlZGlyZWN0O1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICB1cGdyYWRlSW5zZWN1cmVPcHRpb25zKG9wdGlvbnMpO1xuICB2YXIgd2lkdGhSYXRpbyA9IDAuODtcbiAgdmFyIGhlaWdodFJhdGlvID0gMC44O1xuICB2YXIgYXNwZWN0UmF0aW8gPSAxNiAvIDk7XG5cbiAgdmFyIGJvZHkgPSAkKCc8ZGl2Lz4nKTtcbiAgdmFyIGNvbnRlbnQgPSAkKCcjbm90ZXMtY29udGVudCcpLmNvbnRlbnRzKCkuY2xvbmUoKTtcbiAgY29udGVudC5maW5kKCcudmlkZW8tbmFtZScpLnRleHQob3B0aW9ucy5uYW1lKTtcbiAgYm9keS5hcHBlbmQoY29udGVudCk7XG5cbiAgdmFyIHZpZGVvID0gY3JlYXRlVmlkZW8ob3B0aW9ucyk7XG4gIGJvZHkuYXBwZW5kKHZpZGVvKTtcblxuICB2YXIgbm90ZXNEaXYgPSAkKCc8ZGl2IGlkPVwibm90ZXMtb3V0ZXJcIj48ZGl2IGlkPVwibm90ZXNcIi8+PC9kaXY+Jyk7XG4gIGJvZHkuYXBwZW5kKG5vdGVzRGl2KTtcbiAgZ2V0U2hvd05vdGVzKG9wdGlvbnMua2V5LCBub3Rlc0Rpdi5jaGlsZHJlbignI25vdGVzJykpO1xuXG4gIHZhciBkaWFsb2cgPSBuZXcgRGlhbG9nKHsgYm9keTogYm9keSwgcmVkaXJlY3QgOiBvcHRpb25zLnJlZGlyZWN0IH0pO1xuICB2YXIgJGRpdiA9ICQoZGlhbG9nLmRpdik7XG4gICRkaXYuYWRkQ2xhc3MoJ3ZpZGVvLW1vZGFsJyk7XG5cbiAgJCgnLnZpZGVvLW1vZGFsJykub24oXCJyZW1vdmVcIiwgZnVuY3Rpb24gKCkge1xuICAgIC8vIE1hbnVhbGx5IHJlbW92aW5nIHNyYyB0byBmaXggYSBjb250aW51YWwgcGxheWJhY2sgYnVnIGluIElFOVxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9jb2RlLWRvdC1vcmcvY29kZS1kb3Qtb3JnL3B1bGwvNTI3NyNpc3N1ZS0xMTYyNTMxNjhcbiAgICB2aWRlby5yZW1vdmVBdHRyKCdzcmMnKTtcbiAgICBvcHRpb25zLm9uQ2xvc2UoKTtcbiAgICBkYXNoYm9hcmQuY2xpZW50U3RhdGUucmVjb3JkVmlkZW9TZWVuKG9wdGlvbnMua2V5KTtcbiAgICAvLyBSYWlzZSBhbiBldmVudCB0aGF0IHRoZSBkaWFsb2cgaGFzIGJlZW4gaGlkZGVuLCBpbiBjYXNlIGFueXRoaW5nIG5lZWRzIHRvXG4gICAgLy8gcGxheS9yZXNwb25kIHRvIGl0LlxuICAgIHZhciBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgIGV2ZW50LmluaXRFdmVudCgndmlkZW9IaWRkZW4nLCB0cnVlLCB0cnVlKTtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgfSk7XG5cbiAgdmFyIHRhYkhhbmRsZXIgPSBmdW5jdGlvbihldmVudCwgdWkpIHtcbiAgICB2YXIgdGFiID0gdWkudGFiIHx8IHVpLm5ld1RhYjsgIC8vIERlcGVuZHMgb24gZXZlbnQuXG4gICAgdmFyIHZpZGVvRWxlbWVudCA9ICQoJyN2aWRlbycpO1xuICAgIGlmICh0YWIuZmluZCgnYScpLmF0dHIoJ2hyZWYnKSA9PT0gXCIjdmlkZW9cIikge1xuICAgICAgLy8gSWYgaXQgaXMgdGhlIHZpZGVvIHBhZ2UsIHJlc3RvcmUgdGhlIHNyY1xuICAgICAgdmlkZW9FbGVtZW50LmF0dHIoJ3NyYycsIG9wdGlvbnMuc3JjKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmlkZW8ucmVtb3ZlQXR0cignc3JjJyk7XG4gICAgICB2YXIgdmlkZW9KU0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudmlkZW8tanMnKTtcbiAgICAgIGlmICh2aWRlb0pTRWxlbWVudCkge1xuICAgICAgICB2aWRlb2pzKHZpZGVvSlNFbGVtZW50KS5wYXVzZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBSZW1lbWJlciB3aGljaCB0YWIgaXMgc2VsZWN0ZWQuXG4gICAgdmFyIHNlbGVjdGVkID0gdGFiLnBhcmVudHMoJy51aS10YWJzJykudGFicygnb3B0aW9uJywgJ2FjdGl2ZScpO1xuICAgIHRyeSB7XG4gICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnbGFzdFRhYicsIHNlbGVjdGVkKTtcbiAgICB9IGNhdGNoIChleGMpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdDYXVnaHQgZXhjZXB0aW9uIGluIHNlc3Npb25TdG9yYWdlLnNldEl0ZW06ICcsIGV4Yyk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBsYXN0VGFiID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2xhc3RUYWInKTtcbiAgYm9keS50YWJzKHtcbiAgICBldmVudCA6ICdjbGljayB0b3VjaGVuZCcsXG4gICAgYWN0aXZhdGU6IHRhYkhhbmRsZXIsXG4gICAgY3JlYXRlOiB0YWJIYW5kbGVyLFxuICAgIGFjdGl2ZTogKGxhc3RUYWIgIT09IG51bGwpID8gbGFzdFRhYiA6IDAgIC8vIFNldCBzdGFydGluZyB0YWIuXG4gIH0pO1xuXG4gIHZhciBkb3dubG9hZCA9ICQoJzxhLz4nKS5hcHBlbmQoJCgnPGltZyBzcmM9XCIvc2hhcmVkL2ltYWdlcy9kb3dubG9hZF9idXR0b24ucG5nXCIvPicpKVxuICAgICAgLmFkZENsYXNzKCdkb3dubG9hZC12aWRlbycpXG4gICAgICAuYXR0cignaHJlZicsIG9wdGlvbnMuZG93bmxvYWQpO1xuICB2YXIgbmF2ID0gJGRpdi5maW5kKCcudWktdGFicy1uYXYnKTtcbiAgbmF2LmFwcGVuZChkb3dubG9hZCk7XG5cbiAgLy8gUmVzaXplIG1vZGFsIHRvIGZpdCBjb25zdHJhaW5pbmcgZGltZW5zaW9uLlxuICB2YXIgaGVpZ2h0ID0gJCh3aW5kb3cpLmhlaWdodCgpICogd2lkdGhSYXRpbyxcbiAgICAgIHdpZHRoID0gJCh3aW5kb3cpLndpZHRoKCkgKiBoZWlnaHRSYXRpbztcblxuICBpZiAoaGVpZ2h0ICogYXNwZWN0UmF0aW8gPCB3aWR0aCkge1xuICAgICRkaXYuaGVpZ2h0KGhlaWdodCk7XG4gICAgJGRpdi53aWR0aChoZWlnaHQgKiBhc3BlY3RSYXRpbyk7XG4gIH0gZWxzZSB7XG4gICAgJGRpdi5oZWlnaHQod2lkdGggLyBhc3BlY3RSYXRpbyk7XG4gICAgJGRpdi53aWR0aCh3aWR0aCk7XG4gIH1cblxuICAvLyBTdGFuZGFyZCBjc3MgaGFjayB0byBjZW50ZXIgYSBkaXYgd2l0aGluIHRoZSB2aWV3cG9ydC5cbiAgJGRpdi5jc3Moe1xuICAgIHRvcDogJzUwJScsXG4gICAgbGVmdDogJzUwJScsXG4gICAgbWFyZ2luVG9wOiAoJGRpdi5oZWlnaHQoKSAvIC0yKSArICdweCcsXG4gICAgbWFyZ2luTGVmdDogKCRkaXYud2lkdGgoKSAvIC0yKSArICdweCdcbiAgfSk7XG5cbiAgdmFyIGRpdkhlaWdodCA9ICRkaXYuaW5uZXJIZWlnaHQoKSAtIG5hdi5vdXRlckhlaWdodCgpO1xuICAkKHZpZGVvKS5oZWlnaHQoZGl2SGVpZ2h0KTtcblxuICBub3Rlc0Rpdi5oZWlnaHQoZGl2SGVpZ2h0KTtcblxuICBpZiAod2luZG93LllUICYmIHdpbmRvdy5ZVC5sb2FkZWQpIHtcbiAgICBvbllvdVR1YmVJZnJhbWVBUElSZWFkeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIFVzZSB0aGUgb2ZmaWNpYWwgWW91VHViZSBJRnJhbWUgUGxheWVyIEFQSSB0byBsb2FkIHRoZSBZb3VUdWJlIHZpZGVvLlxuICAgIC8vIFJlZjogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20veW91dHViZS9pZnJhbWVfYXBpX3JlZmVyZW5jZSNHZXR0aW5nX1N0YXJ0ZWRcbiAgICB2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgdGFnLnNyYyA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vaWZyYW1lX2FwaVwiO1xuICAgIHZhciBmaXJzdFNjcmlwdFRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTtcbiAgICBmaXJzdFNjcmlwdFRhZy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0YWcsIGZpcnN0U2NyaXB0VGFnKTtcbiAgICAvLyBjYWxscyB3aW5kb3cub25Zb3VUdWJlSWZyYW1lQVBJUmVhZHlcbiAgfVxuXG4gIGRpYWxvZy5zaG93KCk7XG5cbiAgdmFyIHZpZGVvTW9kYWwgPSAkKCcudmlkZW8tbW9kYWwnKTtcblxuICB2aWRlb01vZGFsLm9uKFwiZW5kZWRcIiwgZnVuY3Rpb24gKCkge1xuICAgIGRpYWxvZy5oaWRlKCk7XG4gIH0pO1xuXG4gIC8vIFJhaXNlIGFuIGV2ZW50IHRoYXQgdGhlIGRpYWxvZyBoYXMgYmVlbiBzaG93biwgaW4gY2FzZSBhbnl0aGluZyBuZWVkcyB0b1xuICAvLyBwYXVzZS9yZXNwb25kIHRvIGl0LlxuICB2YXIgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgZXZlbnQuaW5pdEV2ZW50KCd2aWRlb1Nob3duJywgdHJ1ZSwgdHJ1ZSk7XG4gIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXG4gIC8vIERvbid0IGFkZCBmYWxsYmFjayBwbGF5ZXIgaWYgYSB2aWRlbyBtb2RhbCBoYXMgY2xvc2VkXG4gIHZhciBzaG91bGRTdGlsbEFkZCA9IHRydWU7XG4gIHZpZGVvTW9kYWwub25lKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbigpe1xuICAgIHNob3VsZFN0aWxsQWRkID0gZmFsc2U7XG4gIH0pO1xuXG4gIHNldHVwVmlkZW9GYWxsYmFjayhvcHRpb25zLCAkZGl2LndpZHRoKCksIGRpdkhlaWdodCwgZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gc2hvdWxkU3RpbGxBZGQ7XG4gIH0pO1xufTtcblxuLy8gUHJlY29uZGl0aW9uOiAkKCcjdmlkZW8nKSBtdXN0IGV4aXN0IG9uIHRoZSBET00gYmVmb3JlIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkLlxuZnVuY3Rpb24gc2V0dXBWaWRlb0ZhbGxiYWNrKHZpZGVvSW5mbywgcGxheWVyV2lkdGgsIHBsYXllckhlaWdodCwgc2hvdWxkU3RpbGxBZGRDYWxsYmFjaykge1xuICBzaG91bGRTdGlsbEFkZENhbGxiYWNrID0gc2hvdWxkU3RpbGxBZGRDYWxsYmFjayB8fCBmdW5jdGlvbigpIHsgcmV0dXJuIHRydWU7IH07XG5cbiAgaWYgKCF2aWRlb0luZm8uZW5hYmxlX2ZhbGxiYWNrKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHZpZGVvSW5mby5mb3JjZV9mYWxsYmFjaykge1xuICAgIGFkZEZhbGxiYWNrVmlkZW9QbGF5ZXIodmlkZW9JbmZvLCBwbGF5ZXJXaWR0aCwgcGxheWVySGVpZ2h0KTtcbiAgICByZXR1cm47XG4gIH1cblxuICB3aW5kb3cub25Zb3VUdWJlQmxvY2tlZChmdW5jdGlvbigpIHtcbiAgICBpZiAoIXNob3VsZFN0aWxsQWRkQ2FsbGJhY2soKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhZGRGYWxsYmFja1ZpZGVvUGxheWVyKHZpZGVvSW5mbywgcGxheWVyV2lkdGgsIHBsYXllckhlaWdodCk7XG4gIH0pO1xufVxuXG4vLyBUaGlzIGlzIG9uIHdpbmRvdyBiZWNhdXNlIGl0IGdldHMgYWNjZXNzZWQgZXh0ZXJuYWxseSBmb3Igb3VyIHZpZGVvIHRlc3QgcGFnZS5cbndpbmRvdy5vbllvdVR1YmVCbG9ja2VkID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgdGVzdEltYWdlQWNjZXNzKHlvdVR1YmVBdmFpbGFiaWxpdHlFbmRwb2ludFVSTCgpICsgJz8nICsgTWF0aC5yYW5kb20oKSwgZnVuY3Rpb24oKXt9LCBjYWxsYmFjayk7XG59O1xuXG5mdW5jdGlvbiB5b3VUdWJlQXZhaWxhYmlsaXR5RW5kcG9pbnRVUkwoKSB7XG4gIGlmICh3aW5kb3cuZG9jdW1lbnQuVVJMLnRvU3RyaW5nKCkuaW5kZXhPZignZm9yY2VfeW91dHViZV9mYWxsYmFjaycpID49IDApIHtcbiAgICByZXR1cm4gJ2h0dHBzOi8vdW5yZWFjaGFibGUtdGVzdC1zdWJkb21haW4uZXhhbXBsZS5jb20vZmF2aWNvbi5pY28nO1xuICB9XG4gIHJldHVybiBcImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2Zhdmljb24uaWNvXCI7XG59XG5cbi8vIFByZWNvbmRpdGlvbjogJCgnI3ZpZGVvJykgbXVzdCBleGlzdCBvbiB0aGUgRE9NIGJlZm9yZSB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZC5cbmZ1bmN0aW9uIGFkZEZhbGxiYWNrVmlkZW9QbGF5ZXIodmlkZW9JbmZvLCBwbGF5ZXJXaWR0aCwgcGxheWVySGVpZ2h0KSB7XG4gIHZhciBmYWxsYmFja1BsYXllcklEID0gJ2ZhbGxiYWNrUGxheWVyJyArIERhdGUubm93KCk7XG4gIHZhciBwbGF5ZXJDb2RlID1cbiAgICAgICc8ZGl2Pjx2aWRlbyBpZD1cIicrIGZhbGxiYWNrUGxheWVySUQgKydcIiAnICtcbiAgICAgICd3aWR0aD1cIicgKyBwbGF5ZXJXaWR0aCArICdcIiBoZWlnaHQ9XCInICsgcGxheWVySGVpZ2h0ICsgJ1wiICcgK1xuICAgICAgKHZpZGVvSW5mby5hdXRvcGxheSA/ICdhdXRvcGxheSAnIDogJycpICtcbiAgICAgICdjbGFzcz1cInZpZGVvLWpzIHZqcy1kZWZhdWx0LXNraW4gdmpzLWJpZy1wbGF5LWNlbnRlcmVkXCIgJyArXG4gICAgICAnY29udHJvbHMgcHJlbG9hZD1cImF1dG9cIiAnICtcbiAgICAgICdwb3N0ZXI9XCInICsgdmlkZW9JbmZvLnRodW1ibmFpbCArICdcIj4nICtcbiAgICAgICc8c291cmNlIHNyYz1cIicgKyB2aWRlb0luZm8uZG93bmxvYWQgKyAnXCIgdHlwZT1cInZpZGVvL21wNFwiLz4nICtcbiAgICAgICc8L3ZpZGVvPjwvZGl2Pic7XG5cbiAgLy8gU3dhcCBjdXJyZW50ICN2aWRlbyB3aXRoIG5ldyBjb2RlXG4gICQoJyN2aWRlbycpLnJlcGxhY2VXaXRoKHBsYXllckNvZGUpO1xuXG4gIHZpZGVvanMub3B0aW9ucy5mbGFzaC5zd2YgPSAnL2NvZGUtc3R1ZGlvL2Fzc2V0cy92aWRlby1qcy92aWRlby1qcy5zd2YnO1xuICB2aWRlb2pzLm9wdGlvbnMudGVjaE9yZGVyID0gW1wiZmxhc2hcIiwgXCJodG1sNVwiXTtcblxuICB2YXIgdmlkZW9QbGF5ZXIgPSB2aWRlb2pzKGZhbGxiYWNrUGxheWVySUQsIHt9LCBmdW5jdGlvbigpIHtcbiAgICB2YXIgJGZhbGxiYWNrUGxheWVyID0gJCgnIycgKyBmYWxsYmFja1BsYXllcklEKTtcbiAgICB2YXIgc2hvd2luZ0Vycm9yTWVzc2FnZSA9ICRmYWxsYmFja1BsYXllci5maW5kKCdwJykubGVuZ3RoID4gMDtcbiAgICBpZiAoc2hvd2luZ0Vycm9yTWVzc2FnZSkge1xuICAgICAgJGZhbGxiYWNrUGxheWVyLmFkZENsYXNzKCdmYWxsYmFjay12aWRlby1wbGF5ZXItZmFpbGVkJyk7XG4gICAgICBpZiAoaGFzTm90ZXNUYWIoKSkge1xuICAgICAgICBvcGVuTm90ZXNUYWIoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gUHJvcGVybHkgZGlzcG9zZSBvZiB2aWRlby5qcyBwbGF5ZXIgaW5zdGFuY2Ugd2hlbiBoaWRkZW5cbiAgICAkZmFsbGJhY2tQbGF5ZXIucGFyZW50cygnLm1vZGFsJykub25lKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbigpe1xuICAgICAgdmlkZW9QbGF5ZXIuZGlzcG9zZSgpO1xuICAgIH0pO1xuICB9KTtcblxuICB2aWRlb1BsYXllci5vbignZW5kZWQnLCBvblZpZGVvRW5kZWQpO1xufVxuXG5mdW5jdGlvbiBoYXNOb3Rlc1RhYigpIHtcbiAgcmV0dXJuICQoJy5kYXNoX21vZGFsX2JvZHkgYVtocmVmPVwiI25vdGVzLW91dGVyXCJdJykubGVuZ3RoID4gMDtcbn1cblxuZnVuY3Rpb24gb3Blbk5vdGVzVGFiKCkge1xuICB2YXIgbm90ZXNUYWJJbmRleCA9ICQoJy5kYXNoX21vZGFsX2JvZHkgYVtocmVmPVwiI25vdGVzLW91dGVyXCJdJykucGFyZW50KCkuaW5kZXgoKTtcbiAgJCgnLnVpLXRhYnMnKS50YWJzKCdvcHRpb24nLCAnYWN0aXZlJywgbm90ZXNUYWJJbmRleCk7XG59XG5cbmZ1bmN0aW9uIGdldFNob3dOb3RlcyhrZXksIGNvbnRhaW5lcikge1xuICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgY29udGFpbmVyLmh0bWwoZGF0YSk7XG4gIH07XG5cbiAgJC5hamF4KHtcbiAgICB1cmw6ICcvbm90ZXMvJyArIGtleSxcbiAgICBzdWNjZXNzOiBjYWxsYmFja1xuICB9KTtcbn1cblxuLy8gQ29udmVydCBodHRwOi8vIHZpZGVvIHVybHMgdG8gcHJvdG9jb2wtcmVsYXRpdmUgLy8gdXJscyB0byBwcmV2ZW50IG1peGVkLWNvbnRlbnQgbG9hZHMgb24gaHR0cHMgcGFnZXMuXG5mdW5jdGlvbiB1cGdyYWRlSW5zZWN1cmVPcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYob3B0aW9ucy5zcmMpIHtcbiAgICBvcHRpb25zLnNyYyA9IG9wdGlvbnMuc3JjLnJlcGxhY2UoL15odHRwOlxcL1xcLy8sICcvLycpO1xuICB9XG4gIGlmIChvcHRpb25zLmRvd25sb2FkKSB7XG4gICAgb3B0aW9ucy5kb3dubG9hZCA9IG9wdGlvbnMuZG93bmxvYWQucmVwbGFjZSgvXmh0dHA6XFwvXFwvLywgJy8vJyk7XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuLy8gVGVzdHMgd2hldGhlciB0aGUgYnJvd3NlciBjYW4gYWNjZXNzIGFuIGltYWdlIFVSTC5cbi8vIFVzZWZ1bCBhcyBhIHdvcmthcm91bmQgZm9yIENPUlMgc2VjdXJpdHkgdG8gdGVzdCBhY2Nlc3MgdG8gYW4gb3JpZ2luLlxuZnVuY3Rpb24gdGVzdEltYWdlQWNjZXNzKHVybCwgc3VjY2Vzc0NhbGxiYWNrLCBmYWlsdXJlQ2FsbGJhY2ssIHRpbWVvdXRNcykge1xuICB0aW1lb3V0TXMgPSB0eXBlb2YgdGltZW91dE1zICE9PSAndW5kZWZpbmVkJyA/ICB0aW1lb3V0TXMgOiA1MDAwO1xuICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG4gIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZmluaXNoKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGNhbGxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfTtcbiAgfVxuICB2YXIgdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZpbmlzaChmYWlsdXJlQ2FsbGJhY2spLCB0aW1lb3V0TXMpO1xuICBpbWcub25lcnJvciA9IGZpbmlzaChmYWlsdXJlQ2FsbGJhY2spO1xuICBpbWcub25sb2FkID0gZmluaXNoKHN1Y2Nlc3NDYWxsYmFjayk7XG4gIGltZy5zcmMgPSB1cmw7XG4gIC8vIHN0b3JlIGEgcmVmZXJlbmNlIHRvIHRoZSBJbWFnZSBzbyBpdCBkb2Vzbid0IGdldCBjb2xsZWN0ZWRcbiAgd2luZG93LnRlc3RJbWFnZXMgPSB3aW5kb3cudGVzdEltYWdlcyB8fCBbXTtcbiAgd2luZG93LnRlc3RJbWFnZXMucHVzaChpbWcpO1xufVxubW9kdWxlLmV4cG9ydHMgPSB0ZXN0SW1hZ2VBY2Nlc3M7XG4iLCIvKiEgVmlkZW8uanMgdjQuNS4yIENvcHlyaWdodCAyMDE0IEJyaWdodGNvdmUsIEluYy4gaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvanMvdmlkZW8uanMvYmxvYi9tYXN0ZXIvTElDRU5TRSAqLyBcbihmdW5jdGlvbigpIHt2YXIgYj12b2lkIDAsZj0hMCxoPW51bGwsbD0hMTtmdW5jdGlvbiBtKCl7cmV0dXJuIGZ1bmN0aW9uKCl7fX1mdW5jdGlvbiBwKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzW2FdfX1mdW5jdGlvbiBxKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhfX12YXIgdDtkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImF1ZGlvXCIpO2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0cmFja1wiKTtmdW5jdGlvbiB1KGEsYyxkKXtpZihcInN0cmluZ1wiPT09dHlwZW9mIGEpezA9PT1hLmluZGV4T2YoXCIjXCIpJiYoYT1hLnNsaWNlKDEpKTtpZih1LnZhW2FdKXJldHVybiB1LnZhW2FdO2E9dS51KGEpfWlmKCFhfHwhYS5ub2RlTmFtZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIGVsZW1lbnQgb3IgSUQgc3VwcGxpZWQgaXMgbm90IHZhbGlkLiAodmlkZW9qcylcIik7cmV0dXJuIGEucGxheWVyfHxuZXcgdS5QbGF5ZXIoYSxjLGQpfVxudmFyIHZpZGVvanM9dTt3aW5kb3cuV2Q9d2luZG93LlhkPXU7dS5SYj1cIjQuNVwiO3UuRmM9XCJodHRwczpcIj09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2w/XCJodHRwczovL1wiOlwiaHR0cDovL1wiO3Uub3B0aW9ucz17dGVjaE9yZGVyOltcImh0bWw1XCIsXCJmbGFzaFwiXSxodG1sNTp7fSxmbGFzaDp7fSx3aWR0aDozMDAsaGVpZ2h0OjE1MCxkZWZhdWx0Vm9sdW1lOjAsY2hpbGRyZW46e21lZGlhTG9hZGVyOnt9LHBvc3RlckltYWdlOnt9LHRleHRUcmFja0Rpc3BsYXk6e30sbG9hZGluZ1NwaW5uZXI6e30sYmlnUGxheUJ1dHRvbjp7fSxjb250cm9sQmFyOnt9fSxub3RTdXBwb3J0ZWRNZXNzYWdlOidTb3JyeSwgbm8gY29tcGF0aWJsZSBzb3VyY2UgYW5kIHBsYXliYWNrIHRlY2hub2xvZ3kgd2VyZSBmb3VuZCBmb3IgdGhpcyB2aWRlby4gVHJ5IHVzaW5nIGFub3RoZXIgYnJvd3NlciBsaWtlIDxhIGhyZWY9XCJodHRwOi8vYml0Lmx5L2NjTVVFQ1wiPkNocm9tZTwvYT4gb3IgZG93bmxvYWQgdGhlIGxhdGVzdCA8YSBocmVmPVwiaHR0cDovL2Fkb2JlLmx5L213Zk4xXCI+QWRvYmUgRmxhc2ggUGxheWVyPC9hPi4nfTtcblwiR0VORVJBVEVEX0NETl9WU05cIiE9PXUuUmImJih2aWRlb2pzLm9wdGlvbnMuZmxhc2guc3dmPXUuRmMrXCJ2anMuemVuY2RuLm5ldC9cIit1LlJiK1wiL3ZpZGVvLWpzLnN3ZlwiKTt1LnZhPXt9O1wiZnVuY3Rpb25cIj09PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGZ1bmN0aW9uKCl7cmV0dXJuIHZpZGVvanN9KTpcIm9iamVjdFwiPT09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PT10eXBlb2YgbW9kdWxlJiYobW9kdWxlLmV4cG9ydHM9dmlkZW9qcyk7dS5rYT11LkNvcmVPYmplY3Q9bSgpO1xudS5rYS5leHRlbmQ9ZnVuY3Rpb24oYSl7dmFyIGMsZDthPWF8fHt9O2M9YS5pbml0fHxhLmp8fHRoaXMucHJvdG90eXBlLmluaXR8fHRoaXMucHJvdG90eXBlLmp8fG0oKTtkPWZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2QucHJvdG90eXBlPXUubC5jcmVhdGUodGhpcy5wcm90b3R5cGUpO2QucHJvdG90eXBlLmNvbnN0cnVjdG9yPWQ7ZC5leHRlbmQ9dS5rYS5leHRlbmQ7ZC5jcmVhdGU9dS5rYS5jcmVhdGU7Zm9yKHZhciBlIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShlKSYmKGQucHJvdG90eXBlW2VdPWFbZV0pO3JldHVybiBkfTt1LmthLmNyZWF0ZT1mdW5jdGlvbigpe3ZhciBhPXUubC5jcmVhdGUodGhpcy5wcm90b3R5cGUpO3RoaXMuYXBwbHkoYSxhcmd1bWVudHMpO3JldHVybiBhfTtcbnUuZD1mdW5jdGlvbihhLGMsZCl7dmFyIGU9dS5nZXREYXRhKGEpO2Uuenx8KGUuej17fSk7ZS56W2NdfHwoZS56W2NdPVtdKTtkLnN8fChkLnM9dS5zKyspO2UueltjXS5wdXNoKGQpO2UuVnx8KGUuZGlzYWJsZWQ9bCxlLlY9ZnVuY3Rpb24oYyl7aWYoIWUuZGlzYWJsZWQpe2M9dS5pYyhjKTt2YXIgZD1lLnpbYy50eXBlXTtpZihkKWZvcih2YXIgZD1kLnNsaWNlKDApLGs9MCxyPWQubGVuZ3RoO2s8ciYmIWMucGMoKTtrKyspZFtrXS5jYWxsKGEsYyl9fSk7MT09ZS56W2NdLmxlbmd0aCYmKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXI/YS5hZGRFdmVudExpc3RlbmVyKGMsZS5WLGwpOmRvY3VtZW50LmF0dGFjaEV2ZW50JiZhLmF0dGFjaEV2ZW50KFwib25cIitjLGUuVikpfTtcbnUubz1mdW5jdGlvbihhLGMsZCl7aWYodS5tYyhhKSl7dmFyIGU9dS5nZXREYXRhKGEpO2lmKGUueilpZihjKXt2YXIgZz1lLnpbY107aWYoZyl7aWYoZCl7aWYoZC5zKWZvcihlPTA7ZTxnLmxlbmd0aDtlKyspZ1tlXS5zPT09ZC5zJiZnLnNwbGljZShlLS0sMSl9ZWxzZSBlLnpbY109W107dS5lYyhhLGMpfX1lbHNlIGZvcihnIGluIGUueiljPWcsZS56W2NdPVtdLHUuZWMoYSxjKX19O3UuZWM9ZnVuY3Rpb24oYSxjKXt2YXIgZD11LmdldERhdGEoYSk7MD09PWQueltjXS5sZW5ndGgmJihkZWxldGUgZC56W2NdLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXI/YS5yZW1vdmVFdmVudExpc3RlbmVyKGMsZC5WLGwpOmRvY3VtZW50LmRldGFjaEV2ZW50JiZhLmRldGFjaEV2ZW50KFwib25cIitjLGQuVikpO3UuemIoZC56KSYmKGRlbGV0ZSBkLnosZGVsZXRlIGQuVixkZWxldGUgZC5kaXNhYmxlZCk7dS56YihkKSYmdS51YyhhKX07XG51LmljPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoKXtyZXR1cm4gZn1mdW5jdGlvbiBkKCl7cmV0dXJuIGx9aWYoIWF8fCFhLkFiKXt2YXIgZT1hfHx3aW5kb3cuZXZlbnQ7YT17fTtmb3IodmFyIGcgaW4gZSlcImxheWVyWFwiIT09ZyYmKFwibGF5ZXJZXCIhPT1nJiZcImtleWJvYXJkRXZlbnQua2V5TG9jYXRpb25cIiE9PWcpJiYoXCJyZXR1cm5WYWx1ZVwiPT1nJiZlLnByZXZlbnREZWZhdWx0fHwoYVtnXT1lW2ddKSk7YS50YXJnZXR8fChhLnRhcmdldD1hLnNyY0VsZW1lbnR8fGRvY3VtZW50KTthLnJlbGF0ZWRUYXJnZXQ9YS5mcm9tRWxlbWVudD09PWEudGFyZ2V0P2EudG9FbGVtZW50OmEuZnJvbUVsZW1lbnQ7YS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe2UucHJldmVudERlZmF1bHQmJmUucHJldmVudERlZmF1bHQoKTthLnJldHVyblZhbHVlPWw7YS5mZD1jO2EuZGVmYXVsdFByZXZlbnRlZD1mfTthLmZkPWQ7YS5kZWZhdWx0UHJldmVudGVkPWw7YS5zdG9wUHJvcGFnYXRpb249ZnVuY3Rpb24oKXtlLnN0b3BQcm9wYWdhdGlvbiYmXG5lLnN0b3BQcm9wYWdhdGlvbigpO2EuY2FuY2VsQnViYmxlPWY7YS5BYj1jfTthLkFiPWQ7YS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb249ZnVuY3Rpb24oKXtlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTthLnBjPWM7YS5zdG9wUHJvcGFnYXRpb24oKX07YS5wYz1kO2lmKGEuY2xpZW50WCE9aCl7Zz1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7dmFyIGo9ZG9jdW1lbnQuYm9keTthLnBhZ2VYPWEuY2xpZW50WCsoZyYmZy5zY3JvbGxMZWZ0fHxqJiZqLnNjcm9sbExlZnR8fDApLShnJiZnLmNsaWVudExlZnR8fGomJmouY2xpZW50TGVmdHx8MCk7YS5wYWdlWT1hLmNsaWVudFkrKGcmJmcuc2Nyb2xsVG9wfHxqJiZqLnNjcm9sbFRvcHx8MCktKGcmJmcuY2xpZW50VG9wfHxqJiZqLmNsaWVudFRvcHx8MCl9YS53aGljaD1hLmNoYXJDb2RlfHxhLmtleUNvZGU7YS5idXR0b24hPWgmJihhLmJ1dHRvbj1hLmJ1dHRvbiYxPzA6YS5idXR0b24mXG40PzE6YS5idXR0b24mMj8yOjApfXJldHVybiBhfTt1Lms9ZnVuY3Rpb24oYSxjKXt2YXIgZD11Lm1jKGEpP3UuZ2V0RGF0YShhKTp7fSxlPWEucGFyZW50Tm9kZXx8YS5vd25lckRvY3VtZW50O1wic3RyaW5nXCI9PT10eXBlb2YgYyYmKGM9e3R5cGU6Yyx0YXJnZXQ6YX0pO2M9dS5pYyhjKTtkLlYmJmQuVi5jYWxsKGEsYyk7aWYoZSYmIWMuQWIoKSYmYy5idWJibGVzIT09bCl1LmsoZSxjKTtlbHNlIGlmKCFlJiYhYy5kZWZhdWx0UHJldmVudGVkJiYoZD11LmdldERhdGEoYy50YXJnZXQpLGMudGFyZ2V0W2MudHlwZV0pKXtkLmRpc2FibGVkPWY7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGMudGFyZ2V0W2MudHlwZV0pYy50YXJnZXRbYy50eXBlXSgpO2QuZGlzYWJsZWQ9bH1yZXR1cm4hYy5kZWZhdWx0UHJldmVudGVkfTtcbnUuVT1mdW5jdGlvbihhLGMsZCl7ZnVuY3Rpb24gZSgpe3UubyhhLGMsZSk7ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZS5zPWQucz1kLnN8fHUucysrO3UuZChhLGMsZSl9O3ZhciB2PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dS5lPWZ1bmN0aW9uKGEsYyl7dmFyIGQsZTtkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYXx8XCJkaXZcIik7Zm9yKGUgaW4gYyl2LmNhbGwoYyxlKSYmKC0xIT09ZS5pbmRleE9mKFwiYXJpYS1cIil8fFwicm9sZVwiPT1lP2Quc2V0QXR0cmlidXRlKGUsY1tlXSk6ZFtlXT1jW2VdKTtyZXR1cm4gZH07dS5aPWZ1bmN0aW9uKGEpe3JldHVybiBhLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc2xpY2UoMSl9O3UubD17fTt1LmwuY3JlYXRlPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9YTtyZXR1cm4gbmV3IGN9O1xudS5sLnJhPWZ1bmN0aW9uKGEsYyxkKXtmb3IodmFyIGUgaW4gYSl2LmNhbGwoYSxlKSYmYy5jYWxsKGR8fHRoaXMsZSxhW2VdKX07dS5sLkI9ZnVuY3Rpb24oYSxjKXtpZighYylyZXR1cm4gYTtmb3IodmFyIGQgaW4gYyl2LmNhbGwoYyxkKSYmKGFbZF09Y1tkXSk7cmV0dXJuIGF9O3UubC5XYz1mdW5jdGlvbihhLGMpe3ZhciBkLGUsZzthPXUubC5jb3B5KGEpO2ZvcihkIGluIGMpdi5jYWxsKGMsZCkmJihlPWFbZF0sZz1jW2RdLGFbZF09dS5sLk5hKGUpJiZ1LmwuTmEoZyk/dS5sLldjKGUsZyk6Y1tkXSk7cmV0dXJuIGF9O3UubC5jb3B5PWZ1bmN0aW9uKGEpe3JldHVybiB1LmwuQih7fSxhKX07dS5sLk5hPWZ1bmN0aW9uKGEpe3JldHVybiEhYSYmXCJvYmplY3RcIj09PXR5cGVvZiBhJiZcIltvYmplY3QgT2JqZWN0XVwiPT09YS50b1N0cmluZygpJiZhLmNvbnN0cnVjdG9yPT09T2JqZWN0fTtcbnUuYmluZD1mdW5jdGlvbihhLGMsZCl7ZnVuY3Rpb24gZSgpe3JldHVybiBjLmFwcGx5KGEsYXJndW1lbnRzKX1jLnN8fChjLnM9dS5zKyspO2Uucz1kP2QrXCJfXCIrYy5zOmMucztyZXR1cm4gZX07dS5wYT17fTt1LnM9MTt1LmV4cGFuZG89XCJ2ZGF0YVwiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpO3UuZ2V0RGF0YT1mdW5jdGlvbihhKXt2YXIgYz1hW3UuZXhwYW5kb107Y3x8KGM9YVt1LmV4cGFuZG9dPXUucysrLHUucGFbY109e30pO3JldHVybiB1LnBhW2NdfTt1Lm1jPWZ1bmN0aW9uKGEpe2E9YVt1LmV4cGFuZG9dO3JldHVybiEoIWF8fHUuemIodS5wYVthXSkpfTt1LnVjPWZ1bmN0aW9uKGEpe3ZhciBjPWFbdS5leHBhbmRvXTtpZihjKXtkZWxldGUgdS5wYVtjXTt0cnl7ZGVsZXRlIGFbdS5leHBhbmRvXX1jYXRjaChkKXthLnJlbW92ZUF0dHJpYnV0ZT9hLnJlbW92ZUF0dHJpYnV0ZSh1LmV4cGFuZG8pOmFbdS5leHBhbmRvXT1ofX19O1xudS56Yj1mdW5jdGlvbihhKXtmb3IodmFyIGMgaW4gYSlpZihhW2NdIT09aClyZXR1cm4gbDtyZXR1cm4gZn07dS5uPWZ1bmN0aW9uKGEsYyl7LTE9PShcIiBcIithLmNsYXNzTmFtZStcIiBcIikuaW5kZXhPZihcIiBcIitjK1wiIFwiKSYmKGEuY2xhc3NOYW1lPVwiXCI9PT1hLmNsYXNzTmFtZT9jOmEuY2xhc3NOYW1lK1wiIFwiK2MpfTt1LnQ9ZnVuY3Rpb24oYSxjKXt2YXIgZCxlO2lmKC0xIT1hLmNsYXNzTmFtZS5pbmRleE9mKGMpKXtkPWEuY2xhc3NOYW1lLnNwbGl0KFwiIFwiKTtmb3IoZT1kLmxlbmd0aC0xOzA8PWU7ZS0tKWRbZV09PT1jJiZkLnNwbGljZShlLDEpO2EuY2xhc3NOYW1lPWQuam9pbihcIiBcIil9fTt1LkY9dS5lKFwidmlkZW9cIik7dS5KPW5hdmlnYXRvci51c2VyQWdlbnQ7dS5LYz0vaVBob25lL2kudGVzdCh1LkopO3UuSmM9L2lQYWQvaS50ZXN0KHUuSik7dS5MYz0vaVBvZC9pLnRlc3QodS5KKTt1LkljPXUuS2N8fHUuSmN8fHUuTGM7dmFyIGFhPXUsdzt2YXIgeD11LkoubWF0Y2goL09TIChcXGQrKV8vaSk7XG53PXgmJnhbMV0/eFsxXTpiO2FhLktkPXc7dS5IYz0vQW5kcm9pZC9pLnRlc3QodS5KKTt2YXIgYmE9dSx5O3ZhciB6PXUuSi5tYXRjaCgvQW5kcm9pZCAoXFxkKykoPzpcXC4oXFxkKykpPyg/OlxcLihcXGQrKSkqL2kpLEEsQjt6PyhBPXpbMV0mJnBhcnNlRmxvYXQoelsxXSksQj16WzJdJiZwYXJzZUZsb2F0KHpbMl0pLHk9QSYmQj9wYXJzZUZsb2F0KHpbMV0rXCIuXCIrelsyXSk6QT9BOmgpOnk9aDtiYS5RYj15O3UuTWM9dS5IYyYmL3dlYmtpdC9pLnRlc3QodS5KKSYmMi4zPnUuUWI7dS5VYj0vRmlyZWZveC9pLnRlc3QodS5KKTt1LkxkPS9DaHJvbWUvaS50ZXN0KHUuSik7dS4kYj0hIShcIm9udG91Y2hzdGFydFwiaW4gd2luZG93fHx3aW5kb3cuR2MmJmRvY3VtZW50IGluc3RhbmNlb2Ygd2luZG93LkdjKTtcbnUud2I9ZnVuY3Rpb24oYSl7dmFyIGMsZCxlLGc7Yz17fTtpZihhJiZhLmF0dHJpYnV0ZXMmJjA8YS5hdHRyaWJ1dGVzLmxlbmd0aCl7ZD1hLmF0dHJpYnV0ZXM7Zm9yKHZhciBqPWQubGVuZ3RoLTE7MDw9ajtqLS0pe2U9ZFtqXS5uYW1lO2c9ZFtqXS52YWx1ZTtpZihcImJvb2xlYW5cIj09PXR5cGVvZiBhW2VdfHwtMSE9PVwiLGF1dG9wbGF5LGNvbnRyb2xzLGxvb3AsbXV0ZWQsZGVmYXVsdCxcIi5pbmRleE9mKFwiLFwiK2UrXCIsXCIpKWc9ZyE9PWg/ZjpsO2NbZV09Z319cmV0dXJuIGN9O1xudS5QZD1mdW5jdGlvbihhLGMpe3ZhciBkPVwiXCI7ZG9jdW1lbnQuZGVmYXVsdFZpZXcmJmRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGU/ZD1kb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGEsXCJcIikuZ2V0UHJvcGVydHlWYWx1ZShjKTphLmN1cnJlbnRTdHlsZSYmKGQ9YVtcImNsaWVudFwiK2Muc3Vic3RyKDAsMSkudG9VcHBlckNhc2UoKStjLnN1YnN0cigxKV0rXCJweFwiKTtyZXR1cm4gZH07dS55Yj1mdW5jdGlvbihhLGMpe2MuZmlyc3RDaGlsZD9jLmluc2VydEJlZm9yZShhLGMuZmlyc3RDaGlsZCk6Yy5hcHBlbmRDaGlsZChhKX07dS5OYj17fTt1LnU9ZnVuY3Rpb24oYSl7MD09PWEuaW5kZXhPZihcIiNcIikmJihhPWEuc2xpY2UoMSkpO3JldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKX07XG51LnRhPWZ1bmN0aW9uKGEsYyl7Yz1jfHxhO3ZhciBkPU1hdGguZmxvb3IoYSU2MCksZT1NYXRoLmZsb29yKGEvNjAlNjApLGc9TWF0aC5mbG9vcihhLzM2MDApLGo9TWF0aC5mbG9vcihjLzYwJTYwKSxrPU1hdGguZmxvb3IoYy8zNjAwKTtpZihpc05hTihhKXx8SW5maW5pdHk9PT1hKWc9ZT1kPVwiLVwiO2c9MDxnfHwwPGs/ZytcIjpcIjpcIlwiO3JldHVybiBnKygoKGd8fDEwPD1qKSYmMTA+ZT9cIjBcIitlOmUpK1wiOlwiKSsoMTA+ZD9cIjBcIitkOmQpfTt1LlNjPWZ1bmN0aW9uKCl7ZG9jdW1lbnQuYm9keS5mb2N1cygpO2RvY3VtZW50Lm9uc2VsZWN0c3RhcnQ9cShsKX07dS5FZD1mdW5jdGlvbigpe2RvY3VtZW50Lm9uc2VsZWN0c3RhcnQ9cShmKX07dS50cmltPWZ1bmN0aW9uKGEpe3JldHVybihhK1wiXCIpLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIil9O3Uucm91bmQ9ZnVuY3Rpb24oYSxjKXtjfHwoYz0wKTtyZXR1cm4gTWF0aC5yb3VuZChhKk1hdGgucG93KDEwLGMpKS9NYXRoLnBvdygxMCxjKX07XG51LnNiPWZ1bmN0aW9uKGEsYyl7cmV0dXJue2xlbmd0aDoxLHN0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuIGF9LGVuZDpmdW5jdGlvbigpe3JldHVybiBjfX19O1xudS5nZXQ9ZnVuY3Rpb24oYSxjLGQpe3ZhciBlLGc7XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBYTUxIdHRwUmVxdWVzdCYmKHdpbmRvdy5YTUxIdHRwUmVxdWVzdD1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KFwiTXN4bWwyLlhNTEhUVFAuNi4wXCIpfWNhdGNoKGEpe310cnl7cmV0dXJuIG5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdChcIk1zeG1sMi5YTUxIVFRQLjMuMFwiKX1jYXRjaChjKXt9dHJ5e3JldHVybiBuZXcgd2luZG93LkFjdGl2ZVhPYmplY3QoXCJNc3htbDIuWE1MSFRUUFwiKX1jYXRjaChkKXt9dGhyb3cgRXJyb3IoXCJUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBYTUxIdHRwUmVxdWVzdC5cIik7fSk7Zz1uZXcgWE1MSHR0cFJlcXVlc3Q7dHJ5e2cub3BlbihcIkdFVFwiLGEpfWNhdGNoKGope2Qoail9ZT0wPT09YS5pbmRleE9mKFwiZmlsZTpcIil8fDA9PT13aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKFwiZmlsZTpcIikmJi0xPT09YS5pbmRleE9mKFwiaHR0cFwiKTtcbmcub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PWcucmVhZHlTdGF0ZSYmKDIwMD09PWcuc3RhdHVzfHxlJiYwPT09Zy5zdGF0dXM/YyhnLnJlc3BvbnNlVGV4dCk6ZCYmZCgpKX07dHJ5e2cuc2VuZCgpfWNhdGNoKGspe2QmJmQoayl9fTt1LndkPWZ1bmN0aW9uKGEpe3RyeXt2YXIgYz13aW5kb3cubG9jYWxTdG9yYWdlfHxsO2MmJihjLnZvbHVtZT1hKX1jYXRjaChkKXsyMj09ZC5jb2RlfHwxMDE0PT1kLmNvZGU/dS5sb2coXCJMb2NhbFN0b3JhZ2UgRnVsbCAoVmlkZW9KUylcIixkKToxOD09ZC5jb2RlP3UubG9nKFwiTG9jYWxTdG9yYWdlIG5vdCBhbGxvd2VkIChWaWRlb0pTKVwiLGQpOnUubG9nKFwiTG9jYWxTdG9yYWdlIEVycm9yIChWaWRlb0pTKVwiLGQpfX07dS5rYz1mdW5jdGlvbihhKXthLm1hdGNoKC9eaHR0cHM/OlxcL1xcLy8pfHwoYT11LmUoXCJkaXZcIix7aW5uZXJIVE1MOic8YSBocmVmPVwiJythKydcIj54PC9hPid9KS5maXJzdENoaWxkLmhyZWYpO3JldHVybiBhfTtcbnUubG9nPWZ1bmN0aW9uKCl7dS5sb2cuaGlzdG9yeT11LmxvZy5oaXN0b3J5fHxbXTt1LmxvZy5oaXN0b3J5LnB1c2goYXJndW1lbnRzKTt3aW5kb3cuY29uc29sZSYmd2luZG93LmNvbnNvbGUubG9nKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpfTt1LmNkPWZ1bmN0aW9uKGEpe3ZhciBjLGQ7YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QmJmEucGFyZW50Tm9kZSYmKGM9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7aWYoIWMpcmV0dXJue2xlZnQ6MCx0b3A6MH07YT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7ZD1kb2N1bWVudC5ib2R5O3JldHVybntsZWZ0OnUucm91bmQoYy5sZWZ0Kyh3aW5kb3cucGFnZVhPZmZzZXR8fGQuc2Nyb2xsTGVmdCktKGEuY2xpZW50TGVmdHx8ZC5jbGllbnRMZWZ0fHwwKSksdG9wOnUucm91bmQoYy50b3ArKHdpbmRvdy5wYWdlWU9mZnNldHx8ZC5zY3JvbGxUb3ApLShhLmNsaWVudFRvcHx8ZC5jbGllbnRUb3B8fDApKX19O1xudS5qYT17fTt1LmphLkViPWZ1bmN0aW9uKGEsYyl7dmFyIGQsZSxnO2E9dS5sLmNvcHkoYSk7Zm9yKGQgaW4gYyljLmhhc093blByb3BlcnR5KGQpJiYoZT1hW2RdLGc9Y1tkXSxhW2RdPXUubC5OYShlKSYmdS5sLk5hKGcpP3UuamEuRWIoZSxnKTpjW2RdKTtyZXR1cm4gYX07XG51LmI9dS5rYS5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjLGQpe3RoaXMuYz1hO3RoaXMuaD11LmwuY29weSh0aGlzLmgpO2M9dGhpcy5vcHRpb25zKGMpO3RoaXMuUj1jLmlkfHwoYy5lbCYmYy5lbC5pZD9jLmVsLmlkOmEuaWQoKStcIl9jb21wb25lbnRfXCIrdS5zKyspO3RoaXMubGQ9Yy5uYW1lfHxoO3RoaXMuYT1jLmVsfHx0aGlzLmUoKTt0aGlzLks9W107dGhpcy5KYT17fTt0aGlzLkthPXt9O3RoaXMubmMoKTt0aGlzLkkoZCk7aWYoYy52YyE9PWwpe3ZhciBlLGc7ZT11LmJpbmQodGhpcy5DKCksdGhpcy5DKCkucmVwb3J0VXNlckFjdGl2aXR5KTt0aGlzLmQoXCJ0b3VjaHN0YXJ0XCIsZnVuY3Rpb24oKXtlKCk7Y2xlYXJJbnRlcnZhbChnKTtnPXNldEludGVydmFsKGUsMjUwKX0pO2E9ZnVuY3Rpb24oKXtlKCk7Y2xlYXJJbnRlcnZhbChnKX07dGhpcy5kKFwidG91Y2htb3ZlXCIsZSk7dGhpcy5kKFwidG91Y2hlbmRcIixhKTt0aGlzLmQoXCJ0b3VjaGNhbmNlbFwiLGEpfX19KTt0PXUuYi5wcm90b3R5cGU7XG50LmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmsoe3R5cGU6XCJkaXNwb3NlXCIsYnViYmxlczpsfSk7aWYodGhpcy5LKWZvcih2YXIgYT10aGlzLksubGVuZ3RoLTE7MDw9YTthLS0pdGhpcy5LW2FdLmRpc3Bvc2UmJnRoaXMuS1thXS5kaXNwb3NlKCk7dGhpcy5LYT10aGlzLkphPXRoaXMuSz1oO3RoaXMubygpO3RoaXMuYS5wYXJlbnROb2RlJiZ0aGlzLmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmEpO3UudWModGhpcy5hKTt0aGlzLmE9aH07dC5jPWY7dC5DPXAoXCJjXCIpO3Qub3B0aW9ucz1mdW5jdGlvbihhKXtyZXR1cm4gYT09PWI/dGhpcy5oOnRoaXMuaD11LmphLkViKHRoaXMuaCxhKX07dC5lPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIHUuZShhLGMpfTt0LnU9cChcImFcIik7dC5MYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkd8fHRoaXMuYX07dC5pZD1wKFwiUlwiKTt0Lm5hbWU9cChcImxkXCIpO3QuY2hpbGRyZW49cChcIktcIik7dC5lZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5KYVthXX07XG50LmZhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLkthW2FdfTt0Llk9ZnVuY3Rpb24oYSxjKXt2YXIgZCxlO1wic3RyaW5nXCI9PT10eXBlb2YgYT8oZT1hLGM9Y3x8e30sZD1jLmNvbXBvbmVudENsYXNzfHx1LlooZSksYy5uYW1lPWUsZD1uZXcgd2luZG93LnZpZGVvanNbZF0odGhpcy5jfHx0aGlzLGMpKTpkPWE7dGhpcy5LLnB1c2goZCk7XCJmdW5jdGlvblwiPT09dHlwZW9mIGQuaWQmJih0aGlzLkphW2QuaWQoKV09ZCk7KGU9ZXx8ZC5uYW1lJiZkLm5hbWUoKSkmJih0aGlzLkthW2VdPWQpO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBkLmVsJiZkLmVsKCkmJnRoaXMuTGEoKS5hcHBlbmRDaGlsZChkLmVsKCkpO3JldHVybiBkfTtcbnQucmVtb3ZlQ2hpbGQ9ZnVuY3Rpb24oYSl7XCJzdHJpbmdcIj09PXR5cGVvZiBhJiYoYT10aGlzLmZhKGEpKTtpZihhJiZ0aGlzLkspe2Zvcih2YXIgYz1sLGQ9dGhpcy5LLmxlbmd0aC0xOzA8PWQ7ZC0tKWlmKHRoaXMuS1tkXT09PWEpe2M9Zjt0aGlzLksuc3BsaWNlKGQsMSk7YnJlYWt9YyYmKHRoaXMuSmFbYS5pZF09aCx0aGlzLkthW2EubmFtZV09aCwoYz1hLnUoKSkmJmMucGFyZW50Tm9kZT09PXRoaXMuTGEoKSYmdGhpcy5MYSgpLnJlbW92ZUNoaWxkKGEudSgpKSl9fTt0Lm5jPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5oO2lmKGEmJmEuY2hpbGRyZW4pe3ZhciBjPXRoaXM7dS5sLnJhKGEuY2hpbGRyZW4sZnVuY3Rpb24oYSxlKXtlIT09bCYmIWUubG9hZEV2ZW50JiYoY1thXT1jLlkoYSxlKSl9KX19O3QuUT1xKFwiXCIpO3QuZD1mdW5jdGlvbihhLGMpe3UuZCh0aGlzLmEsYSx1LmJpbmQodGhpcyxjKSk7cmV0dXJuIHRoaXN9O1xudC5vPWZ1bmN0aW9uKGEsYyl7dS5vKHRoaXMuYSxhLGMpO3JldHVybiB0aGlzfTt0LlU9ZnVuY3Rpb24oYSxjKXt1LlUodGhpcy5hLGEsdS5iaW5kKHRoaXMsYykpO3JldHVybiB0aGlzfTt0Lms9ZnVuY3Rpb24oYSxjKXt1LmsodGhpcy5hLGEsYyk7cmV0dXJuIHRoaXN9O3QuST1mdW5jdGlvbihhKXthJiYodGhpcy5hYT9hLmNhbGwodGhpcyk6KHRoaXMuVWE9PT1iJiYodGhpcy5VYT1bXSksdGhpcy5VYS5wdXNoKGEpKSk7cmV0dXJuIHRoaXN9O3QuemE9ZnVuY3Rpb24oKXt0aGlzLmFhPWY7dmFyIGE9dGhpcy5VYTtpZihhJiYwPGEubGVuZ3RoKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspYVtjXS5jYWxsKHRoaXMpO3RoaXMuVWE9W107dGhpcy5rKFwicmVhZHlcIil9fTt0Lm49ZnVuY3Rpb24oYSl7dS5uKHRoaXMuYSxhKTtyZXR1cm4gdGhpc307dC50PWZ1bmN0aW9uKGEpe3UudCh0aGlzLmEsYSk7cmV0dXJuIHRoaXN9O1xudC5zaG93PWZ1bmN0aW9uKCl7dGhpcy5hLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO3JldHVybiB0aGlzfTt0LkQ9ZnVuY3Rpb24oKXt0aGlzLmEuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtyZXR1cm4gdGhpc307ZnVuY3Rpb24gQyhhKXthLnQoXCJ2anMtbG9jay1zaG93aW5nXCIpfXQuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuRCgpO3RoaXMuc2hvdz1tKCl9O3Qud2lkdGg9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gRSh0aGlzLFwid2lkdGhcIixhLGMpfTt0LmhlaWdodD1mdW5jdGlvbihhLGMpe3JldHVybiBFKHRoaXMsXCJoZWlnaHRcIixhLGMpfTt0LlljPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIHRoaXMud2lkdGgoYSxmKS5oZWlnaHQoYyl9O1xuZnVuY3Rpb24gRShhLGMsZCxlKXtpZihkIT09YilyZXR1cm4gYS5hLnN0eWxlW2NdPS0xIT09KFwiXCIrZCkuaW5kZXhPZihcIiVcIil8fC0xIT09KFwiXCIrZCkuaW5kZXhPZihcInB4XCIpP2Q6XCJhdXRvXCI9PT1kP1wiXCI6ZCtcInB4XCIsZXx8YS5rKFwicmVzaXplXCIpLGE7aWYoIWEuYSlyZXR1cm4gMDtkPWEuYS5zdHlsZVtjXTtlPWQuaW5kZXhPZihcInB4XCIpO3JldHVybi0xIT09ZT9wYXJzZUludChkLnNsaWNlKDAsZSksMTApOnBhcnNlSW50KGEuYVtcIm9mZnNldFwiK3UuWihjKV0sMTApfVxudS5xPXUuYi5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt1LmIuY2FsbCh0aGlzLGEsYyk7dmFyIGQ9bDt0aGlzLmQoXCJ0b3VjaHN0YXJ0XCIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpO2Q9Zn0pO3RoaXMuZChcInRvdWNobW92ZVwiLGZ1bmN0aW9uKCl7ZD1sfSk7dmFyIGU9dGhpczt0aGlzLmQoXCJ0b3VjaGVuZFwiLGZ1bmN0aW9uKGEpe2QmJmUucChhKTthLnByZXZlbnREZWZhdWx0KCl9KTt0aGlzLmQoXCJjbGlja1wiLHRoaXMucCk7dGhpcy5kKFwiZm9jdXNcIix0aGlzLlFhKTt0aGlzLmQoXCJibHVyXCIsdGhpcy5QYSl9fSk7dD11LnEucHJvdG90eXBlO1xudC5lPWZ1bmN0aW9uKGEsYyl7Yz11LmwuQih7Y2xhc3NOYW1lOnRoaXMuUSgpLGlubmVySFRNTDonPGRpdiBjbGFzcz1cInZqcy1jb250cm9sLWNvbnRlbnRcIj48c3BhbiBjbGFzcz1cInZqcy1jb250cm9sLXRleHRcIj4nKyh0aGlzLm9hfHxcIk5lZWQgVGV4dFwiKStcIjwvc3Bhbj48L2Rpdj5cIixyb2xlOlwiYnV0dG9uXCIsXCJhcmlhLWxpdmVcIjpcInBvbGl0ZVwiLHRhYkluZGV4OjB9LGMpO3JldHVybiB1LmIucHJvdG90eXBlLmUuY2FsbCh0aGlzLGEsYyl9O3QuUT1mdW5jdGlvbigpe3JldHVyblwidmpzLWNvbnRyb2wgXCIrdS5iLnByb3RvdHlwZS5RLmNhbGwodGhpcyl9O3QucD1tKCk7dC5RYT1mdW5jdGlvbigpe3UuZChkb2N1bWVudCxcImtleXVwXCIsdS5iaW5kKHRoaXMsdGhpcy5iYSkpfTt0LmJhPWZ1bmN0aW9uKGEpe2lmKDMyPT1hLndoaWNofHwxMz09YS53aGljaClhLnByZXZlbnREZWZhdWx0KCksdGhpcy5wKCl9O1xudC5QYT1mdW5jdGlvbigpe3Uubyhkb2N1bWVudCxcImtleXVwXCIsdS5iaW5kKHRoaXMsdGhpcy5iYSkpfTt1Lk89dS5iLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3UuYi5jYWxsKHRoaXMsYSxjKTt0aGlzLlJjPXRoaXMuZmEodGhpcy5oLmJhck5hbWUpO3RoaXMuaGFuZGxlPXRoaXMuZmEodGhpcy5oLmhhbmRsZU5hbWUpO2EuZCh0aGlzLnNjLHUuYmluZCh0aGlzLHRoaXMudXBkYXRlKSk7dGhpcy5kKFwibW91c2Vkb3duXCIsdGhpcy5SYSk7dGhpcy5kKFwidG91Y2hzdGFydFwiLHRoaXMuUmEpO3RoaXMuZChcImZvY3VzXCIsdGhpcy5RYSk7dGhpcy5kKFwiYmx1clwiLHRoaXMuUGEpO3RoaXMuZChcImNsaWNrXCIsdGhpcy5wKTt0aGlzLmMuZChcImNvbnRyb2xzdmlzaWJsZVwiLHUuYmluZCh0aGlzLHRoaXMudXBkYXRlKSk7YS5JKHUuYmluZCh0aGlzLHRoaXMudXBkYXRlKSk7dGhpcy5QPXt9fX0pO3Q9dS5PLnByb3RvdHlwZTtcbnQuZT1mdW5jdGlvbihhLGMpe2M9Y3x8e307Yy5jbGFzc05hbWUrPVwiIHZqcy1zbGlkZXJcIjtjPXUubC5CKHtyb2xlOlwic2xpZGVyXCIsXCJhcmlhLXZhbHVlbm93XCI6MCxcImFyaWEtdmFsdWVtaW5cIjowLFwiYXJpYS12YWx1ZW1heFwiOjEwMCx0YWJJbmRleDowfSxjKTtyZXR1cm4gdS5iLnByb3RvdHlwZS5lLmNhbGwodGhpcyxhLGMpfTt0LlJhPWZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKTt1LlNjKCk7dGhpcy5QLm1vdmU9dS5iaW5kKHRoaXMsdGhpcy5HYik7dGhpcy5QLmVuZD11LmJpbmQodGhpcyx0aGlzLkhiKTt1LmQoZG9jdW1lbnQsXCJtb3VzZW1vdmVcIix0aGlzLlAubW92ZSk7dS5kKGRvY3VtZW50LFwibW91c2V1cFwiLHRoaXMuUC5lbmQpO3UuZChkb2N1bWVudCxcInRvdWNobW92ZVwiLHRoaXMuUC5tb3ZlKTt1LmQoZG9jdW1lbnQsXCJ0b3VjaGVuZFwiLHRoaXMuUC5lbmQpO3RoaXMuR2IoYSl9O1xudC5IYj1mdW5jdGlvbigpe3UuRWQoKTt1Lm8oZG9jdW1lbnQsXCJtb3VzZW1vdmVcIix0aGlzLlAubW92ZSxsKTt1Lm8oZG9jdW1lbnQsXCJtb3VzZXVwXCIsdGhpcy5QLmVuZCxsKTt1Lm8oZG9jdW1lbnQsXCJ0b3VjaG1vdmVcIix0aGlzLlAubW92ZSxsKTt1Lm8oZG9jdW1lbnQsXCJ0b3VjaGVuZFwiLHRoaXMuUC5lbmQsbCk7dGhpcy51cGRhdGUoKX07dC51cGRhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpe3ZhciBhLGM9dGhpcy54YigpLGQ9dGhpcy5oYW5kbGUsZT10aGlzLlJjO2lzTmFOKGMpJiYoYz0wKTthPWM7aWYoZCl7YT10aGlzLmEub2Zmc2V0V2lkdGg7dmFyIGc9ZC51KCkub2Zmc2V0V2lkdGg7YT1nP2cvYTowO2MqPTEtYTthPWMrYS8yO2QudSgpLnN0eWxlLmxlZnQ9dS5yb3VuZCgxMDAqYywyKStcIiVcIn1lLnUoKS5zdHlsZS53aWR0aD11LnJvdW5kKDEwMCphLDIpK1wiJVwifX07XG5mdW5jdGlvbiBGKGEsYyl7dmFyIGQsZSxnLGo7ZD1hLmE7ZT11LmNkKGQpO2o9Zz1kLm9mZnNldFdpZHRoO2Q9YS5oYW5kbGU7aWYoYS5oLkdkKXJldHVybiBqPWUudG9wLGU9Yy5jaGFuZ2VkVG91Y2hlcz9jLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZOmMucGFnZVksZCYmKGQ9ZC51KCkub2Zmc2V0SGVpZ2h0LGorPWQvMixnLT1kKSxNYXRoLm1heCgwLE1hdGgubWluKDEsKGotZStnKS9nKSk7Zz1lLmxlZnQ7ZT1jLmNoYW5nZWRUb3VjaGVzP2MuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVg6Yy5wYWdlWDtkJiYoZD1kLnUoKS5vZmZzZXRXaWR0aCxnKz1kLzIsai09ZCk7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4oMSwoZS1nKS9qKSl9dC5RYT1mdW5jdGlvbigpe3UuZChkb2N1bWVudCxcImtleXVwXCIsdS5iaW5kKHRoaXMsdGhpcy5iYSkpfTtcbnQuYmE9ZnVuY3Rpb24oYSl7Mzc9PWEud2hpY2g/KGEucHJldmVudERlZmF1bHQoKSx0aGlzLnljKCkpOjM5PT1hLndoaWNoJiYoYS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuemMoKSl9O3QuUGE9ZnVuY3Rpb24oKXt1Lm8oZG9jdW1lbnQsXCJrZXl1cFwiLHUuYmluZCh0aGlzLHRoaXMuYmEpKX07dC5wPWZ1bmN0aW9uKGEpe2Euc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7YS5wcmV2ZW50RGVmYXVsdCgpfTt1Llc9dS5iLmV4dGVuZCgpO3UuVy5wcm90b3R5cGUuZGVmYXVsdFZhbHVlPTA7dS5XLnByb3RvdHlwZS5lPWZ1bmN0aW9uKGEsYyl7Yz1jfHx7fTtjLmNsYXNzTmFtZSs9XCIgdmpzLXNsaWRlci1oYW5kbGVcIjtjPXUubC5CKHtpbm5lckhUTUw6JzxzcGFuIGNsYXNzPVwidmpzLWNvbnRyb2wtdGV4dFwiPicrdGhpcy5kZWZhdWx0VmFsdWUrXCI8L3NwYW4+XCJ9LGMpO3JldHVybiB1LmIucHJvdG90eXBlLmUuY2FsbCh0aGlzLFwiZGl2XCIsYyl9O3UubGE9dS5iLmV4dGVuZCgpO1xuZnVuY3Rpb24gY2EoYSxjKXthLlkoYyk7Yy5kKFwiY2xpY2tcIix1LmJpbmQoYSxmdW5jdGlvbigpe0ModGhpcyl9KSl9dS5sYS5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucygpLlVjfHxcInVsXCI7dGhpcy5HPXUuZShhLHtjbGFzc05hbWU6XCJ2anMtbWVudS1jb250ZW50XCJ9KTthPXUuYi5wcm90b3R5cGUuZS5jYWxsKHRoaXMsXCJkaXZcIix7YXBwZW5kOnRoaXMuRyxjbGFzc05hbWU6XCJ2anMtbWVudVwifSk7YS5hcHBlbmRDaGlsZCh0aGlzLkcpO3UuZChhLFwiY2xpY2tcIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCk7YS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX0pO3JldHVybiBhfTt1Lk49dS5xLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3UucS5jYWxsKHRoaXMsYSxjKTt0aGlzLnNlbGVjdGVkKGMuc2VsZWN0ZWQpfX0pO1xudS5OLnByb3RvdHlwZS5lPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIHUucS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsXCJsaVwiLHUubC5CKHtjbGFzc05hbWU6XCJ2anMtbWVudS1pdGVtXCIsaW5uZXJIVE1MOnRoaXMuaC5sYWJlbH0sYykpfTt1Lk4ucHJvdG90eXBlLnA9ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkKGYpfTt1Lk4ucHJvdG90eXBlLnNlbGVjdGVkPWZ1bmN0aW9uKGEpe2E/KHRoaXMubihcInZqcy1zZWxlY3RlZFwiKSx0aGlzLmEuc2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiLGYpKToodGhpcy50KFwidmpzLXNlbGVjdGVkXCIpLHRoaXMuYS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsbCkpfTtcbnUuUz11LnEuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7dS5xLmNhbGwodGhpcyxhLGMpO3RoaXMudWE9dGhpcy5NYSgpO3RoaXMuWSh0aGlzLnVhKTt0aGlzLkwmJjA9PT10aGlzLkwubGVuZ3RoJiZ0aGlzLkQoKTt0aGlzLmQoXCJrZXl1cFwiLHRoaXMuYmEpO3RoaXMuYS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhhc3BvcHVwXCIsZik7dGhpcy5hLnNldEF0dHJpYnV0ZShcInJvbGVcIixcImJ1dHRvblwiKX19KTt0PXUuUy5wcm90b3R5cGU7dC5uYT1sO3QuTWE9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgdS5sYSh0aGlzLmMpO3RoaXMub3B0aW9ucygpLnRpdGxlJiZhLnUoKS5hcHBlbmRDaGlsZCh1LmUoXCJsaVwiLHtjbGFzc05hbWU6XCJ2anMtbWVudS10aXRsZVwiLGlubmVySFRNTDp1LloodGhpcy5BKSxDZDotMX0pKTtpZih0aGlzLkw9dGhpcy5jcmVhdGVJdGVtcygpKWZvcih2YXIgYz0wO2M8dGhpcy5MLmxlbmd0aDtjKyspY2EoYSx0aGlzLkxbY10pO3JldHVybiBhfTt0LnFhPW0oKTtcbnQuUT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNsYXNzTmFtZStcIiB2anMtbWVudS1idXR0b24gXCIrdS5xLnByb3RvdHlwZS5RLmNhbGwodGhpcyl9O3QuUWE9bSgpO3QuUGE9bSgpO3QucD1mdW5jdGlvbigpe3RoaXMuVShcIm1vdXNlb3V0XCIsdS5iaW5kKHRoaXMsZnVuY3Rpb24oKXtDKHRoaXMudWEpO3RoaXMuYS5ibHVyKCl9KSk7dGhpcy5uYT9HKHRoaXMpOkgodGhpcyl9O3QuYmE9ZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpOzMyPT1hLndoaWNofHwxMz09YS53aGljaD90aGlzLm5hP0codGhpcyk6SCh0aGlzKToyNz09YS53aGljaCYmdGhpcy5uYSYmRyh0aGlzKX07ZnVuY3Rpb24gSChhKXthLm5hPWY7YS51YS5uKFwidmpzLWxvY2stc2hvd2luZ1wiKTthLmEuc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsZik7YS5MJiYwPGEuTC5sZW5ndGgmJmEuTFswXS51KCkuZm9jdXMoKX1cbmZ1bmN0aW9uIEcoYSl7YS5uYT1sO0MoYS51YSk7YS5hLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLGwpfVxudS5QbGF5ZXI9dS5iLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMsZCl7dGhpcy5NPWE7YS5pZD1hLmlkfHxcInZqc192aWRlb19cIit1LnMrKztjPXUubC5CKGRhKGEpLGMpO3RoaXMudj17fTt0aGlzLnRjPWMucG9zdGVyO3RoaXMucmI9Yy5jb250cm9sczthLmNvbnRyb2xzPWw7Yy52Yz1sO3UuYi5jYWxsKHRoaXMsdGhpcyxjLGQpO3RoaXMuY29udHJvbHMoKT90aGlzLm4oXCJ2anMtY29udHJvbHMtZW5hYmxlZFwiKTp0aGlzLm4oXCJ2anMtY29udHJvbHMtZGlzYWJsZWRcIik7dGhpcy5VKFwicGxheVwiLGZ1bmN0aW9uKGEpe3Uuayh0aGlzLmEse3R5cGU6XCJmaXJzdHBsYXlcIix0YXJnZXQ6dGhpcy5hfSl8fChhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKSxhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKX0pO3RoaXMuZChcImVuZGVkXCIsdGhpcy5tZCk7dGhpcy5kKFwicGxheVwiLHRoaXMuSmIpO3RoaXMuZChcImZpcnN0cGxheVwiLHRoaXMubmQpO3RoaXMuZChcInBhdXNlXCIsdGhpcy5JYik7XG50aGlzLmQoXCJwcm9ncmVzc1wiLHRoaXMucGQpO3RoaXMuZChcImR1cmF0aW9uY2hhbmdlXCIsdGhpcy5xYyk7dGhpcy5kKFwiZXJyb3JcIix0aGlzLkZiKTt0aGlzLmQoXCJmdWxsc2NyZWVuY2hhbmdlXCIsdGhpcy5vZCk7dS52YVt0aGlzLlJdPXRoaXM7Yy5wbHVnaW5zJiZ1LmwucmEoYy5wbHVnaW5zLGZ1bmN0aW9uKGEsYyl7dGhpc1thXShjKX0sdGhpcyk7dmFyIGUsZyxqLGs7ZT11LmJpbmQodGhpcyx0aGlzLnJlcG9ydFVzZXJBY3Rpdml0eSk7dGhpcy5kKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXtlKCk7Y2xlYXJJbnRlcnZhbChnKTtnPXNldEludGVydmFsKGUsMjUwKX0pO3RoaXMuZChcIm1vdXNlbW92ZVwiLGUpO3RoaXMuZChcIm1vdXNldXBcIixmdW5jdGlvbigpe2UoKTtjbGVhckludGVydmFsKGcpfSk7dGhpcy5kKFwia2V5ZG93blwiLGUpO3RoaXMuZChcImtleXVwXCIsZSk7aj1zZXRJbnRlcnZhbCh1LmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuaWEmJih0aGlzLmlhPWwsdGhpcy51c2VyQWN0aXZlKGYpLFxuY2xlYXJUaW1lb3V0KGspLGs9c2V0VGltZW91dCh1LmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuaWF8fHRoaXMudXNlckFjdGl2ZShsKX0pLDJFMykpfSksMjUwKTt0aGlzLmQoXCJkaXNwb3NlXCIsZnVuY3Rpb24oKXtjbGVhckludGVydmFsKGopO2NsZWFyVGltZW91dChrKX0pfX0pO3Q9dS5QbGF5ZXIucHJvdG90eXBlO3QuaD11Lm9wdGlvbnM7dC5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5rKFwiZGlzcG9zZVwiKTt0aGlzLm8oXCJkaXNwb3NlXCIpO3UudmFbdGhpcy5SXT1oO3RoaXMuTSYmdGhpcy5NLnBsYXllciYmKHRoaXMuTS5wbGF5ZXI9aCk7dGhpcy5hJiZ0aGlzLmEucGxheWVyJiYodGhpcy5hLnBsYXllcj1oKTtjbGVhckludGVydmFsKHRoaXMuVGEpO3RoaXMud2EoKTt0aGlzLmkmJnRoaXMuaS5kaXNwb3NlKCk7dS5iLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyl9O1xuZnVuY3Rpb24gZGEoYSl7dmFyIGM9e3NvdXJjZXM6W10sdHJhY2tzOltdfTt1LmwuQihjLHUud2IoYSkpO2lmKGEuaGFzQ2hpbGROb2RlcygpKXt2YXIgZCxlLGcsajthPWEuY2hpbGROb2RlcztnPTA7Zm9yKGo9YS5sZW5ndGg7ZzxqO2crKylkPWFbZ10sZT1kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksXCJzb3VyY2VcIj09PWU/Yy5zb3VyY2VzLnB1c2godS53YihkKSk6XCJ0cmFja1wiPT09ZSYmYy50cmFja3MucHVzaCh1LndiKGQpKX1yZXR1cm4gY31cbnQuZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYT11LmIucHJvdG90eXBlLmUuY2FsbCh0aGlzLFwiZGl2XCIpLGM9dGhpcy5NO2MucmVtb3ZlQXR0cmlidXRlKFwid2lkdGhcIik7Yy5yZW1vdmVBdHRyaWJ1dGUoXCJoZWlnaHRcIik7aWYoYy5oYXNDaGlsZE5vZGVzKCkpe3ZhciBkLGUsZyxqLGs7ZD1jLmNoaWxkTm9kZXM7ZT1kLmxlbmd0aDtmb3Ioaz1bXTtlLS07KWc9ZFtlXSxqPWcubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcInRyYWNrXCI9PT1qJiZrLnB1c2goZyk7Zm9yKGQ9MDtkPGsubGVuZ3RoO2QrKyljLnJlbW92ZUNoaWxkKGtbZF0pfWEuaWQ9Yy5pZDthLmNsYXNzTmFtZT1jLmNsYXNzTmFtZTtjLmlkKz1cIl9odG1sNV9hcGlcIjtjLmNsYXNzTmFtZT1cInZqcy10ZWNoXCI7Yy5wbGF5ZXI9YS5wbGF5ZXI9dGhpczt0aGlzLm4oXCJ2anMtcGF1c2VkXCIpO3RoaXMud2lkdGgodGhpcy5oLndpZHRoLGYpO3RoaXMuaGVpZ2h0KHRoaXMuaC5oZWlnaHQsZik7Yy5wYXJlbnROb2RlJiZjLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsXG5jKTt1LnliKGMsYSk7cmV0dXJuIGF9O1xuZnVuY3Rpb24gSShhLGMsZCl7YS5pJiYoYS5hYT1sLGEuaS5kaXNwb3NlKCksYS5DYiYmKGEuQ2I9bCxjbGVhckludGVydmFsKGEuVGEpKSxhLkRiJiZKKGEpLGEuaT1sKTtcIkh0bWw1XCIhPT1jJiZhLk0mJih1LmcuZ2MoYS5NKSxhLk09aCk7YS54YT1jO2EuYWE9bDt2YXIgZT11LmwuQih7c291cmNlOmQscGFyZW50RWw6YS5hfSxhLmhbYy50b0xvd2VyQ2FzZSgpXSk7ZCYmKGQuc3JjPT1hLnYuc3JjJiYwPGEudi5jdXJyZW50VGltZSYmKGUuc3RhcnRUaW1lPWEudi5jdXJyZW50VGltZSksYS52LnNyYz1kLnNyYyk7YS5pPW5ldyB3aW5kb3cudmlkZW9qc1tjXShhLGUpO2EuaS5JKGZ1bmN0aW9uKCl7dGhpcy5jLnphKCk7aWYoIXRoaXMubS5wcm9ncmVzc0V2ZW50cyl7dmFyIGE9dGhpcy5jO2EuQ2I9ZjthLlRhPXNldEludGVydmFsKHUuYmluZChhLGZ1bmN0aW9uKCl7dGhpcy52Lm1iPHRoaXMuYnVmZmVyZWQoKS5lbmQoMCk/dGhpcy5rKFwicHJvZ3Jlc3NcIik6MT09dGhpcy5idWZmZXJlZFBlcmNlbnQoKSYmXG4oY2xlYXJJbnRlcnZhbCh0aGlzLlRhKSx0aGlzLmsoXCJwcm9ncmVzc1wiKSl9KSw1MDApO2EuaS5VKFwicHJvZ3Jlc3NcIixmdW5jdGlvbigpe3RoaXMubS5wcm9ncmVzc0V2ZW50cz1mO3ZhciBhPXRoaXMuYzthLkNiPWw7Y2xlYXJJbnRlcnZhbChhLlRhKX0pfXRoaXMubS50aW1ldXBkYXRlRXZlbnRzfHwoYT10aGlzLmMsYS5EYj1mLGEuZChcInBsYXlcIixhLkNjKSxhLmQoXCJwYXVzZVwiLGEud2EpLGEuaS5VKFwidGltZXVwZGF0ZVwiLGZ1bmN0aW9uKCl7dGhpcy5tLnRpbWV1cGRhdGVFdmVudHM9ZjtKKHRoaXMuYyl9KSl9KX1mdW5jdGlvbiBKKGEpe2EuRGI9bDthLndhKCk7YS5vKFwicGxheVwiLGEuQ2MpO2EubyhcInBhdXNlXCIsYS53YSl9dC5DYz1mdW5jdGlvbigpe3RoaXMuZmMmJnRoaXMud2EoKTt0aGlzLmZjPXNldEludGVydmFsKHUuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5rKFwidGltZXVwZGF0ZVwiKX0pLDI1MCl9O3Qud2E9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKHRoaXMuZmMpfTtcbnQuSmI9ZnVuY3Rpb24oKXt1LnQodGhpcy5hLFwidmpzLXBhdXNlZFwiKTt1Lm4odGhpcy5hLFwidmpzLXBsYXlpbmdcIil9O3QubmQ9ZnVuY3Rpb24oKXt0aGlzLmguc3RhcnR0aW1lJiZ0aGlzLmN1cnJlbnRUaW1lKHRoaXMuaC5zdGFydHRpbWUpO3RoaXMubihcInZqcy1oYXMtc3RhcnRlZFwiKX07dC5JYj1mdW5jdGlvbigpe3UudCh0aGlzLmEsXCJ2anMtcGxheWluZ1wiKTt1Lm4odGhpcy5hLFwidmpzLXBhdXNlZFwiKX07dC5wZD1mdW5jdGlvbigpezE9PXRoaXMuYnVmZmVyZWRQZXJjZW50KCkmJnRoaXMuayhcImxvYWRlZGFsbGRhdGFcIil9O3QubWQ9ZnVuY3Rpb24oKXt0aGlzLmgubG9vcCYmKHRoaXMuY3VycmVudFRpbWUoMCksdGhpcy5wbGF5KCkpfTt0LnFjPWZ1bmN0aW9uKCl7dmFyIGE9Syh0aGlzLFwiZHVyYXRpb25cIik7YSYmdGhpcy5kdXJhdGlvbihhKX07dC5vZD1mdW5jdGlvbigpe3RoaXMuaXNGdWxsU2NyZWVuKCk/dGhpcy5uKFwidmpzLWZ1bGxzY3JlZW5cIik6dGhpcy50KFwidmpzLWZ1bGxzY3JlZW5cIil9O1xudC5GYj1mdW5jdGlvbihhKXt1LmxvZyhcIlZpZGVvIEVycm9yXCIsYSl9O2Z1bmN0aW9uIEwoYSxjLGQpe2lmKGEuaSYmIWEuaS5hYSlhLmkuSShmdW5jdGlvbigpe3RoaXNbY10oZCl9KTtlbHNlIHRyeXthLmlbY10oZCl9Y2F0Y2goZSl7dGhyb3cgdS5sb2coZSksZTt9fWZ1bmN0aW9uIEsoYSxjKXtpZihhLmkmJmEuaS5hYSl0cnl7cmV0dXJuIGEuaVtjXSgpfWNhdGNoKGQpe3Rocm93IGEuaVtjXT09PWI/dS5sb2coXCJWaWRlby5qczogXCIrYytcIiBtZXRob2Qgbm90IGRlZmluZWQgZm9yIFwiK2EueGErXCIgcGxheWJhY2sgdGVjaG5vbG9neS5cIixkKTpcIlR5cGVFcnJvclwiPT1kLm5hbWU/KHUubG9nKFwiVmlkZW8uanM6IFwiK2MrXCIgdW5hdmFpbGFibGUgb24gXCIrYS54YStcIiBwbGF5YmFjayB0ZWNobm9sb2d5IGVsZW1lbnQuXCIsZCksYS5pLmFhPWwpOnUubG9nKGQpLGQ7fX10LnBsYXk9ZnVuY3Rpb24oKXtMKHRoaXMsXCJwbGF5XCIpO3JldHVybiB0aGlzfTtcbnQucGF1c2U9ZnVuY3Rpb24oKXtMKHRoaXMsXCJwYXVzZVwiKTtyZXR1cm4gdGhpc307dC5wYXVzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gSyh0aGlzLFwicGF1c2VkXCIpPT09bD9sOmZ9O3QuY3VycmVudFRpbWU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1iPyhMKHRoaXMsXCJzZXRDdXJyZW50VGltZVwiLGEpLHRoaXMuRGImJnRoaXMuayhcInRpbWV1cGRhdGVcIiksdGhpcyk6dGhpcy52LmN1cnJlbnRUaW1lPUsodGhpcyxcImN1cnJlbnRUaW1lXCIpfHwwfTt0LmR1cmF0aW9uPWZ1bmN0aW9uKGEpe2lmKGEhPT1iKXJldHVybiB0aGlzLnYuZHVyYXRpb249cGFyc2VGbG9hdChhKSx0aGlzO3RoaXMudi5kdXJhdGlvbj09PWImJnRoaXMucWMoKTtyZXR1cm4gdGhpcy52LmR1cmF0aW9ufHwwfTtcbnQuYnVmZmVyZWQ9ZnVuY3Rpb24oKXt2YXIgYT1LKHRoaXMsXCJidWZmZXJlZFwiKSxjPWEubGVuZ3RoLTEsZD10aGlzLnYubWI9dGhpcy52Lm1ifHwwO2EmJigwPD1jJiZhLmVuZChjKSE9PWQpJiYoZD1hLmVuZChjKSx0aGlzLnYubWI9ZCk7cmV0dXJuIHUuc2IoMCxkKX07dC5idWZmZXJlZFBlcmNlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kdXJhdGlvbigpP3RoaXMuYnVmZmVyZWQoKS5lbmQoMCkvdGhpcy5kdXJhdGlvbigpOjB9O3Qudm9sdW1lPWZ1bmN0aW9uKGEpe2lmKGEhPT1iKXJldHVybiBhPU1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KGEpKSksdGhpcy52LnZvbHVtZT1hLEwodGhpcyxcInNldFZvbHVtZVwiLGEpLHUud2QoYSksdGhpczthPXBhcnNlRmxvYXQoSyh0aGlzLFwidm9sdW1lXCIpKTtyZXR1cm4gaXNOYU4oYSk/MTphfTtcbnQubXV0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1iPyhMKHRoaXMsXCJzZXRNdXRlZFwiLGEpLHRoaXMpOksodGhpcyxcIm11dGVkXCIpfHxsfTt0LldhPWZ1bmN0aW9uKCl7cmV0dXJuIEsodGhpcyxcInN1cHBvcnRzRnVsbFNjcmVlblwiKXx8bH07dC5vYz1sO3QuaXNGdWxsU2NyZWVuPWZ1bmN0aW9uKGEpe3JldHVybiBhIT09Yj8odGhpcy5vYz1hLHRoaXMpOnRoaXMub2N9O1xudC5yZXF1ZXN0RnVsbFNjcmVlbj1mdW5jdGlvbigpe3ZhciBhPXUuTmIucmVxdWVzdEZ1bGxTY3JlZW47dGhpcy5pc0Z1bGxTY3JlZW4oZik7YT8odS5kKGRvY3VtZW50LGEudWIsdS5iaW5kKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5pc0Z1bGxTY3JlZW4oZG9jdW1lbnRbYS5pc0Z1bGxTY3JlZW5dKTt0aGlzLmlzRnVsbFNjcmVlbigpPT09bCYmdS5vKGRvY3VtZW50LGEudWIsYXJndW1lbnRzLmNhbGxlZSk7dGhpcy5rKFwiZnVsbHNjcmVlbmNoYW5nZVwiKX0pKSx0aGlzLmFbYS53Y10oKSk6dGhpcy5pLldhKCk/TCh0aGlzLFwiZW50ZXJGdWxsU2NyZWVuXCIpOih0aGlzLmdkPWYsdGhpcy5aYz1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3csdS5kKGRvY3VtZW50LFwia2V5ZG93blwiLHUuYmluZCh0aGlzLHRoaXMuamMpKSxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIix1Lm4oZG9jdW1lbnQuYm9keSxcInZqcy1mdWxsLXdpbmRvd1wiKSxcbnRoaXMuayhcImVudGVyRnVsbFdpbmRvd1wiKSx0aGlzLmsoXCJmdWxsc2NyZWVuY2hhbmdlXCIpKTtyZXR1cm4gdGhpc307dC5jYW5jZWxGdWxsU2NyZWVuPWZ1bmN0aW9uKCl7dmFyIGE9dS5OYi5yZXF1ZXN0RnVsbFNjcmVlbjt0aGlzLmlzRnVsbFNjcmVlbihsKTtpZihhKWRvY3VtZW50W2Eub2JdKCk7ZWxzZSB0aGlzLmkuV2EoKT9MKHRoaXMsXCJleGl0RnVsbFNjcmVlblwiKTooTSh0aGlzKSx0aGlzLmsoXCJmdWxsc2NyZWVuY2hhbmdlXCIpKTtyZXR1cm4gdGhpc307dC5qYz1mdW5jdGlvbihhKXsyNz09PWEua2V5Q29kZSYmKHRoaXMuaXNGdWxsU2NyZWVuKCk9PT1mP3RoaXMuY2FuY2VsRnVsbFNjcmVlbigpOk0odGhpcykpfTtcbmZ1bmN0aW9uIE0oYSl7YS5nZD1sO3Uubyhkb2N1bWVudCxcImtleWRvd25cIixhLmpjKTtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3c9YS5aYzt1LnQoZG9jdW1lbnQuYm9keSxcInZqcy1mdWxsLXdpbmRvd1wiKTthLmsoXCJleGl0RnVsbFdpbmRvd1wiKX1cbnQuc3JjPWZ1bmN0aW9uKGEpe2lmKGE9PT1iKXJldHVybiBLKHRoaXMsXCJzcmNcIik7aWYoYSBpbnN0YW5jZW9mIEFycmF5KXt2YXIgYzthOntjPWE7Zm9yKHZhciBkPTAsZT10aGlzLmgudGVjaE9yZGVyO2Q8ZS5sZW5ndGg7ZCsrKXt2YXIgZz11LlooZVtkXSksaj13aW5kb3cudmlkZW9qc1tnXTtpZihqLmlzU3VwcG9ydGVkKCkpZm9yKHZhciBrPTAscj1jO2s8ci5sZW5ndGg7aysrKXt2YXIgbj1yW2tdO2lmKGouY2FuUGxheVNvdXJjZShuKSl7Yz17c291cmNlOm4saTpnfTticmVhayBhfX19Yz1sfWM/KGE9Yy5zb3VyY2UsYz1jLmksYz09dGhpcy54YT90aGlzLnNyYyhhKTpJKHRoaXMsYyxhKSk6KHRoaXMuYS5hcHBlbmRDaGlsZCh1LmUoXCJwXCIse2lubmVySFRNTDp0aGlzLm9wdGlvbnMoKS5ub3RTdXBwb3J0ZWRNZXNzYWdlfSkpLHRoaXMuemEoKSl9ZWxzZSBhIGluc3RhbmNlb2YgT2JqZWN0P3dpbmRvdy52aWRlb2pzW3RoaXMueGFdLmNhblBsYXlTb3VyY2UoYSk/dGhpcy5zcmMoYS5zcmMpOlxudGhpcy5zcmMoW2FdKToodGhpcy52LnNyYz1hLHRoaXMuYWE/KEwodGhpcyxcInNyY1wiLGEpLFwiYXV0b1wiPT10aGlzLmgucHJlbG9hZCYmdGhpcy5sb2FkKCksdGhpcy5oLmF1dG9wbGF5JiZ0aGlzLnBsYXkoKSk6dGhpcy5JKGZ1bmN0aW9uKCl7dGhpcy5zcmMoYSl9KSk7cmV0dXJuIHRoaXN9O3QubG9hZD1mdW5jdGlvbigpe0wodGhpcyxcImxvYWRcIik7cmV0dXJuIHRoaXN9O3QuY3VycmVudFNyYz1mdW5jdGlvbigpe3JldHVybiBLKHRoaXMsXCJjdXJyZW50U3JjXCIpfHx0aGlzLnYuc3JjfHxcIlwifTt0LlNhPWZ1bmN0aW9uKGEpe3JldHVybiBhIT09Yj8oTCh0aGlzLFwic2V0UHJlbG9hZFwiLGEpLHRoaXMuaC5wcmVsb2FkPWEsdGhpcyk6Syh0aGlzLFwicHJlbG9hZFwiKX07dC5hdXRvcGxheT1mdW5jdGlvbihhKXtyZXR1cm4gYSE9PWI/KEwodGhpcyxcInNldEF1dG9wbGF5XCIsYSksdGhpcy5oLmF1dG9wbGF5PWEsdGhpcyk6Syh0aGlzLFwiYXV0b3BsYXlcIil9O1xudC5sb29wPWZ1bmN0aW9uKGEpe3JldHVybiBhIT09Yj8oTCh0aGlzLFwic2V0TG9vcFwiLGEpLHRoaXMuaC5sb29wPWEsdGhpcyk6Syh0aGlzLFwibG9vcFwiKX07dC5wb3N0ZXI9ZnVuY3Rpb24oYSl7aWYoYT09PWIpcmV0dXJuIHRoaXMudGM7dGhpcy50Yz1hO0wodGhpcyxcInNldFBvc3RlclwiLGEpO3RoaXMuayhcInBvc3RlcmNoYW5nZVwiKX07dC5jb250cm9scz1mdW5jdGlvbihhKXtyZXR1cm4gYSE9PWI/KGE9ISFhLHRoaXMucmIhPT1hJiYoKHRoaXMucmI9YSk/KHRoaXMudChcInZqcy1jb250cm9scy1kaXNhYmxlZFwiKSx0aGlzLm4oXCJ2anMtY29udHJvbHMtZW5hYmxlZFwiKSx0aGlzLmsoXCJjb250cm9sc2VuYWJsZWRcIikpOih0aGlzLnQoXCJ2anMtY29udHJvbHMtZW5hYmxlZFwiKSx0aGlzLm4oXCJ2anMtY29udHJvbHMtZGlzYWJsZWRcIiksdGhpcy5rKFwiY29udHJvbHNkaXNhYmxlZFwiKSkpLHRoaXMpOnRoaXMucmJ9O3UuUGxheWVyLnByb3RvdHlwZS5QYjt0PXUuUGxheWVyLnByb3RvdHlwZTtcbnQudXNpbmdOYXRpdmVDb250cm9scz1mdW5jdGlvbihhKXtyZXR1cm4gYSE9PWI/KGE9ISFhLHRoaXMuUGIhPT1hJiYoKHRoaXMuUGI9YSk/KHRoaXMubihcInZqcy11c2luZy1uYXRpdmUtY29udHJvbHNcIiksdGhpcy5rKFwidXNpbmduYXRpdmVjb250cm9sc1wiKSk6KHRoaXMudChcInZqcy11c2luZy1uYXRpdmUtY29udHJvbHNcIiksdGhpcy5rKFwidXNpbmdjdXN0b21jb250cm9sc1wiKSkpLHRoaXMpOnRoaXMuUGJ9O3QuZXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gSyh0aGlzLFwiZXJyb3JcIil9O3QuZW5kZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gSyh0aGlzLFwiZW5kZWRcIil9O3Quc2Vla2luZz1mdW5jdGlvbigpe3JldHVybiBLKHRoaXMsXCJzZWVraW5nXCIpfTt0LmlhPWY7dC5yZXBvcnRVc2VyQWN0aXZpdHk9ZnVuY3Rpb24oKXt0aGlzLmlhPWZ9O3QuT2I9ZjtcbnQudXNlckFjdGl2ZT1mdW5jdGlvbihhKXtyZXR1cm4gYSE9PWI/KGE9ISFhLGEhPT10aGlzLk9iJiYoKHRoaXMuT2I9YSk/KHRoaXMuaWE9Zix0aGlzLnQoXCJ2anMtdXNlci1pbmFjdGl2ZVwiKSx0aGlzLm4oXCJ2anMtdXNlci1hY3RpdmVcIiksdGhpcy5rKFwidXNlcmFjdGl2ZVwiKSk6KHRoaXMuaWE9bCx0aGlzLmkmJnRoaXMuaS5VKFwibW91c2Vtb3ZlXCIsZnVuY3Rpb24oYSl7YS5zdG9wUHJvcGFnYXRpb24oKTthLnByZXZlbnREZWZhdWx0KCl9KSx0aGlzLnQoXCJ2anMtdXNlci1hY3RpdmVcIiksdGhpcy5uKFwidmpzLXVzZXItaW5hY3RpdmVcIiksdGhpcy5rKFwidXNlcmluYWN0aXZlXCIpKSksdGhpcyk6dGhpcy5PYn07dmFyIE4sTyxQO1A9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtPPXt9O1xuUC5NZCE9PWI/KE8ud2M9XCJyZXF1ZXN0RnVsbHNjcmVlblwiLE8ub2I9XCJleGl0RnVsbHNjcmVlblwiLE8udWI9XCJmdWxsc2NyZWVuY2hhbmdlXCIsTy5pc0Z1bGxTY3JlZW49XCJmdWxsU2NyZWVuXCIpOihkb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuPyhOPVwibW96XCIsTy5pc0Z1bGxTY3JlZW49TitcIkZ1bGxTY3JlZW5cIik6KE49XCJ3ZWJraXRcIixPLmlzRnVsbFNjcmVlbj1OK1wiSXNGdWxsU2NyZWVuXCIpLFBbTitcIlJlcXVlc3RGdWxsU2NyZWVuXCJdJiYoTy53Yz1OK1wiUmVxdWVzdEZ1bGxTY3JlZW5cIixPLm9iPU4rXCJDYW5jZWxGdWxsU2NyZWVuXCIpLE8udWI9TitcImZ1bGxzY3JlZW5jaGFuZ2VcIik7ZG9jdW1lbnRbTy5vYl0mJih1Lk5iLnJlcXVlc3RGdWxsU2NyZWVuPU8pO3UuRGE9dS5iLmV4dGVuZCgpO1xudS5EYS5wcm90b3R5cGUuaD17UmQ6XCJwbGF5XCIsY2hpbGRyZW46e3BsYXlUb2dnbGU6e30sY3VycmVudFRpbWVEaXNwbGF5Ont9LHRpbWVEaXZpZGVyOnt9LGR1cmF0aW9uRGlzcGxheTp7fSxyZW1haW5pbmdUaW1lRGlzcGxheTp7fSxwcm9ncmVzc0NvbnRyb2w6e30sZnVsbHNjcmVlblRvZ2dsZTp7fSx2b2x1bWVDb250cm9sOnt9LG11dGVUb2dnbGU6e319fTt1LkRhLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7cmV0dXJuIHUuZShcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtY29udHJvbC1iYXJcIn0pfTt1LlhiPXUucS5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt1LnEuY2FsbCh0aGlzLGEsYyk7YS5kKFwicGxheVwiLHUuYmluZCh0aGlzLHRoaXMuSmIpKTthLmQoXCJwYXVzZVwiLHUuYmluZCh0aGlzLHRoaXMuSWIpKX19KTt0PXUuWGIucHJvdG90eXBlO3Qub2E9XCJQbGF5XCI7dC5RPWZ1bmN0aW9uKCl7cmV0dXJuXCJ2anMtcGxheS1jb250cm9sIFwiK3UucS5wcm90b3R5cGUuUS5jYWxsKHRoaXMpfTtcbnQucD1mdW5jdGlvbigpe3RoaXMuYy5wYXVzZWQoKT90aGlzLmMucGxheSgpOnRoaXMuYy5wYXVzZSgpfTt0LkpiPWZ1bmN0aW9uKCl7dS50KHRoaXMuYSxcInZqcy1wYXVzZWRcIik7dS5uKHRoaXMuYSxcInZqcy1wbGF5aW5nXCIpO3RoaXMuYS5jaGlsZHJlblswXS5jaGlsZHJlblswXS5pbm5lckhUTUw9XCJQYXVzZVwifTt0LkliPWZ1bmN0aW9uKCl7dS50KHRoaXMuYSxcInZqcy1wbGF5aW5nXCIpO3Uubih0aGlzLmEsXCJ2anMtcGF1c2VkXCIpO3RoaXMuYS5jaGlsZHJlblswXS5jaGlsZHJlblswXS5pbm5lckhUTUw9XCJQbGF5XCJ9O3UuJGE9dS5iLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3UuYi5jYWxsKHRoaXMsYSxjKTthLmQoXCJ0aW1ldXBkYXRlXCIsdS5iaW5kKHRoaXMsdGhpcy5kYSkpfX0pO1xudS4kYS5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3ZhciBhPXUuYi5wcm90b3R5cGUuZS5jYWxsKHRoaXMsXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLWN1cnJlbnQtdGltZSB2anMtdGltZS1jb250cm9scyB2anMtY29udHJvbFwifSk7dGhpcy5HPXUuZShcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtY3VycmVudC10aW1lLWRpc3BsYXlcIixpbm5lckhUTUw6JzxzcGFuIGNsYXNzPVwidmpzLWNvbnRyb2wtdGV4dFwiPkN1cnJlbnQgVGltZSA8L3NwYW4+MDowMCcsXCJhcmlhLWxpdmVcIjpcIm9mZlwifSk7YS5hcHBlbmRDaGlsZCh0aGlzLkcpO3JldHVybiBhfTt1LiRhLnByb3RvdHlwZS5kYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy5WYT90aGlzLmMudi5jdXJyZW50VGltZTp0aGlzLmMuY3VycmVudFRpbWUoKTt0aGlzLkcuaW5uZXJIVE1MPSc8c3BhbiBjbGFzcz1cInZqcy1jb250cm9sLXRleHRcIj5DdXJyZW50IFRpbWUgPC9zcGFuPicrdS50YShhLHRoaXMuYy5kdXJhdGlvbigpKX07XG51LmFiPXUuYi5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt1LmIuY2FsbCh0aGlzLGEsYyk7YS5kKFwidGltZXVwZGF0ZVwiLHUuYmluZCh0aGlzLHRoaXMuZGEpKX19KTt1LmFiLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7dmFyIGE9dS5iLnByb3RvdHlwZS5lLmNhbGwodGhpcyxcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtZHVyYXRpb24gdmpzLXRpbWUtY29udHJvbHMgdmpzLWNvbnRyb2xcIn0pO3RoaXMuRz11LmUoXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLWR1cmF0aW9uLWRpc3BsYXlcIixpbm5lckhUTUw6JzxzcGFuIGNsYXNzPVwidmpzLWNvbnRyb2wtdGV4dFwiPkR1cmF0aW9uIFRpbWUgPC9zcGFuPjA6MDAnLFwiYXJpYS1saXZlXCI6XCJvZmZcIn0pO2EuYXBwZW5kQ2hpbGQodGhpcy5HKTtyZXR1cm4gYX07XG51LmFiLnByb3RvdHlwZS5kYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy5kdXJhdGlvbigpO2EmJih0aGlzLkcuaW5uZXJIVE1MPSc8c3BhbiBjbGFzcz1cInZqcy1jb250cm9sLXRleHRcIj5EdXJhdGlvbiBUaW1lIDwvc3Bhbj4nK3UudGEoYSkpfTt1LmJjPXUuYi5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt1LmIuY2FsbCh0aGlzLGEsYyl9fSk7dS5iYy5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3JldHVybiB1LmIucHJvdG90eXBlLmUuY2FsbCh0aGlzLFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy10aW1lLWRpdmlkZXJcIixpbm5lckhUTUw6XCI8ZGl2PjxzcGFuPi88L3NwYW4+PC9kaXY+XCJ9KX07dS5nYj11LmIuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7dS5iLmNhbGwodGhpcyxhLGMpO2EuZChcInRpbWV1cGRhdGVcIix1LmJpbmQodGhpcyx0aGlzLmRhKSl9fSk7XG51LmdiLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7dmFyIGE9dS5iLnByb3RvdHlwZS5lLmNhbGwodGhpcyxcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtcmVtYWluaW5nLXRpbWUgdmpzLXRpbWUtY29udHJvbHMgdmpzLWNvbnRyb2xcIn0pO3RoaXMuRz11LmUoXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLXJlbWFpbmluZy10aW1lLWRpc3BsYXlcIixpbm5lckhUTUw6JzxzcGFuIGNsYXNzPVwidmpzLWNvbnRyb2wtdGV4dFwiPlJlbWFpbmluZyBUaW1lIDwvc3Bhbj4tMDowMCcsXCJhcmlhLWxpdmVcIjpcIm9mZlwifSk7YS5hcHBlbmRDaGlsZCh0aGlzLkcpO3JldHVybiBhfTt1LmdiLnByb3RvdHlwZS5kYT1mdW5jdGlvbigpe3RoaXMuYy5kdXJhdGlvbigpJiYodGhpcy5HLmlubmVySFRNTD0nPHNwYW4gY2xhc3M9XCJ2anMtY29udHJvbC10ZXh0XCI+UmVtYWluaW5nIFRpbWUgPC9zcGFuPi0nK3UudGEodGhpcy5jLmR1cmF0aW9uKCktdGhpcy5jLmN1cnJlbnRUaW1lKCkpKX07XG51LkVhPXUucS5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt1LnEuY2FsbCh0aGlzLGEsYyl9fSk7dS5FYS5wcm90b3R5cGUub2E9XCJGdWxsc2NyZWVuXCI7dS5FYS5wcm90b3R5cGUuUT1mdW5jdGlvbigpe3JldHVyblwidmpzLWZ1bGxzY3JlZW4tY29udHJvbCBcIit1LnEucHJvdG90eXBlLlEuY2FsbCh0aGlzKX07dS5FYS5wcm90b3R5cGUucD1mdW5jdGlvbigpe3RoaXMuYy5pc0Z1bGxTY3JlZW4oKT8odGhpcy5jLmNhbmNlbEZ1bGxTY3JlZW4oKSx0aGlzLmEuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uaW5uZXJIVE1MPVwiRnVsbHNjcmVlblwiKToodGhpcy5jLnJlcXVlc3RGdWxsU2NyZWVuKCksdGhpcy5hLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLmlubmVySFRNTD1cIk5vbi1GdWxsc2NyZWVuXCIpfTt1LmZiPXUuYi5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt1LmIuY2FsbCh0aGlzLGEsYyl9fSk7dS5mYi5wcm90b3R5cGUuaD17Y2hpbGRyZW46e3NlZWtCYXI6e319fTtcbnUuZmIucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdS5iLnByb3RvdHlwZS5lLmNhbGwodGhpcyxcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtcHJvZ3Jlc3MtY29udHJvbCB2anMtY29udHJvbFwifSl9O3UuWWI9dS5PLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3UuTy5jYWxsKHRoaXMsYSxjKTthLmQoXCJ0aW1ldXBkYXRlXCIsdS5iaW5kKHRoaXMsdGhpcy5BYSkpO2EuSSh1LmJpbmQodGhpcyx0aGlzLkFhKSl9fSk7dD11LlliLnByb3RvdHlwZTt0Lmg9e2NoaWxkcmVuOntsb2FkUHJvZ3Jlc3NCYXI6e30scGxheVByb2dyZXNzQmFyOnt9LHNlZWtIYW5kbGU6e319LGJhck5hbWU6XCJwbGF5UHJvZ3Jlc3NCYXJcIixoYW5kbGVOYW1lOlwic2Vla0hhbmRsZVwifTt0LnNjPVwidGltZXVwZGF0ZVwiO3QuZT1mdW5jdGlvbigpe3JldHVybiB1Lk8ucHJvdG90eXBlLmUuY2FsbCh0aGlzLFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy1wcm9ncmVzcy1ob2xkZXJcIixcImFyaWEtbGFiZWxcIjpcInZpZGVvIHByb2dyZXNzIGJhclwifSl9O1xudC5BYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy5WYT90aGlzLmMudi5jdXJyZW50VGltZTp0aGlzLmMuY3VycmVudFRpbWUoKTt0aGlzLmEuc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZW5vd1wiLHUucm91bmQoMTAwKnRoaXMueGIoKSwyKSk7dGhpcy5hLnNldEF0dHJpYnV0ZShcImFyaWEtdmFsdWV0ZXh0XCIsdS50YShhLHRoaXMuYy5kdXJhdGlvbigpKSl9O3QueGI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jLmN1cnJlbnRUaW1lKCkvdGhpcy5jLmR1cmF0aW9uKCl9O3QuUmE9ZnVuY3Rpb24oYSl7dS5PLnByb3RvdHlwZS5SYS5jYWxsKHRoaXMsYSk7dGhpcy5jLlZhPWY7dGhpcy5IZD0hdGhpcy5jLnBhdXNlZCgpO3RoaXMuYy5wYXVzZSgpfTt0LkdiPWZ1bmN0aW9uKGEpe2E9Rih0aGlzLGEpKnRoaXMuYy5kdXJhdGlvbigpO2E9PXRoaXMuYy5kdXJhdGlvbigpJiYoYS09MC4xKTt0aGlzLmMuY3VycmVudFRpbWUoYSl9O1xudC5IYj1mdW5jdGlvbihhKXt1Lk8ucHJvdG90eXBlLkhiLmNhbGwodGhpcyxhKTt0aGlzLmMuVmE9bDt0aGlzLkhkJiZ0aGlzLmMucGxheSgpfTt0LnpjPWZ1bmN0aW9uKCl7dGhpcy5jLmN1cnJlbnRUaW1lKHRoaXMuYy5jdXJyZW50VGltZSgpKzUpfTt0LnljPWZ1bmN0aW9uKCl7dGhpcy5jLmN1cnJlbnRUaW1lKHRoaXMuYy5jdXJyZW50VGltZSgpLTUpfTt1LmNiPXUuYi5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt1LmIuY2FsbCh0aGlzLGEsYyk7YS5kKFwicHJvZ3Jlc3NcIix1LmJpbmQodGhpcyx0aGlzLnVwZGF0ZSkpfX0pO3UuY2IucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdS5iLnByb3RvdHlwZS5lLmNhbGwodGhpcyxcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtbG9hZC1wcm9ncmVzc1wiLGlubmVySFRNTDonPHNwYW4gY2xhc3M9XCJ2anMtY29udHJvbC10ZXh0XCI+TG9hZGVkOiAwJTwvc3Bhbj4nfSl9O1xudS5jYi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5hLnN0eWxlJiYodGhpcy5hLnN0eWxlLndpZHRoPXUucm91bmQoMTAwKnRoaXMuYy5idWZmZXJlZFBlcmNlbnQoKSwyKStcIiVcIil9O3UuV2I9dS5iLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3UuYi5jYWxsKHRoaXMsYSxjKX19KTt1LldiLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7cmV0dXJuIHUuYi5wcm90b3R5cGUuZS5jYWxsKHRoaXMsXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLXBsYXktcHJvZ3Jlc3NcIixpbm5lckhUTUw6JzxzcGFuIGNsYXNzPVwidmpzLWNvbnRyb2wtdGV4dFwiPlByb2dyZXNzOiAwJTwvc3Bhbj4nfSl9O3UuR2E9dS5XLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3UuVy5jYWxsKHRoaXMsYSxjKTthLmQoXCJ0aW1ldXBkYXRlXCIsdS5iaW5kKHRoaXMsdGhpcy5kYSkpfX0pO3UuR2EucHJvdG90eXBlLmRlZmF1bHRWYWx1ZT1cIjAwOjAwXCI7XG51LkdhLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7cmV0dXJuIHUuVy5wcm90b3R5cGUuZS5jYWxsKHRoaXMsXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLXNlZWstaGFuZGxlXCIsXCJhcmlhLWxpdmVcIjpcIm9mZlwifSl9O3UuR2EucHJvdG90eXBlLmRhPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLlZhP3RoaXMuYy52LmN1cnJlbnRUaW1lOnRoaXMuYy5jdXJyZW50VGltZSgpO3RoaXMuYS5pbm5lckhUTUw9JzxzcGFuIGNsYXNzPVwidmpzLWNvbnRyb2wtdGV4dFwiPicrdS50YShhLHRoaXMuYy5kdXJhdGlvbigpKStcIjwvc3Bhbj5cIn07dS5pYj11LmIuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7dS5iLmNhbGwodGhpcyxhLGMpO2EuaSYmKGEuaS5tJiZhLmkubS52b2x1bWVDb250cm9sPT09bCkmJnRoaXMubihcInZqcy1oaWRkZW5cIik7YS5kKFwibG9hZHN0YXJ0XCIsdS5iaW5kKHRoaXMsZnVuY3Rpb24oKXthLmkubSYmYS5pLm0udm9sdW1lQ29udHJvbD09PWw/dGhpcy5uKFwidmpzLWhpZGRlblwiKTp0aGlzLnQoXCJ2anMtaGlkZGVuXCIpfSkpfX0pO1xudS5pYi5wcm90b3R5cGUuaD17Y2hpbGRyZW46e3ZvbHVtZUJhcjp7fX19O3UuaWIucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdS5iLnByb3RvdHlwZS5lLmNhbGwodGhpcyxcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtdm9sdW1lLWNvbnRyb2wgdmpzLWNvbnRyb2xcIn0pfTt1LmhiPXUuTy5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt1Lk8uY2FsbCh0aGlzLGEsYyk7YS5kKFwidm9sdW1lY2hhbmdlXCIsdS5iaW5kKHRoaXMsdGhpcy5BYSkpO2EuSSh1LmJpbmQodGhpcyx0aGlzLkFhKSk7c2V0VGltZW91dCh1LmJpbmQodGhpcyx0aGlzLnVwZGF0ZSksMCl9fSk7dD11LmhiLnByb3RvdHlwZTt0LkFhPWZ1bmN0aW9uKCl7dGhpcy5hLnNldEF0dHJpYnV0ZShcImFyaWEtdmFsdWVub3dcIix1LnJvdW5kKDEwMCp0aGlzLmMudm9sdW1lKCksMikpO3RoaXMuYS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVldGV4dFwiLHUucm91bmQoMTAwKnRoaXMuYy52b2x1bWUoKSwyKStcIiVcIil9O1xudC5oPXtjaGlsZHJlbjp7dm9sdW1lTGV2ZWw6e30sdm9sdW1lSGFuZGxlOnt9fSxiYXJOYW1lOlwidm9sdW1lTGV2ZWxcIixoYW5kbGVOYW1lOlwidm9sdW1lSGFuZGxlXCJ9O3Quc2M9XCJ2b2x1bWVjaGFuZ2VcIjt0LmU9ZnVuY3Rpb24oKXtyZXR1cm4gdS5PLnByb3RvdHlwZS5lLmNhbGwodGhpcyxcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtdm9sdW1lLWJhclwiLFwiYXJpYS1sYWJlbFwiOlwidm9sdW1lIGxldmVsXCJ9KX07dC5HYj1mdW5jdGlvbihhKXt0aGlzLmMubXV0ZWQoKSYmdGhpcy5jLm11dGVkKGwpO3RoaXMuYy52b2x1bWUoRih0aGlzLGEpKX07dC54Yj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmMubXV0ZWQoKT8wOnRoaXMuYy52b2x1bWUoKX07dC56Yz1mdW5jdGlvbigpe3RoaXMuYy52b2x1bWUodGhpcy5jLnZvbHVtZSgpKzAuMSl9O3QueWM9ZnVuY3Rpb24oKXt0aGlzLmMudm9sdW1lKHRoaXMuYy52b2x1bWUoKS0wLjEpfTtcbnUuY2M9dS5iLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3UuYi5jYWxsKHRoaXMsYSxjKX19KTt1LmNjLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7cmV0dXJuIHUuYi5wcm90b3R5cGUuZS5jYWxsKHRoaXMsXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLXZvbHVtZS1sZXZlbFwiLGlubmVySFRNTDonPHNwYW4gY2xhc3M9XCJ2anMtY29udHJvbC10ZXh0XCI+PC9zcGFuPid9KX07dS5qYj11LlcuZXh0ZW5kKCk7dS5qYi5wcm90b3R5cGUuZGVmYXVsdFZhbHVlPVwiMDA6MDBcIjt1LmpiLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7cmV0dXJuIHUuVy5wcm90b3R5cGUuZS5jYWxsKHRoaXMsXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLXZvbHVtZS1oYW5kbGVcIn0pfTtcbnUuZWE9dS5xLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3UucS5jYWxsKHRoaXMsYSxjKTthLmQoXCJ2b2x1bWVjaGFuZ2VcIix1LmJpbmQodGhpcyx0aGlzLnVwZGF0ZSkpO2EuaSYmKGEuaS5tJiZhLmkubS52b2x1bWVDb250cm9sPT09bCkmJnRoaXMubihcInZqcy1oaWRkZW5cIik7YS5kKFwibG9hZHN0YXJ0XCIsdS5iaW5kKHRoaXMsZnVuY3Rpb24oKXthLmkubSYmYS5pLm0udm9sdW1lQ29udHJvbD09PWw/dGhpcy5uKFwidmpzLWhpZGRlblwiKTp0aGlzLnQoXCJ2anMtaGlkZGVuXCIpfSkpfX0pO3UuZWEucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdS5xLnByb3RvdHlwZS5lLmNhbGwodGhpcyxcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtbXV0ZS1jb250cm9sIHZqcy1jb250cm9sXCIsaW5uZXJIVE1MOic8ZGl2PjxzcGFuIGNsYXNzPVwidmpzLWNvbnRyb2wtdGV4dFwiPk11dGU8L3NwYW4+PC9kaXY+J30pfTtcbnUuZWEucHJvdG90eXBlLnA9ZnVuY3Rpb24oKXt0aGlzLmMubXV0ZWQodGhpcy5jLm11dGVkKCk/bDpmKX07dS5lYS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZvbHVtZSgpLGM9MzswPT09YXx8dGhpcy5jLm11dGVkKCk/Yz0wOjAuMzM+YT9jPTE6MC42Nz5hJiYoYz0yKTt0aGlzLmMubXV0ZWQoKT9cIlVubXV0ZVwiIT10aGlzLmEuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uaW5uZXJIVE1MJiYodGhpcy5hLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLmlubmVySFRNTD1cIlVubXV0ZVwiKTpcIk11dGVcIiE9dGhpcy5hLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLmlubmVySFRNTCYmKHRoaXMuYS5jaGlsZHJlblswXS5jaGlsZHJlblswXS5pbm5lckhUTUw9XCJNdXRlXCIpO2ZvcihhPTA7ND5hO2ErKyl1LnQodGhpcy5hLFwidmpzLXZvbC1cIithKTt1Lm4odGhpcy5hLFwidmpzLXZvbC1cIitjKX07XG51Lm1hPXUuUy5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt1LlMuY2FsbCh0aGlzLGEsYyk7YS5kKFwidm9sdW1lY2hhbmdlXCIsdS5iaW5kKHRoaXMsdGhpcy51cGRhdGUpKTthLmkmJihhLmkubSYmYS5pLm0uRGM9PT1sKSYmdGhpcy5uKFwidmpzLWhpZGRlblwiKTthLmQoXCJsb2Fkc3RhcnRcIix1LmJpbmQodGhpcyxmdW5jdGlvbigpe2EuaS5tJiZhLmkubS5EYz09PWw/dGhpcy5uKFwidmpzLWhpZGRlblwiKTp0aGlzLnQoXCJ2anMtaGlkZGVuXCIpfSkpO3RoaXMubihcInZqcy1tZW51LWJ1dHRvblwiKX19KTt1Lm1hLnByb3RvdHlwZS5NYT1mdW5jdGlvbigpe3ZhciBhPW5ldyB1LmxhKHRoaXMuYyx7VWM6XCJkaXZcIn0pLGM9bmV3IHUuaGIodGhpcy5jLHUubC5CKHtHZDpmfSx0aGlzLmguWWQpKTthLlkoYyk7cmV0dXJuIGF9O3UubWEucHJvdG90eXBlLnA9ZnVuY3Rpb24oKXt1LmVhLnByb3RvdHlwZS5wLmNhbGwodGhpcyk7dS5TLnByb3RvdHlwZS5wLmNhbGwodGhpcyl9O1xudS5tYS5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3JldHVybiB1LnEucHJvdG90eXBlLmUuY2FsbCh0aGlzLFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy12b2x1bWUtbWVudS1idXR0b24gdmpzLW1lbnUtYnV0dG9uIHZqcy1jb250cm9sXCIsaW5uZXJIVE1MOic8ZGl2PjxzcGFuIGNsYXNzPVwidmpzLWNvbnRyb2wtdGV4dFwiPk11dGU8L3NwYW4+PC9kaXY+J30pfTt1Lm1hLnByb3RvdHlwZS51cGRhdGU9dS5lYS5wcm90b3R5cGUudXBkYXRlO3UuRmE9dS5xLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3UucS5jYWxsKHRoaXMsYSxjKTthLnBvc3RlcigpJiZ0aGlzLnNyYyhhLnBvc3RlcigpKTsoIWEucG9zdGVyKCl8fCFhLmNvbnRyb2xzKCkpJiZ0aGlzLkQoKTthLmQoXCJwb3N0ZXJjaGFuZ2VcIix1LmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuc3JjKGEucG9zdGVyKCkpfSkpO2EuZChcInBsYXlcIix1LmJpbmQodGhpcyx0aGlzLkQpKX19KTt2YXIgUT1cImJhY2tncm91bmRTaXplXCJpbiB1LkYuc3R5bGU7XG51LkZhLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7dmFyIGE9dS5lKFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy1wb3N0ZXJcIix0YWJJbmRleDotMX0pO1F8fGEuYXBwZW5kQ2hpbGQodS5lKFwiaW1nXCIpKTtyZXR1cm4gYX07dS5GYS5wcm90b3R5cGUuc3JjPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMudSgpO2EhPT1iJiYoUT9jLnN0eWxlLmJhY2tncm91bmRJbWFnZT0ndXJsKFwiJythKydcIiknOmMuZmlyc3RDaGlsZC5zcmM9YSl9O3UuRmEucHJvdG90eXBlLnA9ZnVuY3Rpb24oKXt0aGlzLkMoKS5jb250cm9scygpJiZ0aGlzLmMucGxheSgpfTtcbnUuVmI9dS5iLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3UuYi5jYWxsKHRoaXMsYSxjKTthLmQoXCJjYW5wbGF5XCIsdS5iaW5kKHRoaXMsdGhpcy5EKSk7YS5kKFwiY2FucGxheXRocm91Z2hcIix1LmJpbmQodGhpcyx0aGlzLkQpKTthLmQoXCJwbGF5aW5nXCIsdS5iaW5kKHRoaXMsdGhpcy5EKSk7YS5kKFwic2Vla2luZ1wiLHUuYmluZCh0aGlzLHRoaXMuc2hvdykpO2EuZChcInNlZWtlZFwiLHUuYmluZCh0aGlzLHRoaXMuRCkpO2EuZChcImVycm9yXCIsdS5iaW5kKHRoaXMsdGhpcy5zaG93KSk7YS5kKFwiZW5kZWRcIix1LmJpbmQodGhpcyx0aGlzLkQpKTthLmQoXCJ3YWl0aW5nXCIsdS5iaW5kKHRoaXMsdGhpcy5zaG93KSl9fSk7dS5WYi5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3JldHVybiB1LmIucHJvdG90eXBlLmUuY2FsbCh0aGlzLFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy1sb2FkaW5nLXNwaW5uZXJcIn0pfTt1LllhPXUucS5leHRlbmQoKTtcbnUuWWEucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdS5xLnByb3RvdHlwZS5lLmNhbGwodGhpcyxcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtYmlnLXBsYXktYnV0dG9uXCIsaW5uZXJIVE1MOic8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj48L3NwYW4+JyxcImFyaWEtbGFiZWxcIjpcInBsYXkgdmlkZW9cIn0pfTt1LllhLnByb3RvdHlwZS5wPWZ1bmN0aW9uKCl7dGhpcy5jLnBsYXkoKX07XG51LnI9dS5iLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMsZCl7Yz1jfHx7fTtjLnZjPWw7dS5iLmNhbGwodGhpcyxhLGMsZCk7dmFyIGUsZztnPXRoaXM7ZT10aGlzLkMoKTthPWZ1bmN0aW9uKCl7aWYoZS5jb250cm9scygpJiYhZS51c2luZ05hdGl2ZUNvbnRyb2xzKCkpe3ZhciBhO2cuZChcIm1vdXNlZG93blwiLGcucCk7Zy5kKFwidG91Y2hzdGFydFwiLGZ1bmN0aW9uKGMpe2MucHJldmVudERlZmF1bHQoKTthPXRoaXMuYy51c2VyQWN0aXZlKCl9KTtnLmQoXCJ0b3VjaG1vdmVcIixmdW5jdGlvbigpe2EmJnRoaXMuQygpLnJlcG9ydFVzZXJBY3Rpdml0eSgpfSk7dmFyIGMsZCxuLHM7Yz0wO2cuZChcInRvdWNoc3RhcnRcIixmdW5jdGlvbigpe2M9KG5ldyBEYXRlKS5nZXRUaW1lKCk7bj1mfSk7cz1mdW5jdGlvbigpe249bH07Zy5kKFwidG91Y2htb3ZlXCIscyk7Zy5kKFwidG91Y2hsZWF2ZVwiLHMpO2cuZChcInRvdWNoY2FuY2VsXCIscyk7Zy5kKFwidG91Y2hlbmRcIixmdW5jdGlvbigpe249PT1mJiYoZD0obmV3IERhdGUpLmdldFRpbWUoKS1cbmMsMjUwPmQmJnRoaXMuayhcInRhcFwiKSl9KTtnLmQoXCJ0YXBcIixnLnFkKX19O2M9dS5iaW5kKGcsZy50ZCk7dGhpcy5JKGEpO2UuZChcImNvbnRyb2xzZW5hYmxlZFwiLGEpO2UuZChcImNvbnRyb2xzZGlzYWJsZWRcIixjKX19KTt0PXUuci5wcm90b3R5cGU7dC50ZD1mdW5jdGlvbigpe3RoaXMubyhcInRhcFwiKTt0aGlzLm8oXCJ0b3VjaHN0YXJ0XCIpO3RoaXMubyhcInRvdWNobW92ZVwiKTt0aGlzLm8oXCJ0b3VjaGxlYXZlXCIpO3RoaXMubyhcInRvdWNoY2FuY2VsXCIpO3RoaXMubyhcInRvdWNoZW5kXCIpO3RoaXMubyhcImNsaWNrXCIpO3RoaXMubyhcIm1vdXNlZG93blwiKX07dC5wPWZ1bmN0aW9uKGEpezA9PT1hLmJ1dHRvbiYmdGhpcy5DKCkuY29udHJvbHMoKSYmKHRoaXMuQygpLnBhdXNlZCgpP3RoaXMuQygpLnBsYXkoKTp0aGlzLkMoKS5wYXVzZSgpKX07dC5xZD1mdW5jdGlvbigpe3RoaXMuQygpLnVzZXJBY3RpdmUoIXRoaXMuQygpLnVzZXJBY3RpdmUoKSl9O3QuTGI9bSgpO1xudC5tPXt2b2x1bWVDb250cm9sOmYsZnVsbHNjcmVlblJlc2l6ZTpsLHByb2dyZXNzRXZlbnRzOmwsdGltZXVwZGF0ZUV2ZW50czpsfTt1Lm1lZGlhPXt9O3UubWVkaWEuWGE9XCJwbGF5IHBhdXNlIHBhdXNlZCBjdXJyZW50VGltZSBzZXRDdXJyZW50VGltZSBkdXJhdGlvbiBidWZmZXJlZCB2b2x1bWUgc2V0Vm9sdW1lIG11dGVkIHNldE11dGVkIHdpZHRoIGhlaWdodCBzdXBwb3J0c0Z1bGxTY3JlZW4gZW50ZXJGdWxsU2NyZWVuIHNyYyBsb2FkIGN1cnJlbnRTcmMgcHJlbG9hZCBzZXRQcmVsb2FkIGF1dG9wbGF5IHNldEF1dG9wbGF5IGxvb3Agc2V0TG9vcCBlcnJvciBuZXR3b3JrU3RhdGUgcmVhZHlTdGF0ZSBzZWVraW5nIGluaXRpYWxUaW1lIHN0YXJ0T2Zmc2V0VGltZSBwbGF5ZWQgc2Vla2FibGUgZW5kZWQgdmlkZW9UcmFja3MgYXVkaW9UcmFja3MgdmlkZW9XaWR0aCB2aWRlb0hlaWdodCB0ZXh0VHJhY2tzIGRlZmF1bHRQbGF5YmFja1JhdGUgcGxheWJhY2tSYXRlIG1lZGlhR3JvdXAgY29udHJvbGxlciBjb250cm9scyBkZWZhdWx0TXV0ZWRcIi5zcGxpdChcIiBcIik7XG5mdW5jdGlvbiBlYSgpe3ZhciBhPXUubWVkaWEuWGFbaV07cmV0dXJuIGZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoJ1RoZSBcIicrYStcIlxcXCIgbWV0aG9kIGlzIG5vdCBhdmFpbGFibGUgb24gdGhlIHBsYXliYWNrIHRlY2hub2xvZ3kncyBBUElcIik7fX1mb3IodmFyIGk9dS5tZWRpYS5YYS5sZW5ndGgtMTswPD1pO2ktLSl1LnIucHJvdG90eXBlW3UubWVkaWEuWGFbaV1dPWVhKCk7XG51Lmc9dS5yLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMsZCl7dGhpcy5tLnZvbHVtZUNvbnRyb2w9dS5nLlRjKCk7dGhpcy5tLm1vdmluZ01lZGlhRWxlbWVudEluRE9NPSF1LkljO3RoaXMubS5mdWxsc2NyZWVuUmVzaXplPWY7dS5yLmNhbGwodGhpcyxhLGMsZCk7Zm9yKGQ9dS5nLmJiLmxlbmd0aC0xOzA8PWQ7ZC0tKXUuZCh0aGlzLmEsdS5nLmJiW2RdLHUuYmluZCh0aGlzLmMsdGhpcy5hZCkpOyhjPWMuc291cmNlKSYmdGhpcy5hLmN1cnJlbnRTcmM9PT1jLnNyYyYmMDx0aGlzLmEubmV0d29ya1N0YXRlP2EuayhcImxvYWRzdGFydFwiKTpjJiYodGhpcy5hLnNyYz1jLnNyYyk7aWYodS4kYiYmYS5vcHRpb25zKCkubmF0aXZlQ29udHJvbHNGb3JUb3VjaCE9PWwpe3ZhciBlLGcsaixrO2U9dGhpcztnPXRoaXMuQygpO2M9Zy5jb250cm9scygpO2UuYS5jb250cm9scz0hIWM7aj1mdW5jdGlvbigpe2UuYS5jb250cm9scz1mfTtrPWZ1bmN0aW9uKCl7ZS5hLmNvbnRyb2xzPWx9O2cuZChcImNvbnRyb2xzZW5hYmxlZFwiLFxuaik7Zy5kKFwiY29udHJvbHNkaXNhYmxlZFwiLGspO2M9ZnVuY3Rpb24oKXtnLm8oXCJjb250cm9sc2VuYWJsZWRcIixqKTtnLm8oXCJjb250cm9sc2Rpc2FibGVkXCIsayl9O2UuZChcImRpc3Bvc2VcIixjKTtnLmQoXCJ1c2luZ2N1c3RvbWNvbnRyb2xzXCIsYyk7Zy51c2luZ05hdGl2ZUNvbnRyb2xzKGYpfWEuSShmdW5jdGlvbigpe3RoaXMuTSYmKHRoaXMuaC5hdXRvcGxheSYmdGhpcy5wYXVzZWQoKSkmJihkZWxldGUgdGhpcy5NLnBvc3Rlcix0aGlzLnBsYXkoKSl9KTt0aGlzLnphKCl9fSk7dD11LmcucHJvdG90eXBlO3QuZGlzcG9zZT1mdW5jdGlvbigpe3Uuci5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpfTtcbnQuZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYyxjPWEuTSxkO2lmKCFjfHx0aGlzLm0ubW92aW5nTWVkaWFFbGVtZW50SW5ET009PT1sKWM/KGQ9Yy5jbG9uZU5vZGUobCksdS5nLmdjKGMpLGM9ZCxhLk09aCk6Yz11LmUoXCJ2aWRlb1wiLHtpZDphLmlkKCkrXCJfaHRtbDVfYXBpXCIsY2xhc3NOYW1lOlwidmpzLXRlY2hcIn0pLGMucGxheWVyPWEsdS55YihjLGEudSgpKTtkPVtcImF1dG9wbGF5XCIsXCJwcmVsb2FkXCIsXCJsb29wXCIsXCJtdXRlZFwiXTtmb3IodmFyIGU9ZC5sZW5ndGgtMTswPD1lO2UtLSl7dmFyIGc9ZFtlXTthLmhbZ10hPT1oJiYoY1tnXT1hLmhbZ10pfXJldHVybiBjfTt0LmFkPWZ1bmN0aW9uKGEpe3RoaXMuayhhKTthLnN0b3BQcm9wYWdhdGlvbigpfTt0LnBsYXk9ZnVuY3Rpb24oKXt0aGlzLmEucGxheSgpfTt0LnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5hLnBhdXNlKCl9O3QucGF1c2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5wYXVzZWR9O3QuY3VycmVudFRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmN1cnJlbnRUaW1lfTtcbnQudmQ9ZnVuY3Rpb24oYSl7dHJ5e3RoaXMuYS5jdXJyZW50VGltZT1hfWNhdGNoKGMpe3UubG9nKGMsXCJWaWRlbyBpcyBub3QgcmVhZHkuIChWaWRlby5qcylcIil9fTt0LmR1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5kdXJhdGlvbnx8MH07dC5idWZmZXJlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuYnVmZmVyZWR9O3Qudm9sdW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS52b2x1bWV9O3QuQWQ9ZnVuY3Rpb24oYSl7dGhpcy5hLnZvbHVtZT1hfTt0Lm11dGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5tdXRlZH07dC55ZD1mdW5jdGlvbihhKXt0aGlzLmEubXV0ZWQ9YX07dC53aWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEub2Zmc2V0V2lkdGh9O3QuaGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5vZmZzZXRIZWlnaHR9O1xudC5XYT1mdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuYS53ZWJraXRFbnRlckZ1bGxTY3JlZW4mJigvQW5kcm9pZC8udGVzdCh1LkopfHwhL0Nocm9tZXxNYWMgT1MgWCAxMC41Ly50ZXN0KHUuSikpP2Y6bH07dC5oYz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYTthLnBhdXNlZCYmYS5uZXR3b3JrU3RhdGU8PWEuSmQ/KHRoaXMuYS5wbGF5KCksc2V0VGltZW91dChmdW5jdGlvbigpe2EucGF1c2UoKTthLndlYmtpdEVudGVyRnVsbFNjcmVlbigpfSwwKSk6YS53ZWJraXRFbnRlckZ1bGxTY3JlZW4oKX07dC5iZD1mdW5jdGlvbigpe3RoaXMuYS53ZWJraXRFeGl0RnVsbFNjcmVlbigpfTt0LnNyYz1mdW5jdGlvbihhKXt0aGlzLmEuc3JjPWF9O3QubG9hZD1mdW5jdGlvbigpe3RoaXMuYS5sb2FkKCl9O3QuY3VycmVudFNyYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuY3VycmVudFNyY307dC5wb3N0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLnBvc3Rlcn07XG50LkxiPWZ1bmN0aW9uKGEpe3RoaXMuYS5wb3N0ZXI9YX07dC5TYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuU2F9O3QuemQ9ZnVuY3Rpb24oYSl7dGhpcy5hLlNhPWF9O3QuYXV0b3BsYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmF1dG9wbGF5fTt0LnVkPWZ1bmN0aW9uKGEpe3RoaXMuYS5hdXRvcGxheT1hfTt0LmNvbnRyb2xzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5jb250cm9sc307dC5sb29wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sb29wfTt0LnhkPWZ1bmN0aW9uKGEpe3RoaXMuYS5sb29wPWF9O3QuZXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmVycm9yfTt0LnNlZWtpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLnNlZWtpbmd9O3QuZW5kZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmVuZGVkfTt1LmcuaXNTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXt0cnl7dS5GLnZvbHVtZT0wLjV9Y2F0Y2goYSl7cmV0dXJuIGx9cmV0dXJuISF1LkYuY2FuUGxheVR5cGV9O1xudS5nLm5iPWZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4hIXUuRi5jYW5QbGF5VHlwZShhLnR5cGUpfWNhdGNoKGMpe3JldHVyblwiXCJ9fTt1LmcuVGM9ZnVuY3Rpb24oKXt2YXIgYT11LkYudm9sdW1lO3UuRi52b2x1bWU9YS8yKzAuMTtyZXR1cm4gYSE9PXUuRi52b2x1bWV9O3ZhciBSLGZhPS9eYXBwbGljYXRpb25cXC8oPzp4LXx2bmRcXC5hcHBsZVxcLiltcGVndXJsL2ksZ2E9L152aWRlb1xcL21wNC9pO1xudS5nLnJjPWZ1bmN0aW9uKCl7NDw9dS5RYiYmKFJ8fChSPXUuRi5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuY2FuUGxheVR5cGUpLHUuRi5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuY2FuUGxheVR5cGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmZhLnRlc3QoYSk/XCJtYXliZVwiOlIuY2FsbCh0aGlzLGEpfSk7dS5NYyYmKFJ8fChSPXUuRi5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuY2FuUGxheVR5cGUpLHUuRi5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuY2FuUGxheVR5cGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmdhLnRlc3QoYSk/XCJtYXliZVwiOlIuY2FsbCh0aGlzLGEpfSl9O3UuZy5GZD1mdW5jdGlvbigpe3ZhciBhPXUuRi5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuY2FuUGxheVR5cGU7dS5GLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5jYW5QbGF5VHlwZT1SO1I9aDtyZXR1cm4gYX07dS5nLnJjKCk7dS5nLmJiPVwibG9hZHN0YXJ0IHN1c3BlbmQgYWJvcnQgZXJyb3IgZW1wdGllZCBzdGFsbGVkIGxvYWRlZG1ldGFkYXRhIGxvYWRlZGRhdGEgY2FucGxheSBjYW5wbGF5dGhyb3VnaCBwbGF5aW5nIHdhaXRpbmcgc2Vla2luZyBzZWVrZWQgZW5kZWQgZHVyYXRpb25jaGFuZ2UgdGltZXVwZGF0ZSBwcm9ncmVzcyBwbGF5IHBhdXNlIHJhdGVjaGFuZ2Ugdm9sdW1lY2hhbmdlXCIuc3BsaXQoXCIgXCIpO1xudS5nLmdjPWZ1bmN0aW9uKGEpe2lmKGEpe2EucGxheWVyPWg7Zm9yKGEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpO2EuaGFzQ2hpbGROb2RlcygpOylhLnJlbW92ZUNoaWxkKGEuZmlyc3RDaGlsZCk7YS5yZW1vdmVBdHRyaWJ1dGUoXCJzcmNcIik7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGEubG9hZCl0cnl7YS5sb2FkKCl9Y2F0Y2goYyl7fX19O1xudS5mPXUuci5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjLGQpe3Uuci5jYWxsKHRoaXMsYSxjLGQpO3ZhciBlPWMuc291cmNlO2Q9Yy5wYXJlbnRFbDt2YXIgZz10aGlzLmE9dS5lKFwiZGl2XCIse2lkOmEuaWQoKStcIl90ZW1wX2ZsYXNoXCJ9KSxqPWEuaWQoKStcIl9mbGFzaF9hcGlcIjthPWEuaDt2YXIgaz11LmwuQih7cmVhZHlGdW5jdGlvbjpcInZpZGVvanMuRmxhc2gub25SZWFkeVwiLGV2ZW50UHJveHlGdW5jdGlvbjpcInZpZGVvanMuRmxhc2gub25FdmVudFwiLGVycm9yRXZlbnRQcm94eUZ1bmN0aW9uOlwidmlkZW9qcy5GbGFzaC5vbkVycm9yXCIsYXV0b3BsYXk6YS5hdXRvcGxheSxwcmVsb2FkOmEuU2EsbG9vcDphLmxvb3AsbXV0ZWQ6YS5tdXRlZH0sYy5mbGFzaFZhcnMpLHI9dS5sLkIoe3dtb2RlOlwib3BhcXVlXCIsYmdjb2xvcjpcIiMwMDAwMDBcIn0sYy5wYXJhbXMpLG49dS5sLkIoe2lkOmosbmFtZTpqLFwiY2xhc3NcIjpcInZqcy10ZWNoXCJ9LGMuYXR0cmlidXRlcykscztlJiYoZS50eXBlJiZ1LmYuamQoZS50eXBlKT9cbihhPXUuZi5BYyhlLnNyYyksay5ydG1wQ29ubmVjdGlvbj1lbmNvZGVVUklDb21wb25lbnQoYS5xYiksay5ydG1wU3RyZWFtPWVuY29kZVVSSUNvbXBvbmVudChhLk1iKSk6ay5zcmM9ZW5jb2RlVVJJQ29tcG9uZW50KHUua2MoZS5zcmMpKSk7dGhpcy5zZXRDdXJyZW50VGltZT1mdW5jdGlvbihhKXtzPWE7dGhpcy5hLnZqc19zZXRQcm9wZXJ0eShcImN1cnJlbnRUaW1lXCIsYSl9O3RoaXMuY3VycmVudFRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWVraW5nKCk/czp0aGlzLmEudmpzX2dldFByb3BlcnR5KFwiY3VycmVudFRpbWVcIil9O3UueWIoZyxkKTtjLnN0YXJ0VGltZSYmdGhpcy5JKGZ1bmN0aW9uKCl7dGhpcy5sb2FkKCk7dGhpcy5wbGF5KCk7dGhpcy5jdXJyZW50VGltZShjLnN0YXJ0VGltZSl9KTt1LlViJiZ0aGlzLkkoZnVuY3Rpb24oKXt1LmQodGhpcy51KCksXCJtb3VzZW1vdmVcIix1LmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuQygpLmsoe3R5cGU6XCJtb3VzZW1vdmVcIixcbmJ1YmJsZXM6bH0pfSkpfSk7aWYoYy5pRnJhbWVNb2RlPT09ZiYmIXUuVWIpe3ZhciBEPXUuZShcImlmcmFtZVwiLHtpZDpqK1wiX2lmcmFtZVwiLG5hbWU6aitcIl9pZnJhbWVcIixjbGFzc05hbWU6XCJ2anMtdGVjaFwiLHNjcm9sbGluZzpcIm5vXCIsbWFyZ2luV2lkdGg6MCxtYXJnaW5IZWlnaHQ6MCxmcmFtZUJvcmRlcjowfSk7ay5yZWFkeUZ1bmN0aW9uPVwicmVhZHlcIjtrLmV2ZW50UHJveHlGdW5jdGlvbj1cImV2ZW50c1wiO2suZXJyb3JFdmVudFByb3h5RnVuY3Rpb249XCJlcnJvcnNcIjt1LmQoRCxcImxvYWRcIix1LmJpbmQodGhpcyxmdW5jdGlvbigpe3ZhciBhLGQ9RC5jb250ZW50V2luZG93O2E9RC5jb250ZW50RG9jdW1lbnQ/RC5jb250ZW50RG9jdW1lbnQ6RC5jb250ZW50V2luZG93LmRvY3VtZW50O2Eud3JpdGUodS5mLmxjKGMuc3dmLGsscixuKSk7ZC5wbGF5ZXI9dGhpcy5jO2QucmVhZHk9dS5iaW5kKHRoaXMuYyxmdW5jdGlvbihjKXt2YXIgZD10aGlzLmk7ZC5hPWEuZ2V0RWxlbWVudEJ5SWQoYyk7XG51LmYucGIoZCl9KTtkLmV2ZW50cz11LmJpbmQodGhpcy5jLGZ1bmN0aW9uKGEsYyl7dGhpcyYmXCJmbGFzaFwiPT09dGhpcy54YSYmdGhpcy5rKGMpfSk7ZC5lcnJvcnM9dS5iaW5kKHRoaXMuYyxmdW5jdGlvbihhLGMpe3UubG9nKFwiRmxhc2ggRXJyb3JcIixjKX0pfSkpO2cucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoRCxnKX1lbHNlIHUuZi4kYyhjLnN3ZixnLGsscixuKX19KTt0PXUuZi5wcm90b3R5cGU7dC5kaXNwb3NlPWZ1bmN0aW9uKCl7dS5yLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyl9O3QucGxheT1mdW5jdGlvbigpe3RoaXMuYS52anNfcGxheSgpfTt0LnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5hLnZqc19wYXVzZSgpfTtcbnQuc3JjPWZ1bmN0aW9uKGEpe2lmKGE9PT1iKXJldHVybiB0aGlzLmN1cnJlbnRTcmMoKTt1LmYuaGQoYSk/KGE9dS5mLkFjKGEpLHRoaXMuVGQoYS5xYiksdGhpcy5VZChhLk1iKSk6KGE9dS5rYyhhKSx0aGlzLmEudmpzX3NyYyhhKSk7aWYodGhpcy5jLmF1dG9wbGF5KCkpe3ZhciBjPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2MucGxheSgpfSwwKX19O3QuY3VycmVudFNyYz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYS52anNfZ2V0UHJvcGVydHkoXCJjdXJyZW50U3JjXCIpO2lmKGE9PWgpe3ZhciBjPXRoaXMucnRtcENvbm5lY3Rpb24oKSxkPXRoaXMucnRtcFN0cmVhbSgpO2MmJmQmJihhPXUuZi5CZChjLGQpKX1yZXR1cm4gYX07dC5sb2FkPWZ1bmN0aW9uKCl7dGhpcy5hLnZqc19sb2FkKCl9O3QucG9zdGVyPWZ1bmN0aW9uKCl7dGhpcy5hLnZqc19nZXRQcm9wZXJ0eShcInBvc3RlclwiKX07dC5MYj1tKCk7dC5idWZmZXJlZD1mdW5jdGlvbigpe3JldHVybiB1LnNiKDAsdGhpcy5hLnZqc19nZXRQcm9wZXJ0eShcImJ1ZmZlcmVkXCIpKX07XG50LldhPXEobCk7dC5oYz1xKGwpO3ZhciBTPXUuZi5wcm90b3R5cGUsVD1cInJ0bXBDb25uZWN0aW9uIHJ0bXBTdHJlYW0gcHJlbG9hZCBkZWZhdWx0UGxheWJhY2tSYXRlIHBsYXliYWNrUmF0ZSBhdXRvcGxheSBsb29wIG1lZGlhR3JvdXAgY29udHJvbGxlciBjb250cm9scyB2b2x1bWUgbXV0ZWQgZGVmYXVsdE11dGVkXCIuc3BsaXQoXCIgXCIpLFU9XCJlcnJvciBuZXR3b3JrU3RhdGUgcmVhZHlTdGF0ZSBzZWVraW5nIGluaXRpYWxUaW1lIGR1cmF0aW9uIHN0YXJ0T2Zmc2V0VGltZSBwYXVzZWQgcGxheWVkIHNlZWthYmxlIGVuZGVkIHZpZGVvVHJhY2tzIGF1ZGlvVHJhY2tzIHZpZGVvV2lkdGggdmlkZW9IZWlnaHQgdGV4dFRyYWNrc1wiLnNwbGl0KFwiIFwiKTtmdW5jdGlvbiBoYSgpe3ZhciBhPVRbVl0sYz1hLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc2xpY2UoMSk7U1tcInNldFwiK2NdPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmEudmpzX3NldFByb3BlcnR5KGEsYyl9fVxuZnVuY3Rpb24gVyhhKXtTW2FdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS52anNfZ2V0UHJvcGVydHkoYSl9fXZhciBWO2ZvcihWPTA7VjxULmxlbmd0aDtWKyspVyhUW1ZdKSxoYSgpO2ZvcihWPTA7VjxVLmxlbmd0aDtWKyspVyhVW1ZdKTt1LmYuaXNTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMTA8PXUuZi52ZXJzaW9uKClbMF19O3UuZi5uYj1mdW5jdGlvbihhKXtpZighYS50eXBlKXJldHVyblwiXCI7YT1hLnR5cGUucmVwbGFjZSgvOy4qLyxcIlwiKS50b0xvd2VyQ2FzZSgpO2lmKGEgaW4gdS5mLmRkfHxhIGluIHUuZi5CYylyZXR1cm5cIm1heWJlXCJ9O3UuZi5kZD17XCJ2aWRlby9mbHZcIjpcIkZMVlwiLFwidmlkZW8veC1mbHZcIjpcIkZMVlwiLFwidmlkZW8vbXA0XCI6XCJNUDRcIixcInZpZGVvL200dlwiOlwiTVA0XCJ9O3UuZi5CYz17XCJydG1wL21wNFwiOlwiTVA0XCIsXCJydG1wL2ZsdlwiOlwiRkxWXCJ9O1xudS5mLm9uUmVhZHk9ZnVuY3Rpb24oYSl7YT11LnUoYSk7dmFyIGM9YS5wbGF5ZXJ8fGEucGFyZW50Tm9kZS5wbGF5ZXIsZD1jLmk7YS5wbGF5ZXI9YztkLmE9YTt1LmYucGIoZCl9O3UuZi5wYj1mdW5jdGlvbihhKXthLnUoKS52anNfZ2V0UHJvcGVydHk/YS56YSgpOnNldFRpbWVvdXQoZnVuY3Rpb24oKXt1LmYucGIoYSl9LDUwKX07dS5mLm9uRXZlbnQ9ZnVuY3Rpb24oYSxjKXt1LnUoYSkucGxheWVyLmsoYyl9O3UuZi5vbkVycm9yPWZ1bmN0aW9uKGEsYyl7dS51KGEpLnBsYXllci5rKFwiZXJyb3JcIik7dS5sb2coXCJGbGFzaCBFcnJvclwiLGMsYSl9O1xudS5mLnZlcnNpb249ZnVuY3Rpb24oKXt2YXIgYT1cIjAsMCwwXCI7dHJ5e2E9KG5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdChcIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoXCIpKS5HZXRWYXJpYWJsZShcIiR2ZXJzaW9uXCIpLnJlcGxhY2UoL1xcRCsvZyxcIixcIikubWF0Y2goL14sPyguKyksPyQvKVsxXX1jYXRjaChjKXt0cnl7bmF2aWdhdG9yLm1pbWVUeXBlc1tcImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoXCJdLmVuYWJsZWRQbHVnaW4mJihhPShuYXZpZ2F0b3IucGx1Z2luc1tcIlNob2Nrd2F2ZSBGbGFzaCAyLjBcIl18fG5hdmlnYXRvci5wbHVnaW5zW1wiU2hvY2t3YXZlIEZsYXNoXCJdKS5kZXNjcmlwdGlvbi5yZXBsYWNlKC9cXEQrL2csXCIsXCIpLm1hdGNoKC9eLD8oLispLD8kLylbMV0pfWNhdGNoKGQpe319cmV0dXJuIGEuc3BsaXQoXCIsXCIpfTtcbnUuZi4kYz1mdW5jdGlvbihhLGMsZCxlLGcpe2E9dS5mLmxjKGEsZCxlLGcpO2E9dS5lKFwiZGl2XCIse2lubmVySFRNTDphfSkuY2hpbGROb2Rlc1swXTtkPWMucGFyZW50Tm9kZTtjLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGEsYyk7dmFyIGo9ZC5jaGlsZE5vZGVzWzBdO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtqLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wifSwxRTMpfTtcbnUuZi5sYz1mdW5jdGlvbihhLGMsZCxlKXt2YXIgZz1cIlwiLGo9XCJcIixrPVwiXCI7YyYmdS5sLnJhKGMsZnVuY3Rpb24oYSxjKXtnKz1hK1wiPVwiK2MrXCImYW1wO1wifSk7ZD11LmwuQih7bW92aWU6YSxmbGFzaHZhcnM6ZyxhbGxvd1NjcmlwdEFjY2VzczpcImFsd2F5c1wiLGFsbG93TmV0d29ya2luZzpcImFsbFwifSxkKTt1LmwucmEoZCxmdW5jdGlvbihhLGMpe2orPSc8cGFyYW0gbmFtZT1cIicrYSsnXCIgdmFsdWU9XCInK2MrJ1wiIC8+J30pO2U9dS5sLkIoe2RhdGE6YSx3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCJ9LGUpO3UubC5yYShlLGZ1bmN0aW9uKGEsYyl7ays9YSsnPVwiJytjKydcIiAnfSk7cmV0dXJuJzxvYmplY3QgdHlwZT1cImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoXCInK2srXCI+XCIraitcIjwvb2JqZWN0PlwifTt1LmYuQmQ9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYStcIiZcIitjfTtcbnUuZi5BYz1mdW5jdGlvbihhKXt2YXIgYz17cWI6XCJcIixNYjpcIlwifTtpZighYSlyZXR1cm4gYzt2YXIgZD1hLmluZGV4T2YoXCImXCIpLGU7LTEhPT1kP2U9ZCsxOihkPWU9YS5sYXN0SW5kZXhPZihcIi9cIikrMSwwPT09ZCYmKGQ9ZT1hLmxlbmd0aCkpO2MucWI9YS5zdWJzdHJpbmcoMCxkKTtjLk1iPWEuc3Vic3RyaW5nKGUsYS5sZW5ndGgpO3JldHVybiBjfTt1LmYuamQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW4gdS5mLkJjfTt1LmYuT2M9L15ydG1wW3NldF0/OlxcL1xcLy9pO3UuZi5oZD1mdW5jdGlvbihhKXtyZXR1cm4gdS5mLk9jLnRlc3QoYSl9O1xudS5OYz11LmIuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyxkKXt1LmIuY2FsbCh0aGlzLGEsYyxkKTtpZighYS5oLnNvdXJjZXN8fDA9PT1hLmguc291cmNlcy5sZW5ndGgpe2M9MDtmb3IoZD1hLmgudGVjaE9yZGVyO2M8ZC5sZW5ndGg7YysrKXt2YXIgZT11LlooZFtjXSksZz13aW5kb3cudmlkZW9qc1tlXTtpZihnJiZnLmlzU3VwcG9ydGVkKCkpe0koYSxlKTticmVha319fWVsc2UgYS5zcmMoYS5oLnNvdXJjZXMpfX0pO3UuUGxheWVyLnByb3RvdHlwZS50ZXh0VHJhY2tzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueWE9dGhpcy55YXx8W119O2Z1bmN0aW9uIFgoYSxjLGQpe2Zvcih2YXIgZT1hLnlhLGc9MCxqPWUubGVuZ3RoLGsscjtnPGo7ZysrKWs9ZVtnXSxrLmlkKCk9PT1jPyhrLnNob3coKSxyPWspOmQmJihrLkgoKT09ZCYmMDxrLm1vZGUoKSkmJmsuZGlzYWJsZSgpOyhjPXI/ci5IKCk6ZD9kOmwpJiZhLmsoYytcInRyYWNrY2hhbmdlXCIpfVxudS53PXUuYi5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt1LmIuY2FsbCh0aGlzLGEsYyk7dGhpcy5SPWMuaWR8fFwidmpzX1wiK2Mua2luZCtcIl9cIitjLmxhbmd1YWdlK1wiX1wiK3UucysrO3RoaXMueGM9Yy5zcmM7dGhpcy5YYz1jW1wiZGVmYXVsdFwiXXx8Yy5kZmx0O3RoaXMuRGQ9Yy50aXRsZTt0aGlzLlFkPWMuc3JjbGFuZzt0aGlzLmtkPWMubGFiZWw7dGhpcy4kPVtdO3RoaXMua2I9W107dGhpcy5nYT10aGlzLmhhPTA7dGhpcy5jLmQoXCJmdWxsc2NyZWVuY2hhbmdlXCIsdS5iaW5kKHRoaXMsdGhpcy5RYykpfX0pO3Q9dS53LnByb3RvdHlwZTt0Lkg9cChcIkFcIik7dC5zcmM9cChcInhjXCIpO3QudGI9cChcIlhjXCIpO3QudGl0bGU9cChcIkRkXCIpO3QubGFiZWw9cChcImtkXCIpO3QuVmM9cChcIiRcIik7dC5QYz1wKFwia2JcIik7dC5yZWFkeVN0YXRlPXAoXCJoYVwiKTt0Lm1vZGU9cChcImdhXCIpO1xudC5RYz1mdW5jdGlvbigpe3RoaXMuYS5zdHlsZS5mb250U2l6ZT10aGlzLmMuaXNGdWxsU2NyZWVuKCk/MTQwKihzY3JlZW4ud2lkdGgvdGhpcy5jLndpZHRoKCkpK1wiJVwiOlwiXCJ9O3QuZT1mdW5jdGlvbigpe3JldHVybiB1LmIucHJvdG90eXBlLmUuY2FsbCh0aGlzLFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy1cIit0aGlzLkErXCIgdmpzLXRleHQtdHJhY2tcIn0pfTt0LnNob3c9ZnVuY3Rpb24oKXtZKHRoaXMpO3RoaXMuZ2E9Mjt1LmIucHJvdG90eXBlLnNob3cuY2FsbCh0aGlzKX07dC5EPWZ1bmN0aW9uKCl7WSh0aGlzKTt0aGlzLmdhPTE7dS5iLnByb3RvdHlwZS5ELmNhbGwodGhpcyl9O1xudC5kaXNhYmxlPWZ1bmN0aW9uKCl7Mj09dGhpcy5nYSYmdGhpcy5EKCk7dGhpcy5jLm8oXCJ0aW1ldXBkYXRlXCIsdS5iaW5kKHRoaXMsdGhpcy51cGRhdGUsdGhpcy5SKSk7dGhpcy5jLm8oXCJlbmRlZFwiLHUuYmluZCh0aGlzLHRoaXMucmVzZXQsdGhpcy5SKSk7dGhpcy5yZXNldCgpO3RoaXMuYy5mYShcInRleHRUcmFja0Rpc3BsYXlcIikucmVtb3ZlQ2hpbGQodGhpcyk7dGhpcy5nYT0wfTtmdW5jdGlvbiBZKGEpezA9PT1hLmhhJiZhLmxvYWQoKTswPT09YS5nYSYmKGEuYy5kKFwidGltZXVwZGF0ZVwiLHUuYmluZChhLGEudXBkYXRlLGEuUikpLGEuYy5kKFwiZW5kZWRcIix1LmJpbmQoYSxhLnJlc2V0LGEuUikpLChcImNhcHRpb25zXCI9PT1hLkF8fFwic3VidGl0bGVzXCI9PT1hLkEpJiZhLmMuZmEoXCJ0ZXh0VHJhY2tEaXNwbGF5XCIpLlkoYSkpfVxudC5sb2FkPWZ1bmN0aW9uKCl7MD09PXRoaXMuaGEmJih0aGlzLmhhPTEsdS5nZXQodGhpcy54Yyx1LmJpbmQodGhpcyx0aGlzLnJkKSx1LmJpbmQodGhpcyx0aGlzLkZiKSkpfTt0LkZiPWZ1bmN0aW9uKGEpe3RoaXMuZXJyb3I9YTt0aGlzLmhhPTM7dGhpcy5rKFwiZXJyb3JcIil9O3QucmQ9ZnVuY3Rpb24oYSl7dmFyIGMsZDthPWEuc3BsaXQoXCJcXG5cIik7Zm9yKHZhciBlPVwiXCIsZz0xLGo9YS5sZW5ndGg7ZzxqO2crKylpZihlPXUudHJpbShhW2ddKSl7LTE9PWUuaW5kZXhPZihcIi0tXFx4M2VcIik/KGM9ZSxlPXUudHJpbShhWysrZ10pKTpjPXRoaXMuJC5sZW5ndGg7Yz17aWQ6YyxpbmRleDp0aGlzLiQubGVuZ3RofTtkPWUuc3BsaXQoXCIgLS1cXHgzZSBcIik7Yy5zdGFydFRpbWU9aWEoZFswXSk7Yy5zYT1pYShkWzFdKTtmb3IoZD1bXTthWysrZ10mJihlPXUudHJpbShhW2ddKSk7KWQucHVzaChlKTtjLnRleHQ9ZC5qb2luKFwiPGJyLz5cIik7dGhpcy4kLnB1c2goYyl9dGhpcy5oYT0yO3RoaXMuayhcImxvYWRlZFwiKX07XG5mdW5jdGlvbiBpYShhKXt2YXIgYz1hLnNwbGl0KFwiOlwiKTthPTA7dmFyIGQsZSxnOzM9PWMubGVuZ3RoPyhkPWNbMF0sZT1jWzFdLGM9Y1syXSk6KGQ9MCxlPWNbMF0sYz1jWzFdKTtjPWMuc3BsaXQoL1xccysvKTtjPWMuc3BsaWNlKDAsMSlbMF07Yz1jLnNwbGl0KC9cXC58LC8pO2c9cGFyc2VGbG9hdChjWzFdKTtjPWNbMF07YSs9MzYwMCpwYXJzZUZsb2F0KGQpO2ErPTYwKnBhcnNlRmxvYXQoZSk7YSs9cGFyc2VGbG9hdChjKTtnJiYoYSs9Zy8xRTMpO3JldHVybiBhfVxudC51cGRhdGU9ZnVuY3Rpb24oKXtpZigwPHRoaXMuJC5sZW5ndGgpe3ZhciBhPXRoaXMuYy5jdXJyZW50VGltZSgpO2lmKHRoaXMuS2I9PT1ifHxhPHRoaXMuS2J8fHRoaXMuT2E8PWEpe3ZhciBjPXRoaXMuJCxkPXRoaXMuYy5kdXJhdGlvbigpLGU9MCxnPWwsaj1bXSxrLHIsbixzO2E+PXRoaXMuT2F8fHRoaXMuT2E9PT1iP3M9dGhpcy52YiE9PWI/dGhpcy52YjowOihnPWYscz10aGlzLkJiIT09Yj90aGlzLkJiOmMubGVuZ3RoLTEpO2Zvcig7Oyl7bj1jW3NdO2lmKG4uc2E8PWEpZT1NYXRoLm1heChlLG4uc2EpLG4uSWEmJihuLklhPWwpO2Vsc2UgaWYoYTxuLnN0YXJ0VGltZSl7aWYoZD1NYXRoLm1pbihkLG4uc3RhcnRUaW1lKSxuLklhJiYobi5JYT1sKSwhZylicmVha31lbHNlIGc/KGouc3BsaWNlKDAsMCxuKSxyPT09YiYmKHI9cyksaz1zKTooai5wdXNoKG4pLGs9PT1iJiYoaz1zKSxyPXMpLGQ9TWF0aC5taW4oZCxuLnNhKSxlPU1hdGgubWF4KGUsbi5zdGFydFRpbWUpLG4uSWE9XG5mO2lmKGcpaWYoMD09PXMpYnJlYWs7ZWxzZSBzLS07ZWxzZSBpZihzPT09Yy5sZW5ndGgtMSlicmVhaztlbHNlIHMrK310aGlzLmtiPWo7dGhpcy5PYT1kO3RoaXMuS2I9ZTt0aGlzLnZiPWs7dGhpcy5CYj1yO2E9dGhpcy5rYjtjPVwiXCI7ZD0wO2ZvcihlPWEubGVuZ3RoO2Q8ZTtkKyspYys9JzxzcGFuIGNsYXNzPVwidmpzLXR0LWN1ZVwiPicrYVtkXS50ZXh0K1wiPC9zcGFuPlwiO3RoaXMuYS5pbm5lckhUTUw9Yzt0aGlzLmsoXCJjdWVjaGFuZ2VcIil9fX07dC5yZXNldD1mdW5jdGlvbigpe3RoaXMuT2E9MDt0aGlzLktiPXRoaXMuYy5kdXJhdGlvbigpO3RoaXMuQmI9dGhpcy52Yj0wfTt1LlNiPXUudy5leHRlbmQoKTt1LlNiLnByb3RvdHlwZS5BPVwiY2FwdGlvbnNcIjt1LlpiPXUudy5leHRlbmQoKTt1LlpiLnByb3RvdHlwZS5BPVwic3VidGl0bGVzXCI7dS5UYj11LncuZXh0ZW5kKCk7dS5UYi5wcm90b3R5cGUuQT1cImNoYXB0ZXJzXCI7XG51LmFjPXUuYi5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjLGQpe3UuYi5jYWxsKHRoaXMsYSxjLGQpO2lmKGEuaC50cmFja3MmJjA8YS5oLnRyYWNrcy5sZW5ndGgpe2M9dGhpcy5jO2E9YS5oLnRyYWNrczt2YXIgZTtmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKXtlPWFbZF07dmFyIGc9YyxqPWUua2luZCxrPWUubGFiZWwscj1lLmxhbmd1YWdlLG49ZTtlPWcueWE9Zy55YXx8W107bj1ufHx7fTtuLmtpbmQ9ajtuLmxhYmVsPWs7bi5sYW5ndWFnZT1yO2o9dS5aKGp8fFwic3VidGl0bGVzXCIpO2c9bmV3IHdpbmRvdy52aWRlb2pzW2orXCJUcmFja1wiXShnLG4pO2UucHVzaChnKX19fX0pO3UuYWMucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdS5iLnByb3RvdHlwZS5lLmNhbGwodGhpcyxcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtdGV4dC10cmFjay1kaXNwbGF5XCJ9KX07XG51Llg9dS5OLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3ZhciBkPXRoaXMuY2E9Yy50cmFjaztjLmxhYmVsPWQubGFiZWwoKTtjLnNlbGVjdGVkPWQudGIoKTt1Lk4uY2FsbCh0aGlzLGEsYyk7dGhpcy5jLmQoZC5IKCkrXCJ0cmFja2NoYW5nZVwiLHUuYmluZCh0aGlzLHRoaXMudXBkYXRlKSl9fSk7dS5YLnByb3RvdHlwZS5wPWZ1bmN0aW9uKCl7dS5OLnByb3RvdHlwZS5wLmNhbGwodGhpcyk7WCh0aGlzLmMsdGhpcy5jYS5SLHRoaXMuY2EuSCgpKX07dS5YLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkKDI9PXRoaXMuY2EubW9kZSgpKX07dS5lYj11LlguZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7Yy50cmFjaz17SDpmdW5jdGlvbigpe3JldHVybiBjLmtpbmR9LEM6YSxsYWJlbDpmdW5jdGlvbigpe3JldHVybiBjLmtpbmQrXCIgb2ZmXCJ9LHRiOnEobCksbW9kZTpxKGwpfTt1LlguY2FsbCh0aGlzLGEsYyk7dGhpcy5zZWxlY3RlZChmKX19KTtcbnUuZWIucHJvdG90eXBlLnA9ZnVuY3Rpb24oKXt1LlgucHJvdG90eXBlLnAuY2FsbCh0aGlzKTtYKHRoaXMuYyx0aGlzLmNhLlIsdGhpcy5jYS5IKCkpfTt1LmViLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5jLnRleHRUcmFja3MoKSxjPTAsZD1hLmxlbmd0aCxlLGc9ZjtjPGQ7YysrKWU9YVtjXSxlLkgoKT09dGhpcy5jYS5IKCkmJjI9PWUubW9kZSgpJiYoZz1sKTt0aGlzLnNlbGVjdGVkKGcpfTt1LlQ9dS5TLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3UuUy5jYWxsKHRoaXMsYSxjKTsxPj10aGlzLkwubGVuZ3RoJiZ0aGlzLkQoKX19KTtcbnUuVC5wcm90b3R5cGUucWE9ZnVuY3Rpb24oKXt2YXIgYT1bXSxjO2EucHVzaChuZXcgdS5lYih0aGlzLmMse2tpbmQ6dGhpcy5BfSkpO2Zvcih2YXIgZD0wO2Q8dGhpcy5jLnRleHRUcmFja3MoKS5sZW5ndGg7ZCsrKWM9dGhpcy5jLnRleHRUcmFja3MoKVtkXSxjLkgoKT09PXRoaXMuQSYmYS5wdXNoKG5ldyB1LlgodGhpcy5jLHt0cmFjazpjfSkpO3JldHVybiBhfTt1LkJhPXUuVC5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjLGQpe3UuVC5jYWxsKHRoaXMsYSxjLGQpO3RoaXMuYS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsXCJDYXB0aW9ucyBNZW51XCIpfX0pO3UuQmEucHJvdG90eXBlLkE9XCJjYXB0aW9uc1wiO3UuQmEucHJvdG90eXBlLm9hPVwiQ2FwdGlvbnNcIjt1LkJhLnByb3RvdHlwZS5jbGFzc05hbWU9XCJ2anMtY2FwdGlvbnMtYnV0dG9uXCI7XG51LkhhPXUuVC5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjLGQpe3UuVC5jYWxsKHRoaXMsYSxjLGQpO3RoaXMuYS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsXCJTdWJ0aXRsZXMgTWVudVwiKX19KTt1LkhhLnByb3RvdHlwZS5BPVwic3VidGl0bGVzXCI7dS5IYS5wcm90b3R5cGUub2E9XCJTdWJ0aXRsZXNcIjt1LkhhLnByb3RvdHlwZS5jbGFzc05hbWU9XCJ2anMtc3VidGl0bGVzLWJ1dHRvblwiO3UuQ2E9dS5ULmV4dGVuZCh7ajpmdW5jdGlvbihhLGMsZCl7dS5ULmNhbGwodGhpcyxhLGMsZCk7dGhpcy5hLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixcIkNoYXB0ZXJzIE1lbnVcIil9fSk7dD11LkNhLnByb3RvdHlwZTt0LkE9XCJjaGFwdGVyc1wiO3Qub2E9XCJDaGFwdGVyc1wiO3QuY2xhc3NOYW1lPVwidmpzLWNoYXB0ZXJzLWJ1dHRvblwiO1xudC5xYT1mdW5jdGlvbigpe2Zvcih2YXIgYT1bXSxjLGQ9MDtkPHRoaXMuYy50ZXh0VHJhY2tzKCkubGVuZ3RoO2QrKyljPXRoaXMuYy50ZXh0VHJhY2tzKClbZF0sYy5IKCk9PT10aGlzLkEmJmEucHVzaChuZXcgdS5YKHRoaXMuYyx7dHJhY2s6Y30pKTtyZXR1cm4gYX07XG50Lk1hPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuYy50ZXh0VHJhY2tzKCksYz0wLGQ9YS5sZW5ndGgsZSxnLGo9dGhpcy5MPVtdO2M8ZDtjKyspaWYoZT1hW2NdLGUuSCgpPT10aGlzLkEmJmUudGIoKSl7aWYoMj5lLnJlYWR5U3RhdGUoKSl7dGhpcy5OZD1lO2UuZChcImxvYWRlZFwiLHUuYmluZCh0aGlzLHRoaXMuTWEpKTtyZXR1cm59Zz1lO2JyZWFrfWE9dGhpcy51YT1uZXcgdS5sYSh0aGlzLmMpO2EuYS5hcHBlbmRDaGlsZCh1LmUoXCJsaVwiLHtjbGFzc05hbWU6XCJ2anMtbWVudS10aXRsZVwiLGlubmVySFRNTDp1LloodGhpcy5BKSxDZDotMX0pKTtpZihnKXtlPWcuJDtmb3IodmFyIGssYz0wLGQ9ZS5sZW5ndGg7YzxkO2MrKylrPWVbY10saz1uZXcgdS5aYSh0aGlzLmMse3RyYWNrOmcsY3VlOmt9KSxqLnB1c2goayksYS5ZKGspfTA8dGhpcy5MLmxlbmd0aCYmdGhpcy5zaG93KCk7cmV0dXJuIGF9O1xudS5aYT11Lk4uZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9dGhpcy5jYT1jLnRyYWNrLGU9dGhpcy5jdWU9Yy5jdWUsZz1hLmN1cnJlbnRUaW1lKCk7Yy5sYWJlbD1lLnRleHQ7Yy5zZWxlY3RlZD1lLnN0YXJ0VGltZTw9ZyYmZzxlLnNhO3UuTi5jYWxsKHRoaXMsYSxjKTtkLmQoXCJjdWVjaGFuZ2VcIix1LmJpbmQodGhpcyx0aGlzLnVwZGF0ZSkpfX0pO3UuWmEucHJvdG90eXBlLnA9ZnVuY3Rpb24oKXt1Lk4ucHJvdG90eXBlLnAuY2FsbCh0aGlzKTt0aGlzLmMuY3VycmVudFRpbWUodGhpcy5jdWUuc3RhcnRUaW1lKTt0aGlzLnVwZGF0ZSh0aGlzLmN1ZS5zdGFydFRpbWUpfTt1LlphLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmN1ZSxjPXRoaXMuYy5jdXJyZW50VGltZSgpO3RoaXMuc2VsZWN0ZWQoYS5zdGFydFRpbWU8PWMmJmM8YS5zYSl9O1xudS5sLkIodS5EYS5wcm90b3R5cGUuaC5jaGlsZHJlbix7c3VidGl0bGVzQnV0dG9uOnt9LGNhcHRpb25zQnV0dG9uOnt9LGNoYXB0ZXJzQnV0dG9uOnt9fSk7XG5pZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdy5KU09OJiZcImZ1bmN0aW9uXCI9PT13aW5kb3cuSlNPTi5wYXJzZSl1LkpTT049d2luZG93LkpTT047ZWxzZXt1LkpTT049e307dmFyIFo9L1tcXHUwMDAwXFx1MDBhZFxcdTA2MDAtXFx1MDYwNFxcdTA3MGZcXHUxN2I0XFx1MTdiNVxcdTIwMGMtXFx1MjAwZlxcdTIwMjgtXFx1MjAyZlxcdTIwNjAtXFx1MjA2ZlxcdWZlZmZcXHVmZmYwLVxcdWZmZmZdL2c7dS5KU09OLnBhcnNlPWZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gZChhLGUpe3ZhciBrLHIsbj1hW2VdO2lmKG4mJlwib2JqZWN0XCI9PT10eXBlb2Ygbilmb3IoayBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGspJiYocj1kKG4sayksciE9PWI/bltrXT1yOmRlbGV0ZSBuW2tdKTtyZXR1cm4gYy5jYWxsKGEsZSxuKX12YXIgZTthPVN0cmluZyhhKTtaLmxhc3RJbmRleD0wO1oudGVzdChhKSYmKGE9YS5yZXBsYWNlKFosZnVuY3Rpb24oYSl7cmV0dXJuXCJcXFxcdVwiKyhcIjAwMDBcIithLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNCl9KSk7XG5pZigvXltcXF0sOnt9XFxzXSokLy50ZXN0KGEucmVwbGFjZSgvXFxcXCg/OltcIlxcXFxcXC9iZm5ydF18dVswLTlhLWZBLUZdezR9KS9nLFwiQFwiKS5yZXBsYWNlKC9cIlteXCJcXFxcXFxuXFxyXSpcInx0cnVlfGZhbHNlfG51bGx8LT9cXGQrKD86XFwuXFxkKik/KD86W2VFXVsrXFwtXT9cXGQrKT8vZyxcIl1cIikucmVwbGFjZSgvKD86Xnw6fCwpKD86XFxzKlxcWykrL2csXCJcIikpKXJldHVybiBlPWV2YWwoXCIoXCIrYStcIilcIiksXCJmdW5jdGlvblwiPT09dHlwZW9mIGM/ZCh7XCJcIjplfSxcIlwiKTplO3Rocm93IG5ldyBTeW50YXhFcnJvcihcIkpTT04ucGFyc2UoKTogaW52YWxpZCBvciBtYWxmb3JtZWQgSlNPTiBkYXRhXCIpO319XG51LmRjPWZ1bmN0aW9uKCl7dmFyIGEsYyxkPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidmlkZW9cIik7aWYoZCYmMDxkLmxlbmd0aClmb3IodmFyIGU9MCxnPWQubGVuZ3RoO2U8ZztlKyspaWYoKGM9ZFtlXSkmJmMuZ2V0QXR0cmlidXRlKWMucGxheWVyPT09YiYmKGE9Yy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNldHVwXCIpLGEhPT1oJiYoYT11LkpTT04ucGFyc2UoYXx8XCJ7fVwiKSx2aWRlb2pzKGMsYSkpKTtlbHNle3UubGIoKTticmVha31lbHNlIHUuRWN8fHUubGIoKX07dS5sYj1mdW5jdGlvbigpe3NldFRpbWVvdXQodS5kYywxKX07XCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZT91LkVjPWY6dS5VKHdpbmRvdyxcImxvYWRcIixmdW5jdGlvbigpe3UuRWM9Zn0pO3UubGIoKTt1LnNkPWZ1bmN0aW9uKGEsYyl7dS5QbGF5ZXIucHJvdG90eXBlW2FdPWN9O3ZhciBqYT10aGlzO2phLklkPWY7ZnVuY3Rpb24gJChhLGMpe3ZhciBkPWEuc3BsaXQoXCIuXCIpLGU9amE7IShkWzBdaW4gZSkmJmUuZXhlY1NjcmlwdCYmZS5leGVjU2NyaXB0KFwidmFyIFwiK2RbMF0pO2Zvcih2YXIgZztkLmxlbmd0aCYmKGc9ZC5zaGlmdCgpKTspIWQubGVuZ3RoJiZjIT09Yj9lW2ddPWM6ZT1lW2ddP2VbZ106ZVtnXT17fX07JChcInZpZGVvanNcIix1KTskKFwiX1ZfXCIsdSk7JChcInZpZGVvanMub3B0aW9uc1wiLHUub3B0aW9ucyk7JChcInZpZGVvanMucGxheWVyc1wiLHUudmEpOyQoXCJ2aWRlb2pzLlRPVUNIX0VOQUJMRURcIix1LiRiKTskKFwidmlkZW9qcy5jYWNoZVwiLHUucGEpOyQoXCJ2aWRlb2pzLkNvbXBvbmVudFwiLHUuYik7dS5iLnByb3RvdHlwZS5wbGF5ZXI9dS5iLnByb3RvdHlwZS5DO3UuYi5wcm90b3R5cGUub3B0aW9ucz11LmIucHJvdG90eXBlLm9wdGlvbnM7dS5iLnByb3RvdHlwZS5pbml0PXUuYi5wcm90b3R5cGUuajt1LmIucHJvdG90eXBlLmRpc3Bvc2U9dS5iLnByb3RvdHlwZS5kaXNwb3NlO3UuYi5wcm90b3R5cGUuY3JlYXRlRWw9dS5iLnByb3RvdHlwZS5lO3UuYi5wcm90b3R5cGUuY29udGVudEVsPXUuYi5wcm90b3R5cGUuTGE7dS5iLnByb3RvdHlwZS5lbD11LmIucHJvdG90eXBlLnU7dS5iLnByb3RvdHlwZS5hZGRDaGlsZD11LmIucHJvdG90eXBlLlk7XG51LmIucHJvdG90eXBlLmdldENoaWxkPXUuYi5wcm90b3R5cGUuZmE7dS5iLnByb3RvdHlwZS5nZXRDaGlsZEJ5SWQ9dS5iLnByb3RvdHlwZS5lZDt1LmIucHJvdG90eXBlLmNoaWxkcmVuPXUuYi5wcm90b3R5cGUuY2hpbGRyZW47dS5iLnByb3RvdHlwZS5pbml0Q2hpbGRyZW49dS5iLnByb3RvdHlwZS5uYzt1LmIucHJvdG90eXBlLnJlbW92ZUNoaWxkPXUuYi5wcm90b3R5cGUucmVtb3ZlQ2hpbGQ7dS5iLnByb3RvdHlwZS5vbj11LmIucHJvdG90eXBlLmQ7dS5iLnByb3RvdHlwZS5vZmY9dS5iLnByb3RvdHlwZS5vO3UuYi5wcm90b3R5cGUub25lPXUuYi5wcm90b3R5cGUuVTt1LmIucHJvdG90eXBlLnRyaWdnZXI9dS5iLnByb3RvdHlwZS5rO3UuYi5wcm90b3R5cGUudHJpZ2dlclJlYWR5PXUuYi5wcm90b3R5cGUuemE7dS5iLnByb3RvdHlwZS5zaG93PXUuYi5wcm90b3R5cGUuc2hvdzt1LmIucHJvdG90eXBlLmhpZGU9dS5iLnByb3RvdHlwZS5EO1xudS5iLnByb3RvdHlwZS53aWR0aD11LmIucHJvdG90eXBlLndpZHRoO3UuYi5wcm90b3R5cGUuaGVpZ2h0PXUuYi5wcm90b3R5cGUuaGVpZ2h0O3UuYi5wcm90b3R5cGUuZGltZW5zaW9ucz11LmIucHJvdG90eXBlLlljO3UuYi5wcm90b3R5cGUucmVhZHk9dS5iLnByb3RvdHlwZS5JO3UuYi5wcm90b3R5cGUuYWRkQ2xhc3M9dS5iLnByb3RvdHlwZS5uO3UuYi5wcm90b3R5cGUucmVtb3ZlQ2xhc3M9dS5iLnByb3RvdHlwZS50O3UuYi5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcz11LmIucHJvdG90eXBlLlE7dS5QbGF5ZXIucHJvdG90eXBlLmVuZGVkPXUuUGxheWVyLnByb3RvdHlwZS5lbmRlZDskKFwidmlkZW9qcy5NZWRpYUxvYWRlclwiLHUuTmMpOyQoXCJ2aWRlb2pzLlRleHRUcmFja0Rpc3BsYXlcIix1LmFjKTskKFwidmlkZW9qcy5Db250cm9sQmFyXCIsdS5EYSk7JChcInZpZGVvanMuQnV0dG9uXCIsdS5xKTskKFwidmlkZW9qcy5QbGF5VG9nZ2xlXCIsdS5YYik7XG4kKFwidmlkZW9qcy5GdWxsc2NyZWVuVG9nZ2xlXCIsdS5FYSk7JChcInZpZGVvanMuQmlnUGxheUJ1dHRvblwiLHUuWWEpOyQoXCJ2aWRlb2pzLkxvYWRpbmdTcGlubmVyXCIsdS5WYik7JChcInZpZGVvanMuQ3VycmVudFRpbWVEaXNwbGF5XCIsdS4kYSk7JChcInZpZGVvanMuRHVyYXRpb25EaXNwbGF5XCIsdS5hYik7JChcInZpZGVvanMuVGltZURpdmlkZXJcIix1LmJjKTskKFwidmlkZW9qcy5SZW1haW5pbmdUaW1lRGlzcGxheVwiLHUuZ2IpOyQoXCJ2aWRlb2pzLlNsaWRlclwiLHUuTyk7JChcInZpZGVvanMuUHJvZ3Jlc3NDb250cm9sXCIsdS5mYik7JChcInZpZGVvanMuU2Vla0JhclwiLHUuWWIpOyQoXCJ2aWRlb2pzLkxvYWRQcm9ncmVzc0JhclwiLHUuY2IpOyQoXCJ2aWRlb2pzLlBsYXlQcm9ncmVzc0JhclwiLHUuV2IpOyQoXCJ2aWRlb2pzLlNlZWtIYW5kbGVcIix1LkdhKTskKFwidmlkZW9qcy5Wb2x1bWVDb250cm9sXCIsdS5pYik7JChcInZpZGVvanMuVm9sdW1lQmFyXCIsdS5oYik7XG4kKFwidmlkZW9qcy5Wb2x1bWVMZXZlbFwiLHUuY2MpOyQoXCJ2aWRlb2pzLlZvbHVtZU1lbnVCdXR0b25cIix1Lm1hKTskKFwidmlkZW9qcy5Wb2x1bWVIYW5kbGVcIix1LmpiKTskKFwidmlkZW9qcy5NdXRlVG9nZ2xlXCIsdS5lYSk7JChcInZpZGVvanMuUG9zdGVySW1hZ2VcIix1LkZhKTskKFwidmlkZW9qcy5NZW51XCIsdS5sYSk7JChcInZpZGVvanMuTWVudUl0ZW1cIix1Lk4pOyQoXCJ2aWRlb2pzLk1lbnVCdXR0b25cIix1LlMpO3UuUy5wcm90b3R5cGUuY3JlYXRlSXRlbXM9dS5TLnByb3RvdHlwZS5xYTt1LlQucHJvdG90eXBlLmNyZWF0ZUl0ZW1zPXUuVC5wcm90b3R5cGUucWE7dS5DYS5wcm90b3R5cGUuY3JlYXRlSXRlbXM9dS5DYS5wcm90b3R5cGUucWE7JChcInZpZGVvanMuU3VidGl0bGVzQnV0dG9uXCIsdS5IYSk7JChcInZpZGVvanMuQ2FwdGlvbnNCdXR0b25cIix1LkJhKTskKFwidmlkZW9qcy5DaGFwdGVyc0J1dHRvblwiLHUuQ2EpOyQoXCJ2aWRlb2pzLk1lZGlhVGVjaENvbnRyb2xsZXJcIix1LnIpO1xudS5yLnByb3RvdHlwZS5mZWF0dXJlcz11LnIucHJvdG90eXBlLm07dS5yLnByb3RvdHlwZS5tLnZvbHVtZUNvbnRyb2w9dS5yLnByb3RvdHlwZS5tLkRjO3Uuci5wcm90b3R5cGUubS5mdWxsc2NyZWVuUmVzaXplPXUuci5wcm90b3R5cGUubS5PZDt1LnIucHJvdG90eXBlLm0ucHJvZ3Jlc3NFdmVudHM9dS5yLnByb3RvdHlwZS5tLlNkO3Uuci5wcm90b3R5cGUubS50aW1ldXBkYXRlRXZlbnRzPXUuci5wcm90b3R5cGUubS5WZDt1LnIucHJvdG90eXBlLnNldFBvc3Rlcj11LnIucHJvdG90eXBlLkxiOyQoXCJ2aWRlb2pzLkh0bWw1XCIsdS5nKTt1LmcuRXZlbnRzPXUuZy5iYjt1LmcuaXNTdXBwb3J0ZWQ9dS5nLmlzU3VwcG9ydGVkO3UuZy5jYW5QbGF5U291cmNlPXUuZy5uYjt1LmcucGF0Y2hDYW5QbGF5VHlwZT11LmcucmM7dS5nLnVucGF0Y2hDYW5QbGF5VHlwZT11LmcuRmQ7dS5nLnByb3RvdHlwZS5zZXRDdXJyZW50VGltZT11LmcucHJvdG90eXBlLnZkO1xudS5nLnByb3RvdHlwZS5zZXRWb2x1bWU9dS5nLnByb3RvdHlwZS5BZDt1LmcucHJvdG90eXBlLnNldE11dGVkPXUuZy5wcm90b3R5cGUueWQ7dS5nLnByb3RvdHlwZS5zZXRQcmVsb2FkPXUuZy5wcm90b3R5cGUuemQ7dS5nLnByb3RvdHlwZS5zZXRBdXRvcGxheT11LmcucHJvdG90eXBlLnVkO3UuZy5wcm90b3R5cGUuc2V0TG9vcD11LmcucHJvdG90eXBlLnhkO3UuZy5wcm90b3R5cGUuZW50ZXJGdWxsU2NyZWVuPXUuZy5wcm90b3R5cGUuaGM7dS5nLnByb3RvdHlwZS5leGl0RnVsbFNjcmVlbj11LmcucHJvdG90eXBlLmJkOyQoXCJ2aWRlb2pzLkZsYXNoXCIsdS5mKTt1LmYuaXNTdXBwb3J0ZWQ9dS5mLmlzU3VwcG9ydGVkO3UuZi5jYW5QbGF5U291cmNlPXUuZi5uYjt1LmYub25SZWFkeT11LmYub25SZWFkeTskKFwidmlkZW9qcy5UZXh0VHJhY2tcIix1LncpO3Uudy5wcm90b3R5cGUubGFiZWw9dS53LnByb3RvdHlwZS5sYWJlbDt1LncucHJvdG90eXBlLmtpbmQ9dS53LnByb3RvdHlwZS5IO1xudS53LnByb3RvdHlwZS5tb2RlPXUudy5wcm90b3R5cGUubW9kZTt1LncucHJvdG90eXBlLmN1ZXM9dS53LnByb3RvdHlwZS5WYzt1LncucHJvdG90eXBlLmFjdGl2ZUN1ZXM9dS53LnByb3RvdHlwZS5QYzskKFwidmlkZW9qcy5DYXB0aW9uc1RyYWNrXCIsdS5TYik7JChcInZpZGVvanMuU3VidGl0bGVzVHJhY2tcIix1LlpiKTskKFwidmlkZW9qcy5DaGFwdGVyc1RyYWNrXCIsdS5UYik7JChcInZpZGVvanMuYXV0b1NldHVwXCIsdS5kYyk7JChcInZpZGVvanMucGx1Z2luXCIsdS5zZCk7JChcInZpZGVvanMuY3JlYXRlVGltZVJhbmdlXCIsdS5zYik7JChcInZpZGVvanMudXRpbFwiLHUuamEpO3UuamEubWVyZ2VPcHRpb25zPXUuamEuRWI7fSkoKTtcbiJdfQ==
