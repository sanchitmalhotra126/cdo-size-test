//= require codemirror
//= require codemirror/modes/markdown
//= require codemirror/addons/edit/closetag
//= require codemirror/addons/edit/matchtags
//= require codemirror/addons/edit/matchbrackets
//= require codemirror/addons/fold/xml-fold
//= require codemirror/modes/xml
//= require codemirror/modes/javascript
//= require_self
//= require jquery.handsontable.full
function codeMirror(name, mode, callback) {
    var editor = CodeMirror.fromTextArea(document.getElementById('level_' + name), {
        mode: mode,
        htmlMode: false,
        viewportMargin: Infinity,
        matchTags: {bothTags: true},
        autoCloseTags: true
    });
  if (callback) {
    editor.on('change', callback)
  }
}
